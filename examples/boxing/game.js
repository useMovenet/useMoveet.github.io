window.packerplugin={textures : ["texture",]}; window.packerplugin.json={}; window.packerplugin.json['texture'] = '{"frames": {"media/graphics/game/button-small.png": {"frame": {"y": 1860, "x": 1522, "w": 240, "h": 79}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 79, "w": 240}, "spriteSourceSize": {"y": 0, "x": 0, "w": 240, "h": 79}}, "media/graphics/game/arena.png": {"frame": {"y": 2, "x": 2, "w": 960, "h": 540}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 540, "w": 960}, "spriteSourceSize": {"y": 0, "x": 0, "w": 960, "h": 540}}, "media/graphics/game/space.png": {"frame": {"y": 546, "x": 1278, "w": 148, "h": 53}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 53, "w": 148}, "spriteSourceSize": {"y": 0, "x": 0, "w": 148, "h": 53}}, "media/graphics/animation/boxer2/boxer-1/Belt.png": {"frame": {"y": 646, "x": 1402, "w": 27, "h": 65}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 65, "w": 27}, "spriteSourceSize": {"y": 0, "x": 0, "w": 27, "h": 65}}, "media/graphics/animation/boxer3/boxer-1/Left-glove.png": {"frame": {"y": 820, "x": 1998, "w": 45, "h": 31}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 31, "w": 45}, "spriteSourceSize": {"y": 0, "x": 0, "w": 45, "h": 31}}, "media/graphics/animation/boxer1/boxer-1/Left-glove-hook.png": {"frame": {"y": 1976, "x": 1938, "w": 49, "h": 29}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 29, "w": 49}, "spriteSourceSize": {"y": 0, "x": 0, "w": 49, "h": 29}}, "media/graphics/game/hit-effect.png": {"frame": {"y": 682, "x": 548, "w": 390, "h": 130}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 130, "w": 390}, "spriteSourceSize": {"y": 0, "x": 0, "w": 390, "h": 130}}, "media/graphics/animation/boxer3/boxer-1/Chest-cross.png": {"frame": {"y": 1975, "x": 2, "w": 84, "h": 68}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 68, "w": 84}, "spriteSourceSize": {"y": 0, "x": 0, "w": 84, "h": 68}}, "media/graphics/animation/boxer1/boxer-1/Right-foot.png": {"frame": {"y": 1919, "x": 1996, "w": 50, "h": 52}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 52, "w": 50}, "spriteSourceSize": {"y": 0, "x": 0, "w": 50, "h": 52}}, "media/graphics/animation/boxer3/boxer-1/Left-thigh.png": {"frame": {"y": 201, "x": 1930, "w": 98, "h": 52}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 52, "w": 98}, "spriteSourceSize": {"y": 0, "x": 0, "w": 98, "h": 52}}, "media/graphics/animation/boxer3/boxer-1/Chest.png": {"frame": {"y": 1860, "x": 1766, "w": 84, "h": 66}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 66, "w": 84}, "spriteSourceSize": {"y": 0, "x": 0, "w": 84, "h": 66}}, "media/graphics/animation/boxer3/boxer-1/Left-glove-hook.png": {"frame": {"y": 2014, "x": 1744, "w": 49, "h": 30}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 30, "w": 49}, "spriteSourceSize": {"y": 0, "x": 0, "w": 49, "h": 30}}, "media/graphics/animation/boxer4/boxer-1/Right-glove-guard.png": {"frame": {"y": 1215, "x": 1998, "w": 42, "h": 31}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 31, "w": 42}, "spriteSourceSize": {"y": 0, "x": 0, "w": 42, "h": 31}}, "media/graphics/animation/boxer2/boxer-1/Left-leg.png": {"frame": {"y": 610, "x": 896, "w": 89, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 89}, "spriteSourceSize": {"y": 0, "x": 0, "w": 89, "h": 32}}, "media/graphics/game/button-more.png": {"frame": {"y": 1962, "x": 964, "w": 240, "h": 80}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 80, "w": 240}, "spriteSourceSize": {"y": 0, "x": 0, "w": 240, "h": 80}}, "media/graphics/animation/boxer4/boxer-1/Right-leg.png": {"frame": {"y": 845, "x": 1278, "w": 93, "h": 28}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 28, "w": 93}, "spriteSourceSize": {"y": 0, "x": 0, "w": 93, "h": 28}}, "media/graphics/game/light2_.png": {"frame": {"y": 659, "x": 1452, "w": 542, "h": 540}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 540, "w": 542}, "spriteSourceSize": {"y": 0, "x": 0, "w": 542, "h": 540}}, "media/graphics/animation/boxer3/boxer-1/Left-foot.png": {"frame": {"y": 1473, "x": 1998, "w": 36, "h": 61}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 61, "w": 36}, "spriteSourceSize": {"y": 0, "x": 0, "w": 36, "h": 61}}, "media/graphics/game/button-on.png": {"frame": {"y": 1860, "x": 1278, "w": 240, "h": 79}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 79, "w": 240}, "spriteSourceSize": {"y": 0, "x": 0, "w": 240, "h": 79}}, "media/graphics/animation/boxer1/boxer-1/Belt.png": {"frame": {"y": 1791, "x": 1998, "w": 27, "h": 65}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 65, "w": 27}, "spriteSourceSize": {"y": 0, "x": 0, "w": 27, "h": 65}}, "media/graphics/animation/boxer2/boxer-1/Head.png": {"frame": {"y": 1747, "x": 1278, "w": 58, "h": 56}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 56, "w": 58}, "spriteSourceSize": {"y": 0, "x": 0, "w": 58, "h": 56}}, "media/graphics/sprites/btn_more_games.png": {"frame": {"y": 1780, "x": 1485, "w": 64, "h": 66}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 66, "w": 64}, "spriteSourceSize": {"y": 0, "x": 0, "w": 64, "h": 66}}, "media/graphics/animation/boxer4/boxer-1/Left-thigh.png": {"frame": {"y": 512, "x": 1930, "w": 96, "h": 51}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 51, "w": 96}, "spriteSourceSize": {"y": 0, "x": 0, "w": 96, "h": 51}}, "media/graphics/animation/boxer1/boxer-1/Right-glove-guard.png": {"frame": {"y": 1180, "x": 1998, "w": 42, "h": 31}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 31, "w": 42}, "spriteSourceSize": {"y": 0, "x": 0, "w": 42, "h": 31}}, "media/graphics/animation/boxer1/boxer-1/Left-thigh.png": {"frame": {"y": 145, "x": 1930, "w": 98, "h": 52}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 52, "w": 98}, "spriteSourceSize": {"y": 0, "x": 0, "w": 98, "h": 52}}, "media/graphics/animation/boxer5/boxer-1/Right-glove-guard.png": {"frame": {"y": 1250, "x": 1998, "w": 42, "h": 31}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 31, "w": 42}, "spriteSourceSize": {"y": 0, "x": 0, "w": 42, "h": 31}}, "media/graphics/game/keyboard-tile.png": {"frame": {"y": 691, "x": 1998, "w": 46, "h": 53}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 53, "w": 46}, "spriteSourceSize": {"y": 0, "x": 0, "w": 46, "h": 53}}, "media/graphics/game/btn-play.png": {"frame": {"y": 1962, "x": 529, "w": 83, "h": 83}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 83, "w": 83}, "spriteSourceSize": {"y": 0, "x": 0, "w": 83, "h": 83}}, "media/graphics/animation/boxer5/boxer-1/Head.png": {"frame": {"y": 1747, "x": 1340, "w": 58, "h": 55}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 55, "w": 58}, "spriteSourceSize": {"y": 0, "x": 0, "w": 58, "h": 55}}, "media/graphics/animation/boxer2/boxer-1/Right-foot.png": {"frame": {"y": 1807, "x": 1940, "w": 52, "h": 53}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 53, "w": 52}, "spriteSourceSize": {"y": 0, "x": 0, "w": 52, "h": 53}}, "media/graphics/game/button-off.png": {"frame": {"y": 546, "x": 1028, "w": 240, "h": 79}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 79, "w": 240}, "spriteSourceSize": {"y": 0, "x": 0, "w": 240, "h": 79}}, "media/graphics/animation/boxer3/boxer-1/Left-leg.png": {"frame": {"y": 610, "x": 1310, "w": 88, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 88}, "spriteSourceSize": {"y": 0, "x": 0, "w": 88, "h": 32}}, "media/graphics/animation/boxer4/boxer-1/Right-forearm.png": {"frame": {"y": 874, "x": 1375, "w": 59, "h": 23}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 23, "w": 59}, "spriteSourceSize": {"y": 0, "x": 0, "w": 59, "h": 23}}, "media/graphics/animation/boxer5/boxer-1/Left-arm.png": {"frame": {"y": 610, "x": 1774, "w": 72, "h": 30}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 30, "w": 72}, "spriteSourceSize": {"y": 0, "x": 0, "w": 72, "h": 30}}, "media/graphics/game/letter-box.png": {"frame": {"y": 610, "x": 659, "w": 33, "h": 44}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 44, "w": 33}, "spriteSourceSize": {"y": 0, "x": 0, "w": 33, "h": 44}}, "media/graphics/animation/boxer3/boxer-1/Right-glove-guard.png": {"frame": {"y": 999, "x": 1998, "w": 43, "h": 33}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 33, "w": 43}, "spriteSourceSize": {"y": 0, "x": 0, "w": 43, "h": 33}}, "media/graphics/animation/boxer1/boxer-1/Chest-cross.png": {"frame": {"y": 1975, "x": 90, "w": 83, "h": 68}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 68, "w": 83}, "spriteSourceSize": {"y": 0, "x": 0, "w": 83, "h": 68}}, "media/graphics/animation/boxer1/boxer-1/Left-foot.png": {"frame": {"y": 1408, "x": 1998, "w": 36, "h": 61}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 61, "w": 36}, "spriteSourceSize": {"y": 0, "x": 0, "w": 36, "h": 61}}, "media/graphics/game/button-maximize.png": {"frame": {"y": 1962, "x": 703, "w": 83, "h": 83}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 83, "w": 83}, "spriteSourceSize": {"y": 0, "x": 0, "w": 83, "h": 83}}, "media/graphics/animation/boxer4/boxer-1/Right-glove.png": {"frame": {"y": 1108, "x": 1998, "w": 43, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 43}, "spriteSourceSize": {"y": 0, "x": 0, "w": 43, "h": 32}}, "media/graphics/animation/boxer3/boxer-1/Right-arm.png": {"frame": {"y": 748, "x": 1309, "w": 72, "h": 29}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 29, "w": 72}, "spriteSourceSize": {"y": 0, "x": 0, "w": 72, "h": 29}}, "media/graphics/animation/boxer4/boxer-1/Chest-cross.png": {"frame": {"y": 1860, "x": 1854, "w": 82, "h": 66}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 66, "w": 82}, "spriteSourceSize": {"y": 0, "x": 0, "w": 82, "h": 66}}, "media/graphics/animation/boxer3/boxer-1/Right-foot.png": {"frame": {"y": 1975, "x": 1996, "w": 50, "h": 52}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 52, "w": 50}, "spriteSourceSize": {"y": 0, "x": 0, "w": 50, "h": 52}}, "media/graphics/animation/boxer2/boxer-1/Right-glove.png": {"frame": {"y": 1036, "x": 1998, "w": 43, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 43}, "spriteSourceSize": {"y": 0, "x": 0, "w": 43, "h": 32}}, "media/graphics/game/backspace-l.png": {"frame": {"y": 546, "x": 548, "w": 204, "h": 60}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 60, "w": 204}, "spriteSourceSize": {"y": 0, "x": 0, "w": 204, "h": 60}}, "media/graphics/game/dust.png": {"frame": {"y": 610, "x": 1492, "w": 32, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 32}, "spriteSourceSize": {"y": 0, "x": 0, "w": 32, "h": 32}}, "media/graphics/misc/enter-fullscreen-transparent.png": {"frame": {"y": 546, "x": 964, "w": 60, "h": 60}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 60, "w": 60}, "spriteSourceSize": {"y": 0, "x": 0, "w": 60, "h": 60}}, "media/graphics/animation/boxer5/boxer-1/Right-foot.png": {"frame": {"y": 1864, "x": 1940, "w": 51, "h": 52}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 52, "w": 51}, "spriteSourceSize": {"y": 0, "x": 0, "w": 51, "h": 52}}, "media/graphics/game/light.png": {"frame": {"y": 567, "x": 2, "w": 542, "h": 540}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 540, "w": 542}, "spriteSourceSize": {"y": 0, "x": 0, "w": 542, "h": 540}}, "media/graphics/animation/boxer5/boxer-1/Right-leg.png": {"frame": {"y": 1747, "x": 1474, "w": 94, "h": 29}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 29, "w": 94}, "spriteSourceSize": {"y": 0, "x": 0, "w": 94, "h": 29}}, "media/graphics/game/game-bar-bg.png": {"frame": {"y": 1943, "x": 1452, "w": 235, "h": 100}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 100, "w": 235}, "spriteSourceSize": {"y": 0, "x": 0, "w": 235, "h": 100}}, "media/graphics/animation/boxer4/boxer-1/Left-glove-hook.png": {"frame": {"y": 659, "x": 1998, "w": 48, "h": 28}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 28, "w": 48}, "spriteSourceSize": {"y": 0, "x": 0, "w": 48, "h": 28}}, "media/graphics/game/ko.png": {"frame": {"y": 1655, "x": 314, "w": 960, "h": 303}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 303, "w": 960}, "spriteSourceSize": {"y": 0, "x": 0, "w": 960, "h": 303}}, "media/graphics/game/bar-energy-left.png": {"frame": {"y": 546, "x": 2, "w": 119, "h": 11}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 11, "w": 119}, "spriteSourceSize": {"y": 0, "x": 0, "w": 119, "h": 11}}, "media/graphics/game/keyboard-tile-l.png": {"frame": {"y": 567, "x": 1900, "w": 138, "h": 60}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 60, "w": 138}, "spriteSourceSize": {"y": 0, "x": 0, "w": 138, "h": 60}}, "media/graphics/animation/boxer3/boxer-1/Head.png": {"frame": {"y": 1807, "x": 1332, "w": 50, "h": 49}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 49, "w": 50}, "spriteSourceSize": {"y": 0, "x": 0, "w": 50, "h": 49}}, "media/graphics/animation/boxer5/boxer-1/Belt.png": {"frame": {"y": 1722, "x": 1998, "w": 28, "h": 65}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 65, "w": 28}, "spriteSourceSize": {"y": 0, "x": 0, "w": 28, "h": 65}}, "media/graphics/animation/boxer1/boxer-1/Chest.png": {"frame": {"y": 1930, "x": 1779, "w": 83, "h": 66}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 66, "w": 83}, "spriteSourceSize": {"y": 0, "x": 0, "w": 83, "h": 66}}, "media/graphics/game/icon-character-1.png": {"frame": {"y": 1860, "x": 1996, "w": 50, "h": 55}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 55, "w": 50}, "spriteSourceSize": {"y": 0, "x": 0, "w": 50, "h": 55}}, "media/graphics/misc/exit-fullscreen-transparent.png": {"frame": {"y": 1780, "x": 1553, "w": 60, "h": 60}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 60, "w": 60}, "spriteSourceSize": {"y": 0, "x": 0, "w": 60, "h": 60}}, "media/graphics/game/enemy-hp-bar-bg.png": {"frame": {"y": 2, "x": 1930, "w": 100, "h": 14}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 14, "w": 100}, "spriteSourceSize": {"y": 0, "x": 0, "w": 100, "h": 14}}, "media/graphics/animation/boxer4/boxer-1/Right-foot.png": {"frame": {"y": 1920, "x": 1940, "w": 50, "h": 52}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 52, "w": 50}, "spriteSourceSize": {"y": 0, "x": 0, "w": 50, "h": 52}}, "media/graphics/animation/boxer4/boxer-1/Right-arm.png": {"frame": {"y": 1930, "x": 1866, "w": 70, "h": 28}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 28, "w": 70}, "spriteSourceSize": {"y": 0, "x": 0, "w": 70, "h": 28}}, "media/graphics/animation/boxer5/boxer-1/Right-arm.png": {"frame": {"y": 815, "x": 1376, "w": 71, "h": 28}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 28, "w": 71}, "spriteSourceSize": {"y": 0, "x": 0, "w": 71, "h": 28}}, "media/graphics/animation/boxer1/boxer-1/Left-forearm.png": {"frame": {"y": 629, "x": 1182, "w": 60, "h": 23}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 23, "w": 60}, "spriteSourceSize": {"y": 0, "x": 0, "w": 60, "h": 23}}, "media/graphics/animation/boxer2/boxer-1/Left-thigh.png": {"frame": {"y": 88, "x": 1930, "w": 98, "h": 53}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 53, "w": 98}, "spriteSourceSize": {"y": 0, "x": 0, "w": 98, "h": 53}}, "media/graphics/animation/boxer1/boxer-1/Left-arm.png": {"frame": {"y": 783, "x": 1376, "w": 71, "h": 28}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 28, "w": 71}, "spriteSourceSize": {"y": 0, "x": 0, "w": 71, "h": 28}}, "media/graphics/game/btn-home.png": {"frame": {"y": 1962, "x": 442, "w": 83, "h": 83}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 83, "w": 83}, "spriteSourceSize": {"y": 0, "x": 0, "w": 83, "h": 83}}, "media/graphics/animation/boxer3/boxer-1/Left-arm.png": {"frame": {"y": 656, "x": 1182, "w": 73, "h": 29}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 29, "w": 73}, "spriteSourceSize": {"y": 0, "x": 0, "w": 73, "h": 29}}, "media/graphics/animation/boxer2/boxer-1/Right-arm.png": {"frame": {"y": 610, "x": 1697, "w": 73, "h": 30}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 30, "w": 73}, "spriteSourceSize": {"y": 0, "x": 0, "w": 73, "h": 30}}, "media/graphics/animation/boxer3/boxer-1/Right-forearm.png": {"frame": {"y": 2000, "x": 1797, "w": 59, "h": 23}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 23, "w": 59}, "spriteSourceSize": {"y": 0, "x": 0, "w": 59, "h": 23}}, "media/graphics/animation/boxer3/boxer-1/Right-thigh.png": {"frame": {"y": 313, "x": 1930, "w": 98, "h": 46}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 46, "w": 98}, "spriteSourceSize": {"y": 0, "x": 0, "w": 98, "h": 46}}, "media/graphics/animation/boxer2/boxer-1/Right-leg.png": {"frame": {"y": 1806, "x": 1386, "w": 95, "h": 29}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 29, "w": 95}, "spriteSourceSize": {"y": 0, "x": 0, "w": 95, "h": 29}}, "media/graphics/game/bgm.png": {"frame": {"y": 1285, "x": 1998, "w": 38, "h": 53}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 53, "w": 38}, "spriteSourceSize": {"y": 0, "x": 0, "w": 38, "h": 53}}, "media/graphics/animation/boxer5/boxer-1/Right-thigh.png": {"frame": {"y": 413, "x": 1930, "w": 97, "h": 46}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 46, "w": 97}, "spriteSourceSize": {"y": 0, "x": 0, "w": 97, "h": 46}}, "media/graphics/animation/boxer2/boxer-1/Left-forearm.png": {"frame": {"y": 629, "x": 1054, "w": 60, "h": 24}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 24, "w": 60}, "spriteSourceSize": {"y": 0, "x": 0, "w": 60, "h": 24}}, "media/graphics/animation/boxer1/boxer-1/Right-arm.png": {"frame": {"y": 715, "x": 1309, "w": 72, "h": 29}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 29, "w": 72}, "spriteSourceSize": {"y": 0, "x": 0, "w": 72, "h": 29}}, "media/graphics/animation/boxer4/boxer-1/Left-glove.png": {"frame": {"y": 964, "x": 1998, "w": 44, "h": 31}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 31, "w": 44}, "spriteSourceSize": {"y": 0, "x": 0, "w": 44, "h": 31}}, "media/graphics/animation/boxer2/boxer-1/Right-thigh.png": {"frame": {"y": 38, "x": 1930, "w": 99, "h": 46}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 46, "w": 99}, "spriteSourceSize": {"y": 0, "x": 0, "w": 99, "h": 46}}, "media/graphics/animation/boxer3/boxer-1/Right-leg.png": {"frame": {"y": 781, "x": 1278, "w": 94, "h": 28}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 28, "w": 94}, "spriteSourceSize": {"y": 0, "x": 0, "w": 94, "h": 28}}, "media/graphics/game/space-l.png": {"frame": {"y": 546, "x": 1452, "w": 444, "h": 60}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 60, "w": 444}, "spriteSourceSize": {"y": 0, "x": 0, "w": 444, "h": 60}}, "media/graphics/animation/boxer3/boxer-1/Belt.png": {"frame": {"y": 656, "x": 1278, "w": 27, "h": 65}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 65, "w": 27}, "spriteSourceSize": {"y": 0, "x": 0, "w": 27, "h": 65}}, "media/graphics/game/sfx.png": {"frame": {"y": 1538, "x": 1998, "w": 36, "h": 51}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 51, "w": 36}, "spriteSourceSize": {"y": 0, "x": 0, "w": 36, "h": 51}}, "media/graphics/game/letter-box-success.png": {"frame": {"y": 610, "x": 585, "w": 33, "h": 44}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 44, "w": 33}, "spriteSourceSize": {"y": 0, "x": 0, "w": 33, "h": 44}}, "media/graphics/animation/boxer4/boxer-1/Head.png": {"frame": {"y": 1747, "x": 1940, "w": 52, "h": 56}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 56, "w": 52}, "spriteSourceSize": {"y": 0, "x": 0, "w": 52, "h": 56}}, "media/graphics/animation/boxer5/boxer-1/Chest-cross.png": {"frame": {"y": 1975, "x": 177, "w": 83, "h": 68}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 68, "w": 83}, "spriteSourceSize": {"y": 0, "x": 0, "w": 83, "h": 68}}, "media/graphics/game/keyboard-tile2-l.png": {"frame": {"y": 546, "x": 756, "w": 204, "h": 60}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 60, "w": 204}, "spriteSourceSize": {"y": 0, "x": 0, "w": 204, "h": 60}}, "media/graphics/animation/boxer3/boxer-1/Right-glove.png": {"frame": {"y": 1072, "x": 1998, "w": 43, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 43}, "spriteSourceSize": {"y": 0, "x": 0, "w": 43, "h": 32}}, "media/graphics/game/keyboard-tile2.png": {"frame": {"y": 1747, "x": 1402, "w": 68, "h": 53}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 53, "w": 68}, "spriteSourceSize": {"y": 0, "x": 0, "w": 68, "h": 53}}, "media/graphics/animation/boxer5/boxer-1/Chest.png": {"frame": {"y": 1943, "x": 1691, "w": 84, "h": 67}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 67, "w": 84}, "spriteSourceSize": {"y": 0, "x": 0, "w": 84, "h": 67}}, "media/graphics/animation/boxer5/boxer-1/Left-foot.png": {"frame": {"y": 1593, "x": 1998, "w": 35, "h": 61}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 61, "w": 35}, "spriteSourceSize": {"y": 0, "x": 0, "w": 35, "h": 61}}, "media/graphics/animation/boxer1/boxer-1/Head.png": {"frame": {"y": 1807, "x": 1278, "w": 50, "h": 49}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 49, "w": 50}, "spriteSourceSize": {"y": 0, "x": 0, "w": 50, "h": 49}}, "media/graphics/animation/boxer2/boxer-1/Left-foot.png": {"frame": {"y": 1342, "x": 1998, "w": 36, "h": 62}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 62, "w": 36}, "spriteSourceSize": {"y": 0, "x": 0, "w": 36, "h": 62}}, "media/graphics/animation/boxer1/boxer-1/Left-glove.png": {"frame": {"y": 748, "x": 1998, "w": 45, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 45}, "spriteSourceSize": {"y": 0, "x": 0, "w": 45, "h": 32}}, "media/graphics/game/enemy-hp-bar-fg.png": {"frame": {"y": 20, "x": 1930, "w": 100, "h": 14}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 14, "w": 100}, "spriteSourceSize": {"y": 0, "x": 0, "w": 100, "h": 14}}, "media/graphics/animation/boxer5/boxer-1/Left-thigh.png": {"frame": {"y": 257, "x": 1930, "w": 98, "h": 52}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 52, "w": 98}, "spriteSourceSize": {"y": 0, "x": 0, "w": 98, "h": 52}}, "media/graphics/game/button-minimize.png": {"frame": {"y": 1962, "x": 790, "w": 83, "h": 83}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 83, "w": 83}, "spriteSourceSize": {"y": 0, "x": 0, "w": 83, "h": 83}}, "media/graphics/game/light_.png": {"frame": {"y": 1203, "x": 1452, "w": 542, "h": 540}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 540, "w": 542}, "spriteSourceSize": {"y": 0, "x": 0, "w": 542, "h": 540}}, "media/graphics/game/letter-box-wrong.png": {"frame": {"y": 610, "x": 622, "w": 33, "h": 44}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 44, "w": 33}, "spriteSourceSize": {"y": 0, "x": 0, "w": 33, "h": 44}}, "media/graphics/animation/boxer1/boxer-1/Right-thigh.png": {"frame": {"y": 463, "x": 1930, "w": 97, "h": 45}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 45, "w": 97}, "spriteSourceSize": {"y": 0, "x": 0, "w": 97, "h": 45}}, "media/graphics/game/button-settings.png": {"frame": {"y": 1962, "x": 877, "w": 83, "h": 83}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 83, "w": 83}, "spriteSourceSize": {"y": 0, "x": 0, "w": 83, "h": 83}}, "media/graphics/game/bg-popup.png": {"frame": {"y": 2, "x": 966, "w": 960, "h": 540}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 540, "w": 960}, "spriteSourceSize": {"y": 0, "x": 0, "w": 960, "h": 540}}, "media/graphics/animation/boxer2/boxer-1/Left-glove-hook.png": {"frame": {"y": 2014, "x": 1691, "w": 49, "h": 30}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 30, "w": 49}, "spriteSourceSize": {"y": 0, "x": 0, "w": 49, "h": 30}}, "media/graphics/game/letter-box-current.png": {"frame": {"y": 610, "x": 548, "w": 33, "h": 44}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 44, "w": 33}, "spriteSourceSize": {"y": 0, "x": 0, "w": 33, "h": 44}}, "media/graphics/animation/boxer1/boxer-1/Right-glove.png": {"frame": {"y": 892, "x": 1998, "w": 44, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 44}, "spriteSourceSize": {"y": 0, "x": 0, "w": 44, "h": 32}}, "media/graphics/game/btn-replay.png": {"frame": {"y": 1962, "x": 616, "w": 83, "h": 83}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 83, "w": 83}, "spriteSourceSize": {"y": 0, "x": 0, "w": 83, "h": 83}}, "media/graphics/game/button-start.png": {"frame": {"y": 1962, "x": 1208, "w": 240, "h": 80}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 80, "w": 240}, "spriteSourceSize": {"y": 0, "x": 0, "w": 240, "h": 80}}, "media/graphics/animation/boxer1/boxer-1/Right-forearm.png": {"frame": {"y": 2019, "x": 1930, "w": 59, "h": 23}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 23, "w": 59}, "spriteSourceSize": {"y": 0, "x": 0, "w": 59, "h": 23}}, "media/graphics/animation/boxer5/boxer-1/Left-leg.png": {"frame": {"y": 610, "x": 1528, "w": 88, "h": 31}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 31, "w": 88}, "spriteSourceSize": {"y": 0, "x": 0, "w": 88, "h": 31}}, "media/graphics/animation/boxer4/boxer-1/Belt.png": {"frame": {"y": 715, "x": 1402, "w": 27, "h": 64}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 64, "w": 27}, "spriteSourceSize": {"y": 0, "x": 0, "w": 27, "h": 64}}, "media/graphics/game/light2.png": {"frame": {"y": 1111, "x": 2, "w": 542, "h": 540}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 540, "w": 542}, "spriteSourceSize": {"y": 0, "x": 0, "w": 542, "h": 540}}, "media/graphics/animation/boxer2/boxer-1/Chest-cross.png": {"frame": {"y": 1975, "x": 264, "w": 85, "h": 67}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 67, "w": 85}, "spriteSourceSize": {"y": 0, "x": 0, "w": 85, "h": 67}}, "media/graphics/animation/boxer2/boxer-1/Chest.png": {"frame": {"y": 1975, "x": 353, "w": 85, "h": 67}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 67, "w": 85}, "spriteSourceSize": {"y": 0, "x": 0, "w": 85, "h": 67}}, "media/graphics/animation/boxer4/boxer-1/Left-arm.png": {"frame": {"y": 1747, "x": 1572, "w": 71, "h": 29}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 29, "w": 71}, "spriteSourceSize": {"y": 0, "x": 0, "w": 71, "h": 29}}, "media/graphics/animation/boxer5/boxer-1/Right-forearm.png": {"frame": {"y": 629, "x": 1118, "w": 60, "h": 24}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 24, "w": 60}, "spriteSourceSize": {"y": 0, "x": 0, "w": 60, "h": 24}}, "media/graphics/animation/boxer2/boxer-1/Left-glove.png": {"frame": {"y": 784, "x": 1998, "w": 45, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 45}, "spriteSourceSize": {"y": 0, "x": 0, "w": 45, "h": 32}}, "media/graphics/animation/boxer1/boxer-1/Left-leg.png": {"frame": {"y": 646, "x": 896, "w": 88, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 88}, "spriteSourceSize": {"y": 0, "x": 0, "w": 88, "h": 32}}, "media/graphics/animation/boxer4/boxer-1/Chest.png": {"frame": {"y": 646, "x": 1310, "w": 82, "h": 65}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 65, "w": 82}, "spriteSourceSize": {"y": 0, "x": 0, "w": 82, "h": 65}}, "media/graphics/animation/boxer2/boxer-1/Left-arm.png": {"frame": {"y": 610, "x": 1620, "w": 73, "h": 30}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 30, "w": 73}, "spriteSourceSize": {"y": 0, "x": 0, "w": 73, "h": 30}}, "media/graphics/animation/boxer2/boxer-1/Right-forearm.png": {"frame": {"y": 629, "x": 989, "w": 61, "h": 24}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 24, "w": 61}, "spriteSourceSize": {"y": 0, "x": 0, "w": 61, "h": 24}}, "media/graphics/game/backspace.png": {"frame": {"y": 1962, "x": 1866, "w": 68, "h": 53}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 53, "w": 68}, "spriteSourceSize": {"y": 0, "x": 0, "w": 68, "h": 53}}, "media/graphics/animation/boxer5/boxer-1/Right-glove.png": {"frame": {"y": 1144, "x": 1998, "w": 43, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 43}, "spriteSourceSize": {"y": 0, "x": 0, "w": 43, "h": 32}}, "media/graphics/animation/boxer1/boxer-1/Right-leg.png": {"frame": {"y": 813, "x": 1278, "w": 93, "h": 28}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 28, "w": 93}, "spriteSourceSize": {"y": 0, "x": 0, "w": 93, "h": 28}}, "media/graphics/game/title.png": {"frame": {"y": 1655, "x": 2, "w": 308, "h": 316}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 316, "w": 308}, "spriteSourceSize": {"y": 0, "x": 0, "w": 308, "h": 316}}, "media/graphics/animation/boxer4/boxer-1/Left-foot.png": {"frame": {"y": 1658, "x": 1998, "w": 35, "h": 60}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 60, "w": 35}, "spriteSourceSize": {"y": 0, "x": 0, "w": 35, "h": 60}}, "media/graphics/animation/boxer5/boxer-1/Left-forearm.png": {"frame": {"y": 2019, "x": 1866, "w": 60, "h": 23}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 23, "w": 60}, "spriteSourceSize": {"y": 0, "x": 0, "w": 60, "h": 23}}, "media/graphics/animation/boxer4/boxer-1/Right-thigh.png": {"frame": {"y": 363, "x": 1930, "w": 97, "h": 46}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 46, "w": 97}, "spriteSourceSize": {"y": 0, "x": 0, "w": 97, "h": 46}}, "media/graphics/animation/boxer3/boxer-1/Left-forearm.png": {"frame": {"y": 629, "x": 1246, "w": 60, "h": 23}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 23, "w": 60}, "spriteSourceSize": {"y": 0, "x": 0, "w": 60, "h": 23}}, "media/graphics/animation/boxer4/boxer-1/Left-leg.png": {"frame": {"y": 610, "x": 1402, "w": 86, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 86}, "spriteSourceSize": {"y": 0, "x": 0, "w": 86, "h": 32}}, "media/graphics/animation/boxer5/boxer-1/Left-glove.png": {"frame": {"y": 928, "x": 1998, "w": 44, "h": 32}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 32, "w": 44}, "spriteSourceSize": {"y": 0, "x": 0, "w": 44, "h": 32}}, "media/graphics/animation/boxer4/boxer-1/Left-forearm.png": {"frame": {"y": 847, "x": 1375, "w": 59, "h": 23}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 23, "w": 59}, "spriteSourceSize": {"y": 0, "x": 0, "w": 59, "h": 23}}, "media/graphics/animation/boxer5/boxer-1/Left-glove-hook.png": {"frame": {"y": 1747, "x": 1647, "w": 49, "h": 29}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 29, "w": 49}, "spriteSourceSize": {"y": 0, "x": 0, "w": 49, "h": 29}}, "media/graphics/game/bar-health-left.png": {"frame": {"y": 631, "x": 1900, "w": 135, "h": 24}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 24, "w": 135}, "spriteSourceSize": {"y": 0, "x": 0, "w": 135, "h": 24}}, "media/graphics/game/shadow.png": {"frame": {"y": 610, "x": 696, "w": 196, "h": 42}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 42, "w": 196}, "spriteSourceSize": {"y": 0, "x": 0, "w": 196, "h": 42}}, "media/graphics/animation/boxer2/boxer-1/Right-glove-guard.png": {"frame": {"y": 855, "x": 1998, "w": 44, "h": 33}, "rotated": false, "trimmed": false, "pivot": {"y": 0.5, "x": 0.5}, "sourceSize": {"h": 33, "w": 44}, "spriteSourceSize": {"y": 0, "x": 0, "w": 44, "h": 33}}}, "meta": {"scale": 1, "format": "RGBA8888", "app": "http://github.com/odrick/free-tex-packer-cli", "version": "0.3.0", "image": "texture.png", "size": {"h": 2047, "w": 2048}}}';
var _STRINGS={Ad:{Mobile:{Preroll:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"},Header:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"},End:{ReadyIn:"Advertisement ends in ",Loading:"Please wait ...",Close:"Close"}}},Splash:{Loading:"Loading ...",LogoLine1:"Some text here",LogoLine2:"powered by MarketJS",LogoLine3:"none",TapToStart:"TAP TO START"},Game:{Score:"SCORE",Settings:"SETTINGS",Paused:"PAUSED",ON:"ON",OFF:"OFF",GameOver:"GAME OVER",
Score:"SCORE",Best:"BEST",HitCombo:"HIT COMBO",Start:"START",MoreGames:"MORE GAMES",PerfectText:"PERFECT",BonusScore:"POINTS",BonusHP:"HP",PowerUp:"RAPID COMBO",Accuracy:"ACCURACY",Tutorial:{Next:"NEXT",Skip:"SKIP",Texts:["TYPE THE TEXT SHOWN IN THE BOXES","TYPE PERFECTLY FOR BONUSES","FILL ENERGY FOR KO COMBO","MAKE SURE TO TYPE THE LAST CHARACTER CORRECTLY"]}},TextGame:{"short":[{id:3,text:"CHOOSE TO SHINE",type:"short"},{id:4,text:"NEVER STOP DREAMING",type:"short"},{id:5,text:"MISTAKES ARE HUMAN",
type:"short"},{id:6,text:"PROVE THEM WRONG",type:"short"},{id:7,text:"TALK IS CHEAP",type:"short"},{id:18,text:"KEEP MOVING FORWARD",type:"short"},{id:25,text:"LIVE THE MOMENT",type:"short"},{id:26,text:"FOLLOW YOUR HEART",type:"short"},{id:28,text:"ANYTHING IS POSSIBLE",type:"short"},{id:29,text:"GROW YOUR MIND",type:"short"},{id:31,text:"NEVER GIVE UP",type:"short"},{id:32,text:"LOVE FOR ALL",type:"short"},{id:36,text:"JUST DO IT",type:"short"},{id:37,text:"STRIVE FOR GREATNESS",type:"short"},{id:46,
text:"DREAM WITHOUT FEAR",type:"short"},{id:47,text:"LOVE WITHOUT LIMITS",type:"short"},{id:48,text:"OPEN YOUR MIND",type:"short"},{id:51,text:"CHOOSE HAPPY",type:"short"},{id:53,text:"LOVE CONQUERS ALL",type:"short"},{id:59,text:"EVERY MOMENT MATTERS",type:"short"},{id:67,text:"PAIN IS INEVITABLE",type:"short"},{id:78,text:"MAKE IT HAPPEN",type:"short"},{id:81,text:"CHALLENGE YOUR LIMITS",type:"short"},{id:82,text:"STAY STRONG",type:"short"},{id:97,text:"NEVER BE SCARED",type:"short"},{id:99,text:"DO NOT QUIT",
type:"short"},{id:100,text:"TRUST YOURSELF",type:"short"},{id:101,text:"BELIEVE IN YOURSELF",type:"short"},{id:122,text:"KEEP GOING",type:"short"},{id:126,text:"READ EVERYTHING",type:"short"},{id:127,text:"PRACTICE MAKES PROGRESS",type:"short"},{id:128,text:"WINNERS NEVER QUIT",type:"short"},{id:129,text:"FORGET YOUR EXCUSES",type:"short"},{id:133,text:"DO SOMETHING TODAY",type:"short"},{id:135,text:"TEAMWORK WINS CHAMPIONSHIPS",type:"short"},{id:138,text:"NEVER STOP LEARNING",type:"short"},{id:141,
text:"TAKE THE RISK",type:"short"},{id:152,text:"LOVE IS TRUST",type:"short"},{id:156,text:"DO NOT WAIT",type:"short"},{id:160,text:"LIGHTEN UP YOURSELF",type:"short"},{id:163,text:"LOVE YOURSELF FIRST",type:"short"},{id:166,text:"ASPIRE TO INSPIRE",type:"short"},{id:167,text:"NOTHING IS IMPOSSIBLE",type:"short"},{id:171,text:"PAIN IS TEMPORARY",type:"short"},{id:178,text:"START SOMETHING NEW",type:"short"},{id:179,text:"DO NOT QUIT",type:"short"},{id:181,text:"HANDLE THE WORST",type:"short"},{id:184,
text:"REACH MY DESTINATION",type:"short"},{id:197,text:"KEEP HOPE ALIVE",type:"short"}],"long":[{id:1,text:"NO PRESSURE, NO DIAMONDS",type:"long"},{id:2,text:"STAY HUNGRY, STAY FOOLISH",type:"long"},{id:8,text:"NO GUTS, NO STORY",type:"long"},{id:9,text:"SCREW IT, LET US DO IT",type:"long"},{id:10,text:"ALL IN OR NOTHING",type:"long"},{id:11,text:"DREAM BIG. PRAY BIGGER.",type:"long"},{id:12,text:"LEAVE NO STONE UNTURNED",type:"long"},{id:13,text:"FIGHT TILL THE LAST GASP",type:"long"},{id:14,text:"IF YOU WANT IT, WORK FOR IT",
type:"long"},{id:15,text:"THE CLOCK IS TICKING",type:"long"},{id:16,text:"ACTIONS SPEAK LOUDER THAN WORDS",type:"long"},{id:17,text:"EVERY DAY IS A SECOND CHANCE",type:"long"},{id:19,text:"MY LIFE IS MY MESSAGE",type:"long"},{id:20,text:"I CAN AND I WILL",type:"long"},{id:21,text:"WORK HARD. STAY HUMBLE",type:"long"},{id:22,text:"ENJOY THE LITTLE THINGS",type:"long"},{id:23,text:"THE BEST IS YET TO COME",type:"long"},{id:24,text:"NO PAIN, NO GAIN",type:"long"},{id:27,text:"YOU ONLY LIVE ONCE",type:"long"},
{id:30,text:"INHALE COURAGE, EXHALE FEAR",type:"long"},{id:33,text:"DIE WITH MEMORIES, NOT DREAMS",type:"long"},{id:34,text:"WHAT WE THINK, WE BECOME",type:"long"},{id:35,text:"ALL LIMITATIONS ARE SELF IMPOSED",type:"long"},{id:38,text:"HAPPINESS DEPENDS UPON OURSELVES",type:"long"},{id:39,text:"TURN YOUR WOUNDS INTO WISDOM",type:"long"},{id:40,text:"IT HURT BECAUSE IT MATTERED",type:"long"},{id:41,text:"WHEN WORDS FAIL, MUSIC SPEAKS",type:"long"},{id:42,text:"IMPOSSIBLE IS FOR THE UNWILLING",type:"long"},
{id:43,text:"BOLDNESS BE MY FRIEND",type:"long"},{id:44,text:"MY LIFE IS MY ARGUMENT",type:"long"},{id:45,text:"BROKEN CRAYONS STILL COLOR",type:"long"},{id:49,text:"FOCUS ON THE JOURNEY",type:"long"},{id:50,text:"MISTAKES DO NOT MAKE YOU",type:"long"},{id:52,text:"BE IN THE NOW",type:"long"},{id:54,text:"KEEP YOUR CHIN UP",type:"long"},{id:55,text:"DO NOT RUSH THINGS",type:"long"},{id:56,text:"NOW IS ALL YOU HAVE",type:"long"},{id:57,text:"ALL YOU NEED IS LOVE",type:"long"},{id:58,text:"THIS TOO SHALL PASS",
type:"long"},{id:60,text:"LOVE MORE, WORRY LESS",type:"long"},{id:61,text:"COLLECT MOMENTS NOT THINGS",type:"long"},{id:62,text:"SHINE LIKE THE STARS",type:"long"},{id:63,text:"THROW KINDNESS AROUND LIKE CONFETTI",type:"long"},{id:64,text:"EVERY WALL IS A DOOR",type:"long"},{id:65,text:"YOUR FAITH CAN MOVE MOUNTAINS",type:"long"},{id:66,text:"THE WISE MAN ASKS",type:"long"},{id:68,text:"YOU CAN TOTALLY DO THIS",type:"long"},{id:69,text:"STAY FOOLISH TO STAY SANE",type:"long"},{id:70,text:"DO NOT LIMIT YOURSELF",
type:"long"},{id:71,text:"BE A GOOD ONE",type:"long"},{id:72,text:"THE CHOICE IS YOURS",type:"long"},{id:73,text:"IMPOSSIBLE IS JUST AN OPINION",type:"long"},{id:74,text:"JUST ANOTHER MAGIC MONDAY",type:"long"},{id:75,text:"ONE DAY OR DAY ONE",type:"long"},{id:76,text:"INVEST IN YOUR DREAMS",type:"long"},{id:77,text:"HUSTLERS DO NOT SLEEP. THEY NAP.",type:"long"},{id:79,text:"NEVER STOP DOING YOUR BEST",type:"long"},{id:80,text:"DO NOT LIMIT YOUR CHALLENGES",type:"long"},{id:83,text:"START WHERE YOU ARE",
type:"long"},{id:84,text:"USE WHAT YOU HAVE",type:"long"},{id:85,text:"DO WHAT YOU CAN",type:"long"},{id:86,text:"GO THE EXTRA MILE",type:"long"},{id:87,text:"HOLD ON. PAIN ENDS",type:"long"},{id:88,text:"MAKE EACH DAY YOUR MASTERPIECE",type:"long"},{id:89,text:"GO WITH ALL YOUR HEART",type:"long"},{id:90,text:"SUCCESS IS NO ACCIDENT",type:"long"},{id:91,text:"OPPORTUNITIES DO NOT HAPPEN",type:"long"},{id:92,text:"SUCCESS IS LIKING YOURSELF",type:"long"},{id:93,text:"THIS MOMENT IS YOURS",type:"long"},
{id:94,text:"TODAY IS YOUR OPPORTUNITY",type:"long"},{id:95,text:"FOCUS ON BEING PRODUCTIVE",type:"long"},{id:96,text:"TAKE THE FIRST STEP",type:"long"},{id:98,text:"DO NOT COMPARE YOURSELF TO OTHERS",type:"long"},{id:102,text:"TAKE ON YOUR CHALLENGES",type:"long"},{id:103,text:"YOU GOT TO KEEP GOING",type:"long"},{id:104,text:"BECOME A MAN OF VALUE",type:"long"},{id:105,text:"A WINNER IS A DREAMER",type:"long"},{id:106,text:"GO AHEAD AND DO IT",type:"long"},{id:107,text:"DO NOT JUDGE, JUST LISTEN",
type:"long"},{id:108,text:"DARKNESS CANNOT DRIVE OUT DARKNESS",type:"long"},{id:109,text:"I THINK THEREFORE I AM",type:"long"},{id:110,text:"LOVE IS THE PRIZE",type:"long"},{id:111,text:"THE REST IS STILL UNWRITTEN",type:"long"},{id:112,text:"DO NOT COMPROMISE YOURSELF",type:"long"},{id:113,text:"FEAR IS THE MIND KILLER",type:"long"},{id:114,text:"DOUBT IS A KILLER",type:"long"},{id:115,text:"DONE IS BETTER THAN PERFECT",type:"long"},{id:116,text:"LEARN FROM YOUR MISTAKES",type:"long"},{id:117,text:"BUILD THE TOMORROW YOU WANT",
type:"long"},{id:118,text:"WHAT HURTS YOU BLESSES YOU",type:"long"},{id:119,text:"TO ERR IS HUMAN",type:"long"},{id:120,text:"BE THE CHANGE YOU WANT",type:"long"},{id:121,text:"DO THE RIGHT THING",type:"long"},{id:123,text:"YOU COULD DO ANYTHING",type:"long"},{id:124,text:"WORK SMARTER NOT HARDER",type:"long"},{id:125,text:"STAY TRUE TO YOURSELF",type:"long"},{id:130,text:"LET YOUR FAILURES TEACH YOU",type:"long"},{id:131,text:"HAPPINESS IS A CHOICE",type:"long"},{id:132,text:"YOUR MIND IS POWERFUL",
type:"long"},{id:134,text:"YOU WERE BORN TO WIN",type:"long"},{id:136,text:"WINNING IS THE RESULT",type:"long"},{id:137,text:"WINNERS FAIL UNTIL THEY SUCCEED",type:"long"},{id:139,text:"LIFE IS LIKE A MOVIE",type:"long"},{id:140,text:"CHALLENGE YOURSELF TO BE STRONGER",type:"long"},{id:142,text:"TODAY IS YOUR DAY",type:"long"},{id:144,text:"CEASE WORRYING ABOUT THINGS",type:"long"},{id:145,text:"HAPPINESS IS NOT SOMETHING READY MADE",type:"long"},{id:146,text:"RECOGNIZE WHAT MAKES YOU HAPPY",type:"long"},
{id:147,text:"HAPPY PEOPLE PLAN ACTIONS",type:"long"},{id:148,text:"LIFE IS REALLY SIMPLE",type:"long"},{id:149,text:"NO HAPPINESS WITHOUT ACTION",type:"long"},{id:150,text:"LOVE TAKES OFF MASKS",type:"long"},{id:151,text:"LOVE WILL FIND A WAY",type:"long"},{id:153,text:"LOVE IS A BETTER TEACHER",type:"long"},{id:154,text:"LOVE DOES NOT DOMINATE",type:"long"},{id:155,text:"TRIALS ARE OFTEN BLESSINGS",type:"long"},{id:157,text:"LIFE IS ABOUT CREATING YOURSELF",type:"long"},{id:158,text:"BECOME A PERSON OF VALUE",
type:"long"},{id:159,text:"LOVING YOURSELF IS NOT VANITY",type:"long"},{id:161,text:"NO ONE IS PERFECT",type:"long"},{id:162,text:"GENTLY ACCEPT YOUR HUMANNESS",type:"long"},{id:164,text:"NEVER BEND YOUR HEAD",type:"long"},{id:165,text:"ACCEPT YOUR OWN WEAKNESS",type:"long"},{id:168,text:"HATE CANNOT DRIVE OUT HATE",type:"long"},{id:169,text:"SUCCESS IS NOT FINAL",type:"long"},{id:170,text:"FAILURE IS NOT FATAL",type:"long"},{id:172,text:"KINDNESS IS A LANGUAGE",type:"long"},{id:173,text:"FEAR NOT THE FUTURE",
type:"long"},{id:174,text:"FIGURE OUT WHAT YOU WANT",type:"long"},{id:175,text:"BE KIND TO YOURSELF TODAY",type:"long"},{id:176,text:"BE KIND TO EVERYONE",type:"long"},{id:177,text:"GREAT MINDS THINK ALIKE",type:"long"},{id:180,text:"IT IS NEVER TOO LATE",type:"long"},{id:182,text:"LIVING A LIFE WORTH REMEMBERING",type:"long"},{id:183,text:"YOU MUST KEEP MOVING",type:"long"},{id:185,text:"MASTERING YOURSELF IS TRUE POWER",type:"long"},{id:186,text:"GREAT POWER COMES GREAT RESPONSIBILITY",type:"long"},
{id:187,text:"FOCUS TO SEE THE LIGHT",type:"long"},{id:188,text:"BE SURE WHAT YOU WANT",type:"long"},{id:189,text:"BE SURE ABOUT YOURSELF",type:"long"},{id:190,text:"WE MAKE THE WORLD",type:"long"},{id:191,text:"CHANGE YOUR LIFE TODAY",type:"long"},{id:192,text:"OPPORTUNITIES DO NOT HAPPEN",type:"long"},{id:193,text:"YOU ARE NEVER ALONE",type:"long"},{id:194,text:"MAKE EACH DAY YOUR MASTERPIECE",type:"long"},{id:195,text:"GO WITH ALL YOUR HEART",type:"long"},{id:196,text:"TOUGH TIMES NEVER LAST",
type:"long"},{id:198,text:"DO NOT REGRET THE PAST",type:"long"},{id:199,text:"BEING HAPPY IS A HABIT",type:"long"},{id:200,text:"WE ARE WHAT WE THINK",type:"long"}]}};var _SETTINGS={API:{Enabled:!0,Log:{Events:{InitializeGame:!0,EndGame:!0,Level:{Begin:!0,End:!0,Win:!0,Lose:!0,Draw:!0}}}},Ad:{Mobile:{Preroll:{Enabled:!1,Duration:5,Width:300,Height:250,Rotation:{Enabled:!1,Weight:{MobileAdInGamePreroll:40,MobileAdInGamePreroll2:40,MobileAdInGamePreroll3:20}}},Header:{Enabled:!1,Duration:5,Width:320,Height:50,Rotation:{Enabled:!1,Weight:{MobileAdInGameHeader:40,MobileAdInGameHeader2:40,MobileAdInGameHeader3:20}}},Footer:{Enabled:!1,Duration:5,Width:320,Height:50,
Rotation:{Enabled:!1,Weight:{MobileAdInGameFooter:40,MobileAdInGameFooter2:40,MobileAdInGameFooter3:20}}},End:{Enabled:!1,Duration:1,Width:300,Height:250,Rotation:{Enabled:!1,Weight:{MobileAdInGameEnd:40,MobileAdInGameEnd2:40,MobileAdInGameEnd3:20}}}}},Language:{Default:"en"},DeveloperBranding:{Splash:{Enabled:!0},Logo:{Enabled:!0,Link:"http://marketjs.com",LinkEnabled:!1,NewWindow:!0,Width:166,Height:61}},Branding:{Splash:{Enabled:!1},Logo:{Enabled:!1,Link:"http://google.com",LinkEnabled:!0,NewWindow:!0,
Width:280,Height:34}},MoreGames:{Enabled:!0,Link:"http://www.marketjs.com/game/links/mobile",NewWindow:!0},Gamecenter:{Enabled:!0},TapToStartAudioUnlock:{Enabled:!1},Versioning:{Version:"1.0.0",Build:"1",DisplayLog:!0,DrawVersion:!0,FontSize:"16px",FontFamily:"Arial",FillStyle:"#000000"}};"undefined"!==typeof _SETTINGS.Versioning&&null!==_SETTINGS.Versioning&&!0===_SETTINGS.Versioning.DisplayLog&&console.log("Release: v"+_SETTINGS.Versioning.Version+"+build."+_SETTINGS.Versioning.Build);var MobileAdInGamePreroll={ad_duration:_SETTINGS.Ad.Mobile.Preroll.Duration,ad_width:_SETTINGS.Ad.Mobile.Preroll.Width,ad_height:_SETTINGS.Ad.Mobile.Preroll.Height,ready_in:_STRINGS.Ad.Mobile.Preroll.ReadyIn,loading:_STRINGS.Ad.Mobile.Preroll.Loading,close:_STRINGS.Ad.Mobile.Preroll.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){if(_SETTINGS.Ad.Mobile.Preroll.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Preroll.Rotation.Weight,c=b.MobileAdInGamePreroll,d=
c+b.MobileAdInGamePreroll2,b=d+b.MobileAdInGamePreroll3,e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGamePreroll":e<=d?this.selectedOverlayName="MobileAdInGamePreroll2":e<=b&&(this.selectedOverlayName="MobileAdInGamePreroll3");console.log("Ad rotating preroll enabled")}else this.selectedOverlayName="MobileAdInGamePreroll",console.log("Ad rotating preroll disabled");console.log("selected:",this.selectedOverlayName);this.overlay=$("#"+this.selectedOverlayName);
this.box=$("#"+this.selectedOverlayName+"-Box");this.game=$("#game");this.boxContents={footer:$("#"+this.selectedOverlayName+"-Box-Footer"),header:$("#"+this.selectedOverlayName+"-Box-Header"),close:$("#"+this.selectedOverlayName+"-Box-Close"),body:$("#"+this.selectedOverlayName+"-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-
this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},Timer:function(b){var c=b,d=setInterval(function(){MobileAdInGamePreroll.boxContents.header.text(MobileAdInGamePreroll.ready_in+c+"...");MobileAdInGamePreroll.boxContents.footer.text(MobileAdInGamePreroll.loading);c--;0>c&&(clearInterval(d),MobileAdInGamePreroll.boxContents.close.css("left",MobileAdInGamePreroll.boxContents.body.width()-23),MobileAdInGamePreroll.boxContents.close.show(),MobileAdInGamePreroll.boxContents.header.html(MobileAdInGamePreroll.close),
MobileAdInGamePreroll.boxContents.footer.text(""))},1E3)},Close:function(){this.boxContents.close.hide();this.overlay.hide()}};var MobileAdInGameHeader={ad_duration:_SETTINGS.Ad.Mobile.Header.Duration,ad_width:_SETTINGS.Ad.Mobile.Header.Width,ad_height:_SETTINGS.Ad.Mobile.Header.Height,Initialize:function(){if(_SETTINGS.Ad.Mobile.Header.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Header.Rotation.Weight,c=b.MobileAdInGameHeader,d=c+b.MobileAdInGameHeader2,b=d+b.MobileAdInGameHeader3,e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGameHeader":e<=d?this.selectedOverlayName="MobileAdInGameHeader2":
e<=b&&(this.selectedOverlayName="MobileAdInGameHeader3");console.log("Ad rotating header enabled")}else this.selectedOverlayName="MobileAdInGameHeader",console.log("Ad rotating header disabled");this.div=$("#"+this.selectedOverlayName);this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",0);this.div.show(this.Timer(this.ad_duration))},Timer:function(b){var c=setInterval(function(){b--;
0>b&&(MobileAdInGameHeader.div.hide(),clearInterval(c))},1E3)}};var MobileAdInGameFooter={ad_duration:_SETTINGS.Ad.Mobile.Footer.Duration,ad_width:_SETTINGS.Ad.Mobile.Footer.Width,ad_height:_SETTINGS.Ad.Mobile.Footer.Height,Initialize:function(){if(_SETTINGS.Ad.Mobile.Footer.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Footer.Rotation.Weight,c=b.MobileAdInGameFooter,d=c+b.MobileAdInGameFooter2,b=d+b.MobileAdInGameFooter3,e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGameFooter":e<=d?this.selectedOverlayName="MobileAdInGameFooter2":
e<=b&&(this.selectedOverlayName="MobileAdInGameFooter3");console.log("Ad rotating footer enabled")}else this.selectedOverlayName="MobileAdInGameFooter",console.log("Ad rotating footer disabled");this.div=$("#"+this.selectedOverlayName);this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",this.game.height()-this.div.height()-5);this.div.show(this.Timer(this.ad_duration))},
Timer:function(b){var c=setInterval(function(){b--;0>b&&(MobileAdInGameFooter.div.hide(),clearInterval(c))},1E3)}};var MobileAdInGameEnd={ad_duration:_SETTINGS.Ad.Mobile.End.Duration,ad_width:_SETTINGS.Ad.Mobile.End.Width,ad_height:_SETTINGS.Ad.Mobile.End.Height,ready_in:_STRINGS.Ad.Mobile.End.ReadyIn,loading:_STRINGS.Ad.Mobile.End.Loading,close:_STRINGS.Ad.Mobile.End.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){if(_SETTINGS.Ad.Mobile.End.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.End.Rotation.Weight,c=b.MobileAdInGameEnd,d=c+b.MobileAdInGameEnd2,b=d+b.MobileAdInGameEnd3,
e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGameEnd":e<=d?this.selectedOverlayName="MobileAdInGameEnd2":e<=b&&(this.selectedOverlayName="MobileAdInGameEnd3");console.log("Ad rotating end enabled")}else this.selectedOverlayName="MobileAdInGameEnd",console.log("Ad rotating end disabled");console.log("selected:",this.selectedOverlayName);this.overlay=$("#"+this.selectedOverlayName);this.box=$("#"+this.selectedOverlayName+"-Box");this.game=$("#game");
this.boxContents={footer:$("#"+this.selectedOverlayName+"-Box-Footer"),header:$("#"+this.selectedOverlayName+"-Box-Header"),close:$("#"+this.selectedOverlayName+"-Box-Close"),body:$("#"+this.selectedOverlayName+"-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},
Timer:function(b){var c=b,d=setInterval(function(){MobileAdInGameEnd.boxContents.header.text(MobileAdInGameEnd.ready_in+c+"...");MobileAdInGameEnd.boxContents.footer.text(MobileAdInGameEnd.loading);c--;0>c&&(clearInterval(d),MobileAdInGameEnd.boxContents.close.css("left",MobileAdInGameEnd.boxContents.body.width()-23),MobileAdInGameEnd.boxContents.close.show(),MobileAdInGameEnd.boxContents.header.html(MobileAdInGameEnd.close),MobileAdInGameEnd.boxContents.footer.text(""))},1E3)},Close:function(){this.boxContents.close.hide();
this.overlay.hide()}};!function(b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?c(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return c(b)}:c(b)}("undefined"!=typeof window?window:this,function(b,c){function d(b,c){c=c||B;var d=c.createElement("script");d.text=b;c.head.appendChild(d).parentNode.removeChild(d)}function e(b){var c=!!b&&"length"in b&&b.length,d=l.type(b);return"function"!==d&&!l.isWindow(b)&&("array"===d||0===c||"number"==
typeof c&&0<c&&c-1 in b)}function f(b,c){return b.nodeName&&b.nodeName.toLowerCase()===c.toLowerCase()}function g(b,c,d){return l.isFunction(c)?l.grep(b,function(b,x){return!!c.call(b,x,b)!==d}):c.nodeType?l.grep(b,function(b){return b===c!==d}):"string"!=typeof c?l.grep(b,function(b){return-1<Ja.call(c,b)!==d}):Cc.test(c)?l.filter(c,b,d):(c=l.filter(c,b),l.grep(b,function(b){return-1<Ja.call(c,b)!==d&&1===b.nodeType}))}function m(b,c){for(;(b=b[c])&&1!==b.nodeType;);return b}function p(b){return b}
function j(b){throw b;}function n(b,c,d,e){var j;try{b&&l.isFunction(j=b.promise)?j.call(b).done(c).fail(d):b&&l.isFunction(j=b.then)?j.call(b,c,d):c.apply(void 0,[b].slice(e))}catch(f){d.apply(void 0,[f])}}function r(){B.removeEventListener("DOMContentLoaded",r);b.removeEventListener("load",r);l.ready()}function q(){this.expando=l.expando+q.uid++}function s(b,c,d){var e;if(void 0===d&&1===b.nodeType)if(e="data-"+c.replace(Dc,"-$&").toLowerCase(),d=b.getAttribute(e),"string"==typeof d){try{d="true"===
d||"false"!==d&&("null"===d?null:d===+d+""?+d:Ec.test(d)?JSON.parse(d):d)}catch(j){}W.set(b,c,d)}else d=void 0;return d}function u(b,c,d,e){var j,f=1,n=20,g=e?function(){return e.cur()}:function(){return l.css(b,c,"")},r=g(),q=d&&d[3]||(l.cssNumber[c]?"":"px"),m=(l.cssNumber[c]||"px"!==q&&+r)&&Ka.exec(l.css(b,c));if(m&&m[3]!==q){q=q||m[3];d=d||[];m=+r||1;do f=f||".5",m/=f,l.style(b,c,m+q);while(f!==(f=g()/r)&&1!==f&&--n)}return d&&(m=+m||+r||0,j=d[1]?m+(d[1]+1)*d[2]:+d[2],e&&(e.unit=q,e.start=m,e.end=
j)),j}function t(b,c){for(var d,e,j=[],f=0,n=b.length;f<n;f++)if(e=b[f],e.style)if(d=e.style.display,c){if("none"===d&&(j[f]=A.get(e,"display")||null,j[f]||(e.style.display="")),""===e.style.display&&Ta(e)){d=j;var g=f,r,q=void 0;r=e.ownerDocument;var m=e.nodeName;r=(e=Gb[m])?e:(q=r.body.appendChild(r.createElement(m)),e=l.css(q,"display"),q.parentNode.removeChild(q),"none"===e&&(e="block"),Gb[m]=e,e);d[g]=r}}else"none"!==d&&(j[f]="none",A.set(e,"display",d));for(f=0;f<n;f++)null!=j[f]&&(b[f].style.display=
j[f]);return b}function y(b,c){var d;return d="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(c||"*"):"undefined"!=typeof b.querySelectorAll?b.querySelectorAll(c||"*"):[],void 0===c||c&&f(b,c)?l.merge([b],d):d}function C(b,c){for(var d=0,e=b.length;d<e;d++)A.set(b[d],"globalEval",!c||A.get(c[d],"globalEval"))}function E(b,c,d,e,j){for(var f,n,g,r,q=c.createDocumentFragment(),m=[],p=0,u=b.length;p<u;p++)if(f=b[p],f||0===f)if("object"===l.type(f))l.merge(m,f.nodeType?[f]:f);else if(Fc.test(f)){n=
n||q.appendChild(c.createElement("div"));g=(Hb.exec(f)||["",""])[1].toLowerCase();g=aa[g]||aa._default;n.innerHTML=g[1]+l.htmlPrefilter(f)+g[2];for(g=g[0];g--;)n=n.lastChild;l.merge(m,n.childNodes);n=q.firstChild;n.textContent=""}else m.push(c.createTextNode(f));q.textContent="";for(p=0;f=m[p++];)if(e&&-1<l.inArray(f,e))j&&j.push(f);else if(r=l.contains(f.ownerDocument,f),n=y(q.appendChild(f),"script"),r&&C(n),d)for(g=0;f=n[g++];)Ib.test(f.type||"")&&d.push(f);return q}function fa(){return!0}function L(){return!1}
function La(){try{return B.activeElement}catch(b){}}function ta(b,c,d,e,j,f){var n,g;if("object"==typeof c){"string"!=typeof d&&(e=e||d,d=void 0);for(g in c)ta(b,g,d,e,c[g],f);return b}if(null==e&&null==j?(j=d,e=d=void 0):null==j&&("string"==typeof d?(j=e,e=void 0):(j=e,e=d,d=void 0)),!1===j)j=L;else if(!j)return b;return 1===f&&(n=j,j=function(b){return l().off(b),n.apply(this,arguments)},j.guid=n.guid||(n.guid=l.guid++)),b.each(function(){l.event.add(this,c,j,e,d)})}function z(b,c){return f(b,"table")&&
f(11!==c.nodeType?c:c.firstChild,"tr")?l(">tbody",b)[0]||b:b}function Ua(b){return b.type=(null!==b.getAttribute("type"))+"/"+b.type,b}function R(b){var c=Gc.exec(b.type);return c?b.type=c[1]:b.removeAttribute("type"),b}function Jb(b,c){var d,e,j,f,n,g;if(1===c.nodeType){if(A.hasData(b)&&(d=A.access(b),e=A.set(c,d),g=d.events))for(j in delete e.handle,e.events={},g){d=0;for(e=g[j].length;d<e;d++)l.event.add(c,j,g[j][d])}W.hasData(b)&&(f=W.access(b),n=l.extend({},f),W.set(c,n))}}function Q(b,c,e,j){c=
Kb.apply([],c);var f,n,g,r,q=0,m=b.length,p=m-1,u=c[0],s=l.isFunction(u);if(s||1<m&&"string"==typeof u&&!M.checkClone&&Hc.test(u))return b.each(function(d){var f=b.eq(d);s&&(c[0]=u.call(this,d,f.html()));Q(f,c,e,j)});if(m&&(f=E(c,b[0].ownerDocument,!1,b,j),n=f.firstChild,1===f.childNodes.length&&(f=n),n||j)){n=l.map(y(f,"script"),Ua);for(g=n.length;q<m;q++)r=f,q!==p&&(r=l.clone(r,!0,!0),g&&l.merge(n,y(r,"script"))),e.call(b[q],r,q);if(g){f=n[n.length-1].ownerDocument;l.map(n,R);for(q=0;q<g;q++)r=
n[q],Ib.test(r.type||"")&&!A.access(r,"globalEval")&&l.contains(f,r)&&(r.src?l._evalUrl&&l._evalUrl(r.src):d(r.textContent.replace(Jc,""),f))}}return b}function Y(b,c,d){for(var e=c?l.filter(c,b):b,j=0;null!=(c=e[j]);j++)d||1!==c.nodeType||l.cleanData(y(c)),c.parentNode&&(d&&l.contains(c.ownerDocument,c)&&C(y(c,"script")),c.parentNode.removeChild(c));return b}function Ma(b,c,d){var e,j,f,n,g=b.style;return d=d||Va(b),d&&(n=d.getPropertyValue(c)||d[c],""!==n||l.contains(b.ownerDocument,b)||(n=l.style(b,
c)),!M.pixelMarginRight()&&nb.test(n)&&Lb.test(c)&&(e=g.width,j=g.minWidth,f=g.maxWidth,g.minWidth=g.maxWidth=g.width=n,n=d.width,g.width=e,g.minWidth=j,g.maxWidth=f)),void 0!==n?n+"":n}function Mb(b,c){return{get:function(){return b()?void delete this.get:(this.get=c).apply(this,arguments)}}}function S(b){var c=l.cssProps[b];if(!c){var c=l.cssProps,d;a:if(d=b,!(d in Nb)){for(var e=d[0].toUpperCase()+d.slice(1),j=Ob.length;j--;)if(d=Ob[j]+e,d in Nb)break a;d=void 0}c=c[b]=d||b}return c}function T(b,
c,d){return(b=Ka.exec(c))?Math.max(0,b[2]-(d||0))+(b[3]||"px"):c}function U(b,c,d,e,j){var f=0;for(c=d===(e?"border":"content")?4:"width"===c?1:0;4>c;c+=2)"margin"===d&&(f+=l.css(b,d+ua[c],!0,j)),e?("content"===d&&(f-=l.css(b,"padding"+ua[c],!0,j)),"margin"!==d&&(f-=l.css(b,"border"+ua[c]+"Width",!0,j))):(f+=l.css(b,"padding"+ua[c],!0,j),"padding"!==d&&(f+=l.css(b,"border"+ua[c]+"Width",!0,j)));return f}function Pb(b,c,d){var e,j=Va(b),f=Ma(b,c,j),n="border-box"===l.css(b,"boxSizing",!1,j);return nb.test(f)?
f:(e=n&&(M.boxSizingReliable()||f===b.style[c]),"auto"===f&&(f=b["offset"+c[0].toUpperCase()+c.slice(1)]),f=parseFloat(f)||0,f+U(b,c,d||(n?"border":"content"),e,j)+"px")}function O(b,c,d,e,j){return new O.prototype.init(b,c,d,e,j)}function Z(){Wa&&(!1===B.hidden&&b.requestAnimationFrame?b.requestAnimationFrame(Z):b.setTimeout(Z,l.fx.interval),l.fx.tick())}function H(){return b.setTimeout(function(){Ea=void 0}),Ea=l.now()}function la(b,c){var d,e=0,j={height:b};for(c=c?1:0;4>e;e+=2-c)d=ua[e],j["margin"+
d]=j["padding"+d]=b;return c&&(j.opacity=j.width=b),j}function Qb(b,c,d){for(var e,j=(ga.tweeners[c]||[]).concat(ga.tweeners["*"]),f=0,l=j.length;f<l;f++)if(e=j[f].call(d,c,b))return e}function ga(b,c,d){var e,j,f=0,n=ga.prefilters.length,g=l.Deferred().always(function(){delete r.elem}),r=function(){if(j)return!1;for(var c=Ea||H(),c=Math.max(0,q.startTime+q.duration-c),d=1-(c/q.duration||0),e=0,F=q.tweens.length;e<F;e++)q.tweens[e].run(d);return g.notifyWith(b,[q,d,c]),1>d&&F?c:(F||g.notifyWith(b,
[q,1,0]),g.resolveWith(b,[q]),!1)},q=g.promise({elem:b,props:l.extend({},c),opts:l.extend(!0,{specialEasing:{},easing:l.easing._default},d),originalProperties:c,originalOptions:d,startTime:Ea||H(),duration:d.duration,tweens:[],createTween:function(c,d){var e=l.Tween(b,q.opts,c,d,q.opts.specialEasing[c]||q.opts.easing);return q.tweens.push(e),e},stop:function(c){var d=0,e=c?q.tweens.length:0;if(j)return this;for(j=!0;d<e;d++)q.tweens[d].run(1);return c?(g.notifyWith(b,[q,1,0]),g.resolveWith(b,[q,c])):
g.rejectWith(b,[q,c]),this}});c=q.props;d=q.opts.specialEasing;var m,p,u,s;for(e in c)if(m=l.camelCase(e),p=d[m],u=c[e],Array.isArray(u)&&(p=u[1],u=c[e]=u[0]),e!==m&&(c[m]=u,delete c[e]),s=l.cssHooks[m],s&&"expand"in s)for(e in u=s.expand(u),delete c[m],u)e in c||(c[e]=u[e],d[e]=p);else d[m]=p;for(;f<n;f++)if(e=ga.prefilters[f].call(q,b,c,q.opts))return l.isFunction(e.stop)&&(l._queueHooks(q.elem,q.opts.queue).stop=l.proxy(e.stop,e)),e;return l.map(c,Qb,q),l.isFunction(q.opts.start)&&q.opts.start.call(b,
q),q.progress(q.opts.progress).done(q.opts.done,q.opts.complete).fail(q.opts.fail).always(q.opts.always),l.fx.timer(l.extend(r,{elem:b,anim:q,queue:q.opts.queue})),q}function va(b){return(b.match(ba)||[]).join(" ")}function wa(b){return b.getAttribute&&b.getAttribute("class")||""}function ob(b,c,d,e){var j;if(Array.isArray(c))l.each(c,function(c,j){d||Kc.test(b)?e(b,j):ob(b+"["+("object"==typeof j&&null!=j?c:"")+"]",j,d,e)});else if(d||"object"!==l.type(c))e(b,c);else for(j in c)ob(b+"["+j+"]",c[j],
d,e)}function Rb(b){return function(c,d){"string"!=typeof c&&(d=c,c="*");var e,j=0,f=c.toLowerCase().match(ba)||[];if(l.isFunction(d))for(;e=f[j++];)"+"===e[0]?(e=e.slice(1)||"*",(b[e]=b[e]||[]).unshift(d)):(b[e]=b[e]||[]).push(d)}}function Sb(b,c,d,e){function j(g){var r;return f[g]=!0,l.each(b[g]||[],function(b,x){var l=x(c,d,e);return"string"!=typeof l||n||f[l]?n?!(r=l):void 0:(c.dataTypes.unshift(l),j(l),!1)}),r}var f={},n=b===pb;return j(c.dataTypes[0])||!f["*"]&&j("*")}function qb(b,c){var d,
e,j=l.ajaxSettings.flatOptions||{};for(d in c)void 0!==c[d]&&((j[d]?b:e||(e={}))[d]=c[d]);return e&&l.extend(!0,b,e),b}var xa=[],B=b.document,Lc=Object.getPrototypeOf,ya=xa.slice,Kb=xa.concat,rb=xa.push,Ja=xa.indexOf,Xa={},Tb=Xa.toString,Ya=Xa.hasOwnProperty,Ub=Ya.toString,Mc=Ub.call(Object),M={},l=function(b,c){return new l.fn.init(b,c)},Nc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Oc=/^-ms-/,Pc=/-([a-z])/g,Qc=function(b,c){return c.toUpperCase()};l.fn=l.prototype={jquery:"3.2.1",constructor:l,length:0,
toArray:function(){return ya.call(this)},get:function(b){return null==b?ya.call(this):0>b?this[b+this.length]:this[b]},pushStack:function(b){b=l.merge(this.constructor(),b);return b.prevObject=this,b},each:function(b){return l.each(this,b)},map:function(b){return this.pushStack(l.map(this,function(c,d){return b.call(c,d,c)}))},slice:function(){return this.pushStack(ya.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var c=this.length;b=
+b+(0>b?c:0);return this.pushStack(0<=b&&b<c?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:rb,sort:xa.sort,splice:xa.splice};l.extend=l.fn.extend=function(){var b,c,d,e,j,f,n=arguments[0]||{},g=1,r=arguments.length,q=!1;"boolean"==typeof n&&(q=n,n=arguments[g]||{},g++);"object"==typeof n||l.isFunction(n)||(n={});for(g===r&&(n=this,g--);g<r;g++)if(null!=(b=arguments[g]))for(c in b)d=n[c],e=b[c],n!==e&&(q&&e&&(l.isPlainObject(e)||(j=Array.isArray(e)))?(j?(j=!1,f=d&&
Array.isArray(d)?d:[]):f=d&&l.isPlainObject(d)?d:{},n[c]=l.extend(q,f,e)):void 0!==e&&(n[c]=e));return n};l.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);},noop:function(){},isFunction:function(b){return"function"===l.type(b)},isWindow:function(b){return null!=b&&b===b.window},isNumeric:function(b){var c=l.type(b);return("number"===c||"string"===c)&&!isNaN(b-parseFloat(b))},isPlainObject:function(b){var c,d;return!(!b||"[object Object]"!==
Tb.call(b))&&(!(c=Lc(b))||(d=Ya.call(c,"constructor")&&c.constructor,"function"==typeof d&&Ub.call(d)===Mc))},isEmptyObject:function(b){for(var c in b)return!1;return!0},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?Xa[Tb.call(b)]||"object":typeof b},globalEval:function(b){d(b)},camelCase:function(b){return b.replace(Oc,"ms-").replace(Pc,Qc)},each:function(b,c){var d,j=0;if(e(b))for(d=b.length;j<d&&!1!==c.call(b[j],j,b[j]);j++);else for(j in b)if(!1===c.call(b[j],j,
b[j]))break;return b},trim:function(b){return null==b?"":(b+"").replace(Nc,"")},makeArray:function(b,c){var d=c||[];return null!=b&&(e(Object(b))?l.merge(d,"string"==typeof b?[b]:b):rb.call(d,b)),d},inArray:function(b,c,d){return null==c?-1:Ja.call(c,b,d)},merge:function(b,c){for(var d=+c.length,e=0,j=b.length;e<d;e++)b[j++]=c[e];return b.length=j,b},grep:function(b,c,d){for(var e=[],j=0,f=b.length,n=!d;j<f;j++)d=!c(b[j],j),d!==n&&e.push(b[j]);return e},map:function(b,c,d){var j,f,n=0,l=[];if(e(b))for(j=
b.length;n<j;n++)f=c(b[n],n,d),null!=f&&l.push(f);else for(n in b)f=c(b[n],n,d),null!=f&&l.push(f);return Kb.apply([],l)},guid:1,proxy:function(b,c){var d,e,j;if("string"==typeof c&&(d=b[c],c=b,b=d),l.isFunction(b))return e=ya.call(arguments,2),j=function(){return b.apply(c||this,e.concat(ya.call(arguments)))},j.guid=b.guid=b.guid||l.guid++,j},now:Date.now,support:M});"function"==typeof Symbol&&(l.fn[Symbol.iterator]=xa[Symbol.iterator]);l.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
function(b,c){Xa["[object "+c+"]"]=c.toLowerCase()});var pa,sb=b,I=function(b,c,d,e){var j,f,n,l,g,r=c&&c.ownerDocument,q=c?c.nodeType:9;if(d=d||[],"string"!=typeof b||!b||1!==q&&9!==q&&11!==q)return d;if(!e&&((c?c.ownerDocument||c:ca)!==G&&qa(c),c=c||G,da)){if(11!==q&&(l=Rc.exec(b)))if(j=l[1])if(9===q){if(!(f=c.getElementById(j)))return d;if(f.id===j)return d.push(f),d}else{if(r&&(f=r.getElementById(j))&&Na(c,f)&&f.id===j)return d.push(f),d}else{if(l[2])return ra.apply(d,c.getElementsByTagName(b)),
d;if((j=l[3])&&P.getElementsByClassName&&c.getElementsByClassName)return ra.apply(d,c.getElementsByClassName(j)),d}if(P.qsa&&!Za[b+" "]&&(!V||!V.test(b))){if(1!==q)r=c,g=b;else if("object"!==c.nodeName.toLowerCase()){(n=c.getAttribute("id"))?n=n.replace(Vb,Wb):c.setAttribute("id",n=N);f=Oa(b);for(j=f.length;j--;)f[j]="#"+n+" "+$a(f[j]);g=f.join(",");r=tb.test(b)&&ub(c.parentNode)||c}if(g)try{return ra.apply(d,r.querySelectorAll(g)),d}catch(m){}finally{n===N&&c.removeAttribute("id")}}}return Xb(b.replace(ab,
"$1"),c,d,e)},vb=function(){function b(d,e){return c.push(d+" ")>D.cacheLength&&delete b[c.shift()],b[d+" "]=e}var c=[];return b},ha=function(b){return b[N]=!0,b},ja=function(b){var c=G.createElement("fieldset");try{return!!b(c)}catch(d){return!1}finally{c.parentNode&&c.parentNode.removeChild(c)}},wb=function(b,c){for(var d=b.split("|"),e=d.length;e--;)D.attrHandle[d[e]]=c},Yb=function(b,c){var d=c&&b,e=d&&1===b.nodeType&&1===c.nodeType&&b.sourceIndex-c.sourceIndex;if(e)return e;if(d)for(;d=d.nextSibling;)if(d===
c)return-1;return b?1:-1},Sc=function(b){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===b}},Tc=function(b){return function(c){var d=c.nodeName.toLowerCase();return("input"===d||"button"===d)&&c.type===b}},Zb=function(b){return function(c){return"form"in c?c.parentNode&&!1===c.disabled?"label"in c?"label"in c.parentNode?c.parentNode.disabled===b:c.disabled===b:c.isDisabled===b||c.isDisabled!==!b&&Uc(c)===b:c.disabled===b:"label"in c&&c.disabled===b}},za=function(b){return ha(function(c){return c=
+c,ha(function(d,e){for(var j,f=b([],d.length,c),n=f.length;n--;)d[j=f[n]]&&(d[j]=!(e[j]=d[j]))})})},ub=function(b){return b&&"undefined"!=typeof b.getElementsByTagName&&b},$b=function(){},$a=function(b){for(var c=0,d=b.length,e="";c<d;c++)e+=b[c].value;return e},bb=function(b,c,d){var e=c.dir,j=c.next,f=j||e,n=d&&"parentNode"===f,l=Vc++;return c.first?function(c,d,j){for(;c=c[e];)if(1===c.nodeType||n)return b(c,d,j);return!1}:function(c,d,F){var K,g,r,q=[ka,l];if(F)for(;c=c[e];){if((1===c.nodeType||
n)&&b(c,d,F))return!0}else for(;c=c[e];)if(1===c.nodeType||n)if(r=c[N]||(c[N]={}),g=r[c.uniqueID]||(r[c.uniqueID]={}),j&&j===c.nodeName.toLowerCase())c=c[e]||c;else{if((K=g[f])&&K[0]===ka&&K[1]===l)return q[2]=K[2];if(g[f]=q,q[2]=b(c,d,F))return!0}return!1}},xb=function(b){return 1<b.length?function(c,d,e){for(var j=b.length;j--;)if(!b[j](c,d,e))return!1;return!0}:b[0]},cb=function(b,c,d,e,j){for(var f,n=[],l=0,g=b.length,r=null!=c;l<g;l++)(f=b[l])&&(d&&!d(f,e,j)||(n.push(f),r&&c.push(l)));return n},
yb=function(b,c,d,e,j,f){return e&&!e[N]&&(e=yb(e)),j&&!j[N]&&(j=yb(j,f)),ha(function(f,n,l,g){var r,q,m=[],p=[],u=n.length,X;if(!(X=f)){X=c||"*";for(var s=l.nodeType?[l]:l,t=[],y=0,C=s.length;y<C;y++)I(X,s[y],t);X=t}X=!b||!f&&c?X:cb(X,m,b,l,g);s=d?j||(f?b:u||e)?[]:n:X;if(d&&d(X,s,l,g),e){r=cb(s,p);e(r,[],l,g);for(l=r.length;l--;)(q=r[l])&&(s[p[l]]=!(X[p[l]]=q))}if(f){if(j||b){if(j){r=[];for(l=s.length;l--;)(q=s[l])&&r.push(X[l]=q);j(null,s=[],r,g)}for(l=s.length;l--;)(q=s[l])&&-1<(r=j?Aa(f,q):m[l])&&
(f[r]=!(n[r]=q))}}else s=cb(s===n?s.splice(u,s.length):s),j?j(null,n,s,g):ra.apply(n,s)})},zb=function(b){var c,d,e,j=b.length,f=D.relative[b[0].type];d=f||D.relative[" "];for(var l=f?1:0,n=bb(function(b){return b===c},d,!0),g=bb(function(b){return-1<Aa(c,b)},d,!0),r=[function(b,d,x){b=!f&&(x||d!==db)||((c=d).nodeType?n(b,d,x):g(b,d,x));return c=null,b}];l<j;l++)if(d=D.relative[b[l].type])r=[bb(xb(r),d)];else{if(d=D.filter[b[l].type].apply(null,b[l].matches),d[N]){for(e=++l;e<j&&!D.relative[b[e].type];e++);
return yb(1<l&&xb(r),1<l&&$a(b.slice(0,l-1).concat({value:" "===b[l-2].type?"*":""})).replace(ab,"$1"),d,l<e&&zb(b.slice(l,e)),e<j&&zb(b=b.slice(e)),e<j&&$a(b))}r.push(d)}return xb(r)},Fa,P,D,eb,ac,Oa,Ab,Xb,db,sa,Ga,qa,G,ea,da,V,Ba,fb,Na,N="sizzle"+1*new Date,ca=sb.document,ka=0,Vc=0,bc=vb(),cc=vb(),Za=vb(),Bb=function(b,c){return b===c&&(Ga=!0),0},Wc={}.hasOwnProperty,Ca=[],Xc=Ca.pop,Yc=Ca.push,ra=Ca.push,dc=Ca.slice,Aa=function(b,c){for(var d=0,e=b.length;d<e;d++)if(b[d]===c)return d;return-1},
Zc=/[\x20\t\r\n\f]+/g,ab=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,$c=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ad=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,bd=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,cd=RegExp(":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
dd=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,gb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),PSEUDO:RegExp("^:((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},ed=/^(?:input|select|textarea|button)$/i,fd=/^h\d$/i,Pa=/^[^{]+\{\s*\[native \w/,Rc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tb=/[+~]/,ma=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,na=function(b,c,d){b="0x"+c-65536;return b!==b||d?c:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)},Vb=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Wb=function(b,c){return c?"\x00"===b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b},ec=function(){qa()},
Uc=bb(function(b){return!0===b.disabled&&("form"in b||"label"in b)},{dir:"parentNode",next:"legend"});try{ra.apply(Ca=dc.call(ca.childNodes),ca.childNodes),Ca[ca.childNodes.length].nodeType}catch(Id){ra={apply:Ca.length?function(b,c){Yc.apply(b,dc.call(c))}:function(b,c){for(var d=b.length,e=0;b[d++]=c[e++];);b.length=d-1}}}P=I.support={};ac=I.isXML=function(b){b=b&&(b.ownerDocument||b).documentElement;return!!b&&"HTML"!==b.nodeName};qa=I.setDocument=function(b){var c,d;b=b?b.ownerDocument||b:ca;
return b!==G&&9===b.nodeType&&b.documentElement?(G=b,ea=G.documentElement,da=!ac(G),ca!==G&&(d=G.defaultView)&&d.top!==d&&(d.addEventListener?d.addEventListener("unload",ec,!1):d.attachEvent&&d.attachEvent("onunload",ec)),P.attributes=ja(function(b){return b.className="i",!b.getAttribute("className")}),P.getElementsByTagName=ja(function(b){return b.appendChild(G.createComment("")),!b.getElementsByTagName("*").length}),P.getElementsByClassName=Pa.test(G.getElementsByClassName),P.getById=ja(function(b){return ea.appendChild(b).id=
N,!G.getElementsByName||!G.getElementsByName(N).length}),P.getById?(D.filter.ID=function(b){var c=b.replace(ma,na);return function(b){return b.getAttribute("id")===c}},D.find.ID=function(b,c){if("undefined"!=typeof c.getElementById&&da){var d=c.getElementById(b);return d?[d]:[]}}):(D.filter.ID=function(b){var c=b.replace(ma,na);return function(b){return(b="undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===c}},D.find.ID=function(b,c){if("undefined"!=typeof c.getElementById&&
da){var d,x,e,j=c.getElementById(b);if(j){if(d=j.getAttributeNode("id"),d&&d.value===b)return[j];e=c.getElementsByName(b);for(x=0;j=e[x++];)if(d=j.getAttributeNode("id"),d&&d.value===b)return[j]}return[]}}),D.find.TAG=P.getElementsByTagName?function(b,c){return"undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(b):P.qsa?c.querySelectorAll(b):void 0}:function(b,c){var d,x=[],e=0,j=c.getElementsByTagName(b);if("*"===b){for(;d=j[e++];)1===d.nodeType&&x.push(d);return x}return j},D.find.CLASS=
P.getElementsByClassName&&function(b,c){if("undefined"!=typeof c.getElementsByClassName&&da)return c.getElementsByClassName(b)},Ba=[],V=[],(P.qsa=Pa.test(G.querySelectorAll))&&(ja(function(b){ea.appendChild(b).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>";b.querySelectorAll("[msallowcapture^='']").length&&V.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");b.querySelectorAll("[selected]").length||V.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
b.querySelectorAll("[id~="+N+"-]").length||V.push("~=");b.querySelectorAll(":checked").length||V.push(":checked");b.querySelectorAll("a#"+N+"+*").length||V.push(".#.+[+~]")}),ja(function(b){b.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var c=G.createElement("input");c.setAttribute("type","hidden");b.appendChild(c).setAttribute("name","D");b.querySelectorAll("[name=d]").length&&V.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==b.querySelectorAll(":enabled").length&&
V.push(":enabled",":disabled");ea.appendChild(b).disabled=!0;2!==b.querySelectorAll(":disabled").length&&V.push(":enabled",":disabled");b.querySelectorAll("*,:x");V.push(",.*:")})),(P.matchesSelector=Pa.test(fb=ea.matches||ea.webkitMatchesSelector||ea.mozMatchesSelector||ea.oMatchesSelector||ea.msMatchesSelector))&&ja(function(b){P.disconnectedMatch=fb.call(b,"*");fb.call(b,"[s!='']:x");Ba.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
V=V.length&&RegExp(V.join("|")),Ba=Ba.length&&RegExp(Ba.join("|")),c=Pa.test(ea.compareDocumentPosition),Na=c||Pa.test(ea.contains)?function(b,c){var d=9===b.nodeType?b.documentElement:b,x=c&&c.parentNode;return b===x||!(!x||1!==x.nodeType||!(d.contains?d.contains(x):b.compareDocumentPosition&&16&b.compareDocumentPosition(x)))}:function(b,c){if(c)for(;c=c.parentNode;)if(c===b)return!0;return!1},Bb=c?function(b,c){if(b===c)return Ga=!0,0;var d=!b.compareDocumentPosition-!c.compareDocumentPosition;
return d?d:(d=(b.ownerDocument||b)===(c.ownerDocument||c)?b.compareDocumentPosition(c):1,1&d||!P.sortDetached&&c.compareDocumentPosition(b)===d?b===G||b.ownerDocument===ca&&Na(ca,b)?-1:c===G||c.ownerDocument===ca&&Na(ca,c)?1:sa?Aa(sa,b)-Aa(sa,c):0:4&d?-1:1)}:function(b,c){if(b===c)return Ga=!0,0;var d,x=0;d=b.parentNode;var e=c.parentNode,j=[b],f=[c];if(!d||!e)return b===G?-1:c===G?1:d?-1:e?1:sa?Aa(sa,b)-Aa(sa,c):0;if(d===e)return Yb(b,c);for(d=b;d=d.parentNode;)j.unshift(d);for(d=c;d=d.parentNode;)f.unshift(d);
for(;j[x]===f[x];)x++;return x?Yb(j[x],f[x]):j[x]===ca?-1:f[x]===ca?1:0},G):G};I.matches=function(b,c){return I(b,null,null,c)};I.matchesSelector=function(b,c){if((b.ownerDocument||b)!==G&&qa(b),c=c.replace(bd,"='$1']"),P.matchesSelector&&da&&!Za[c+" "]&&(!Ba||!Ba.test(c))&&(!V||!V.test(c)))try{var d=fb.call(b,c);if(d||P.disconnectedMatch||b.document&&11!==b.document.nodeType)return d}catch(e){}return 0<I(c,G,null,[b]).length};I.contains=function(b,c){return(b.ownerDocument||b)!==G&&qa(b),Na(b,c)};
I.attr=function(b,c){(b.ownerDocument||b)!==G&&qa(b);var d=D.attrHandle[c.toLowerCase()],d=d&&Wc.call(D.attrHandle,c.toLowerCase())?d(b,c,!da):void 0;return void 0!==d?d:P.attributes||!da?b.getAttribute(c):(d=b.getAttributeNode(c))&&d.specified?d.value:null};I.escape=function(b){return(b+"").replace(Vb,Wb)};I.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};I.uniqueSort=function(b){var c,d=[],e=0,j=0;if(Ga=!P.detectDuplicates,sa=!P.sortStable&&b.slice(0),b.sort(Bb),Ga){for(;c=
b[j++];)c===b[j]&&(e=d.push(j));for(;e--;)b.splice(d[e],1)}return sa=null,b};eb=I.getText=function(b){var c,d="",e=0;if(c=b.nodeType)if(1===c||9===c||11===c){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)d+=eb(b)}else{if(3===c||4===c)return b.nodeValue}else for(;c=b[e++];)d+=eb(c);return d};D=I.selectors={cacheLength:50,createPseudo:ha,match:gb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",
first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(ma,na),b[3]=(b[3]||b[4]||b[5]||"").replace(ma,na),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||I.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&I.error(b[0]),b},PSEUDO:function(b){var c,d=!b[6]&&b[2];return gb.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":d&&cd.test(d)&&
(c=Oa(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(b[0]=b[0].slice(0,c),b[2]=d.slice(0,c)),b.slice(0,3))}},filter:{TAG:function(b){var c=b.replace(ma,na).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===c}},CLASS:function(b){var c=bc[b+" "];return c||(c=RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))&&bc(b,function(b){return c.test("string"==typeof b.className&&b.className||"undefined"!=typeof b.getAttribute&&b.getAttribute("class")||
"")})},ATTR:function(b,c,d){return function(e){e=I.attr(e,b);return null==e?"!="===c:!c||(e+="","="===c?e===d:"!="===c?e!==d:"^="===c?d&&0===e.indexOf(d):"*="===c?d&&-1<e.indexOf(d):"$="===c?d&&e.slice(-d.length)===d:"~="===c?-1<(" "+e.replace(Zc," ")+" ").indexOf(d):"|="===c&&(e===d||e.slice(0,d.length+1)===d+"-"))}},CHILD:function(b,c,d,e,j){var f="nth"!==b.slice(0,3),l="last"!==b.slice(-4),n="of-type"===c;return 1===e&&0===j?function(b){return!!b.parentNode}:function(c,d,F){var g,r,K,q,m,p;d=f!==
l?"nextSibling":"previousSibling";var u=c.parentNode,s=n&&c.nodeName.toLowerCase();F=!F&&!n;var t=!1;if(u){if(f){for(;d;){for(q=c;q=q[d];)if(n?q.nodeName.toLowerCase()===s:1===q.nodeType)return!1;p=d="only"===b&&!p&&"nextSibling"}return!0}if(p=[l?u.firstChild:u.lastChild],l&&F){q=u;K=q[N]||(q[N]={});r=K[q.uniqueID]||(K[q.uniqueID]={});g=r[b]||[];t=(m=g[0]===ka&&g[1])&&g[2];for(q=m&&u.childNodes[m];q=++m&&q&&q[d]||(t=m=0)||p.pop();)if(1===q.nodeType&&++t&&q===c){r[b]=[ka,m,t];break}}else if(F&&(q=
c,K=q[N]||(q[N]={}),r=K[q.uniqueID]||(K[q.uniqueID]={}),g=r[b]||[],m=g[0]===ka&&g[1],t=m),!1===t)for(;(q=++m&&q&&q[d]||(t=m=0)||p.pop())&&(!(n?q.nodeName.toLowerCase()===s:1===q.nodeType)||!++t||!(F&&(K=q[N]||(q[N]={}),r=K[q.uniqueID]||(K[q.uniqueID]={}),r[b]=[ka,t]),q===c)););return t-=j,t===e||0===t%e&&0<=t/e}}},PSEUDO:function(b,c){var d,e=D.pseudos[b]||D.setFilters[b.toLowerCase()]||I.error("unsupported pseudo: "+b);return e[N]?e(c):1<e.length?(d=[b,b,"",c],D.setFilters.hasOwnProperty(b.toLowerCase())?
ha(function(b,d){for(var j,x=e(b,c),f=x.length;f--;)j=Aa(b,x[f]),b[j]=!(d[j]=x[f])}):function(b){return e(b,0,d)}):e}},pseudos:{not:ha(function(b){var c=[],d=[],e=Ab(b.replace(ab,"$1"));return e[N]?ha(function(b,c,d,j){var x;d=e(b,null,j,[]);for(j=b.length;j--;)(x=d[j])&&(b[j]=!(c[j]=x))}):function(b,j,x){return c[0]=b,e(c,null,x,d),c[0]=null,!d.pop()}}),has:ha(function(b){return function(c){return 0<I(b,c).length}}),contains:ha(function(b){return b=b.replace(ma,na),function(c){return-1<(c.textContent||
c.innerText||eb(c)).indexOf(b)}}),lang:ha(function(b){return dd.test(b||"")||I.error("unsupported lang: "+b),b=b.replace(ma,na).toLowerCase(),function(c){var d;do if(d=da?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return d=d.toLowerCase(),d===b||0===d.indexOf(b+"-");while((c=c.parentNode)&&1===c.nodeType);return!1}}),target:function(b){var c=sb.location&&sb.location.hash;return c&&c.slice(1)===b.id},root:function(b){return b===ea},focus:function(b){return b===G.activeElement&&(!G.hasFocus||
G.hasFocus())&&!(!b.type&&!b.href&&!~b.tabIndex)},enabled:Zb(!1),disabled:Zb(!0),checked:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&!!b.checked||"option"===c&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!D.pseudos.empty(b)},header:function(b){return fd.test(b.nodeName)},input:function(b){return ed.test(b.nodeName)},
button:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&"button"===b.type||"button"===c},text:function(b){var c;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(c=b.getAttribute("type"))||"text"===c.toLowerCase())},first:za(function(){return[0]}),last:za(function(b,c){return[c-1]}),eq:za(function(b,c,d){return[0>d?d+c:d]}),even:za(function(b,c){for(var d=0;d<c;d+=2)b.push(d);return b}),odd:za(function(b,c){for(var d=1;d<c;d+=2)b.push(d);return b}),lt:za(function(b,c,
d){for(c=0>d?d+c:d;0<=--c;)b.push(c);return b}),gt:za(function(b,c,d){for(d=0>d?d+c:d;++d<c;)b.push(d);return b})}};D.pseudos.nth=D.pseudos.eq;for(Fa in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[Fa]=Sc(Fa);for(Fa in{submit:!0,reset:!0})D.pseudos[Fa]=Tc(Fa);$b.prototype=D.filters=D.pseudos;D.setFilters=new $b;Oa=I.tokenize=function(b,c){var d,e,j,f,l,n,g;if(l=cc[b+" "])return c?0:l.slice(0);l=b;n=[];for(g=D.preFilter;l;){d&&!(e=$c.exec(l))||(e&&(l=l.slice(e[0].length)||l),n.push(j=
[]));d=!1;(e=ad.exec(l))&&(d=e.shift(),j.push({value:d,type:e[0].replace(ab," ")}),l=l.slice(d.length));for(f in D.filter)!(e=gb[f].exec(l))||g[f]&&!(e=g[f](e))||(d=e.shift(),j.push({value:d,type:f,matches:e}),l=l.slice(d.length));if(!d)break}return c?l.length:l?I.error(b):cc(b,n).slice(0)};pa=(Ab=I.compile=function(b,c){var d,e=[],j=[],f=Za[b+" "];if(!f){c||(c=Oa(b));for(d=c.length;d--;)f=zb(c[d]),f[N]?e.push(f):j.push(f);d=Za;var l=0<e.length,n=0<j.length,f=function(b,c,d,x,f){var F,g,r,K=0,q="0",
m=b&&[],p=[],u=db,s=b||n&&D.find.TAG("*",f),t=ka+=null==u?1:Math.random()||0.1,X=s.length;for(f&&(db=c===G||c||f);q!==X&&null!=(F=s[q]);q++){if(n&&F){g=0;for(c||F.ownerDocument===G||(qa(F),d=!da);r=j[g++];)if(r(F,c||G,d)){x.push(F);break}f&&(ka=t)}l&&((F=!r&&F)&&K--,b&&m.push(F))}if(K+=q,l&&q!==K){for(g=0;r=e[g++];)r(m,p,c,d);if(b){if(0<K)for(;q--;)m[q]||p[q]||(p[q]=Xc.call(x));p=cb(p)}ra.apply(x,p);f&&!b&&0<p.length&&1<K+e.length&&I.uniqueSort(x)}return f&&(ka=t,db=u),m},f=l?ha(f):f,f=d(b,f);f.selector=
b}return f},Xb=I.select=function(b,c,d,e){var j,f,l,n,g,r="function"==typeof b&&b,q=!e&&Oa(b=r.selector||b);if(d=d||[],1===q.length){if(f=q[0]=q[0].slice(0),2<f.length&&"ID"===(l=f[0]).type&&9===c.nodeType&&da&&D.relative[f[1].type]){if(c=(D.find.ID(l.matches[0].replace(ma,na),c)||[])[0],!c)return d;r&&(c=c.parentNode);b=b.slice(f.shift().value.length)}for(j=gb.needsContext.test(b)?0:f.length;j--&&!(l=f[j],D.relative[n=l.type]);)if((g=D.find[n])&&(e=g(l.matches[0].replace(ma,na),tb.test(f[0].type)&&
ub(c.parentNode)||c))){if(f.splice(j,1),b=e.length&&$a(f),!b)return ra.apply(d,e),d;break}}return(r||Ab(b,q))(e,c,!da,d,!c||tb.test(b)&&ub(c.parentNode)||c),d},P.sortStable=N.split("").sort(Bb).join("")===N,P.detectDuplicates=!!Ga,qa(),P.sortDetached=ja(function(b){return 1&b.compareDocumentPosition(G.createElement("fieldset"))}),ja(function(b){return b.innerHTML="<a href='#'></a>","#"===b.firstChild.getAttribute("href")})||wb("type|href|height|width",function(b,c,d){if(!d)return b.getAttribute(c,
"type"===c.toLowerCase()?1:2)}),P.attributes&&ja(function(b){return b.innerHTML="<input/>",b.firstChild.setAttribute("value",""),""===b.firstChild.getAttribute("value")})||wb("value",function(b,c,d){if(!d&&"input"===b.nodeName.toLowerCase())return b.defaultValue}),ja(function(b){return null==b.getAttribute("disabled")})||wb("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(b,c,d){var e;if(!d)return!0===b[c]?c.toLowerCase():
(e=b.getAttributeNode(c))&&e.specified?e.value:null}),I);l.find=pa;l.expr=pa.selectors;l.expr[":"]=l.expr.pseudos;l.uniqueSort=l.unique=pa.uniqueSort;l.text=pa.getText;l.isXMLDoc=pa.isXML;l.contains=pa.contains;l.escapeSelector=pa.escape;var Ha=function(b,c,d){for(var e=[],j=void 0!==d;(b=b[c])&&9!==b.nodeType;)if(1===b.nodeType){if(j&&l(b).is(d))break;e.push(b)}return e},fc=function(b,c){for(var d=[];b;b=b.nextSibling)1===b.nodeType&&b!==c&&d.push(b);return d},gc=l.expr.match.needsContext,hc=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,
Cc=/^.[^:#\[\.,]*$/;l.filter=function(b,c,d){var e=c[0];return d&&(b=":not("+b+")"),1===c.length&&1===e.nodeType?l.find.matchesSelector(e,b)?[e]:[]:l.find.matches(b,l.grep(c,function(b){return 1===b.nodeType}))};l.fn.extend({find:function(b){var c,d,e=this.length,j=this;if("string"!=typeof b)return this.pushStack(l(b).filter(function(){for(c=0;c<e;c++)if(l.contains(j[c],this))return!0}));d=this.pushStack([]);for(c=0;c<e;c++)l.find(b,j[c],d);return 1<e?l.uniqueSort(d):d},filter:function(b){return this.pushStack(g(this,
b||[],!1))},not:function(b){return this.pushStack(g(this,b||[],!0))},is:function(b){return!!g(this,"string"==typeof b&&gc.test(b)?l(b):b||[],!1).length}});var ic,gd=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(l.fn.init=function(b,c,d){var e,j;if(!b)return this;if(d=d||ic,"string"==typeof b){if(e="<"===b[0]&&">"===b[b.length-1]&&3<=b.length?[null,b,null]:gd.exec(b),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(b):this.constructor(c).find(b);if(e[1]){if(c=c instanceof l?c[0]:c,l.merge(this,l.parseHTML(e[1],
c&&c.nodeType?c.ownerDocument||c:B,!0)),hc.test(e[1])&&l.isPlainObject(c))for(e in c)l.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}return j=B.getElementById(e[2]),j&&(this[0]=j,this.length=1),this}return b.nodeType?(this[0]=b,this.length=1,this):l.isFunction(b)?void 0!==d.ready?d.ready(b):b(l):l.makeArray(b,this)}).prototype=l.fn;ic=l(B);var hd=/^(?:parents|prev(?:Until|All))/,id={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({has:function(b){var c=l(b,this),d=c.length;
return this.filter(function(){for(var b=0;b<d;b++)if(l.contains(this,c[b]))return!0})},closest:function(b,c){var d,e=0,j=this.length,f=[],n="string"!=typeof b&&l(b);if(!gc.test(b))for(;e<j;e++)for(d=this[e];d&&d!==c;d=d.parentNode)if(11>d.nodeType&&(n?-1<n.index(d):1===d.nodeType&&l.find.matchesSelector(d,b))){f.push(d);break}return this.pushStack(1<f.length?l.uniqueSort(f):f)},index:function(b){return b?"string"==typeof b?Ja.call(l(b),this[0]):Ja.call(this,b.jquery?b[0]:b):this[0]&&this[0].parentNode?
this.first().prevAll().length:-1},add:function(b,c){return this.pushStack(l.uniqueSort(l.merge(this.get(),l(b,c))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});l.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return Ha(b,"parentNode")},parentsUntil:function(b,c,d){return Ha(b,"parentNode",d)},next:function(b){return m(b,"nextSibling")},prev:function(b){return m(b,"previousSibling")},nextAll:function(b){return Ha(b,
"nextSibling")},prevAll:function(b){return Ha(b,"previousSibling")},nextUntil:function(b,c,d){return Ha(b,"nextSibling",d)},prevUntil:function(b,c,d){return Ha(b,"previousSibling",d)},siblings:function(b){return fc((b.parentNode||{}).firstChild,b)},children:function(b){return fc(b.firstChild)},contents:function(b){return f(b,"iframe")?b.contentDocument:(f(b,"template")&&(b=b.content||b),l.merge([],b.childNodes))}},function(b,c){l.fn[b]=function(d,e){var j=l.map(this,c,d);return"Until"!==b.slice(-5)&&
(e=d),e&&"string"==typeof e&&(j=l.filter(e,j)),1<this.length&&(id[b]||l.uniqueSort(j),hd.test(b)&&j.reverse()),this.pushStack(j)}});var ba=/[^\x20\t\r\n\f]+/g;l.Callbacks=function(b){var c;if("string"==typeof b){var d={};c=(l.each(b.match(ba)||[],function(b,c){d[c]=!0}),d)}else c=l.extend({},b);b=c;var e,j,f,n,g=[],r=[],q=-1,m=function(){n=n||b.once;for(f=e=!0;r.length;q=-1)for(j=r.shift();++q<g.length;)!1===g[q].apply(j[0],j[1])&&b.stopOnFalse&&(q=g.length,j=!1);b.memory||(j=!1);e=!1;n&&(g=j?[]:
"")},p={add:function(){return g&&(j&&!e&&(q=g.length-1,r.push(j)),function Ic(c){l.each(c,function(c,d){l.isFunction(d)?b.unique&&p.has(d)||g.push(d):d&&d.length&&"string"!==l.type(d)&&Ic(d)})}(arguments),j&&!e&&m()),this},remove:function(){return l.each(arguments,function(b,c){for(var d;-1<(d=l.inArray(c,g,d));)g.splice(d,1),d<=q&&q--}),this},has:function(b){return b?-1<l.inArray(b,g):0<g.length},empty:function(){return g&&(g=[]),this},disable:function(){return n=r=[],g=j="",this},disabled:function(){return!g},
lock:function(){return n=r=[],j||e||(g=j=""),this},locked:function(){return!!n},fireWith:function(b,c){return n||(c=c||[],c=[b,c.slice?c.slice():c],r.push(c),e||m()),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!f}};return p};l.extend({Deferred:function(c){var d=[["notify","progress",l.Callbacks("memory"),l.Callbacks("memory"),2],["resolve","done",l.Callbacks("once memory"),l.Callbacks("once memory"),0,"resolved"],["reject","fail",l.Callbacks("once memory"),
l.Callbacks("once memory"),1,"rejected"]],e="pending",f={state:function(){return e},always:function(){return n.done(arguments).fail(arguments),this},"catch":function(b){return f.then(null,b)},pipe:function(){var b=arguments;return l.Deferred(function(c){l.each(d,function(d,e){var j=l.isFunction(b[e[4]])&&b[e[4]];n[e[1]](function(){var b=j&&j.apply(this,arguments);b&&l.isFunction(b.promise)?b.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[e[0]+"With"](this,j?[b]:arguments)})});b=null}).promise()},
then:function(c,e,f){function x(c,d,e,f){return function(){var g=this,r=arguments,F=function(){var b,F;if(!(c<n)){if(b=e.apply(g,r),b===d.promise())throw new TypeError("Thenable self-resolution");F=b&&("object"==typeof b||"function"==typeof b)&&b.then;l.isFunction(F)?f?F.call(b,x(n,d,p,f),x(n,d,j,f)):(n++,F.call(b,x(n,d,p,f),x(n,d,j,f),x(n,d,p,d.notifyWith))):(e!==p&&(g=void 0,r=[b]),(f||d.resolveWith)(g,r))}},q=f?F:function(){try{F()}catch(b){l.Deferred.exceptionHook&&l.Deferred.exceptionHook(b,
q.stackTrace),c+1>=n&&(e!==j&&(g=void 0,r=[b]),d.rejectWith(g,r))}};c?q():(l.Deferred.getStackHook&&(q.stackTrace=l.Deferred.getStackHook()),b.setTimeout(q))}}var n=0;return l.Deferred(function(b){d[0][3].add(x(0,b,l.isFunction(f)?f:p,b.notifyWith));d[1][3].add(x(0,b,l.isFunction(c)?c:p));d[2][3].add(x(0,b,l.isFunction(e)?e:j))}).promise()},promise:function(b){return null!=b?l.extend(b,f):f}},n={};return l.each(d,function(b,c){var j=c[2],x=c[5];f[c[1]]=j.add;x&&j.add(function(){e=x},d[3-b][2].disable,
d[0][2].lock);j.add(c[3].fire);n[c[0]]=function(){return n[c[0]+"With"](this===n?void 0:this,arguments),this};n[c[0]+"With"]=j.fireWith}),f.promise(n),c&&c.call(n,n),n},when:function(b){var c=arguments.length,d=c,e=Array(d),j=ya.call(arguments),f=l.Deferred(),g=function(b){return function(d){e[b]=this;j[b]=1<arguments.length?ya.call(arguments):d;--c||f.resolveWith(e,j)}};if(1>=c&&(n(b,f.done(g(d)).resolve,f.reject,!c),"pending"===f.state()||l.isFunction(j[d]&&j[d].then)))return f.then();for(;d--;)n(j[d],
g(d),f.reject);return f.promise()}});var jd=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;l.Deferred.exceptionHook=function(c,d){b.console&&b.console.warn&&c&&jd.test(c.name)&&b.console.warn("jQuery.Deferred exception: "+c.message,c.stack,d)};l.readyException=function(c){b.setTimeout(function(){throw c;})};var Cb=l.Deferred();l.fn.ready=function(b){return Cb.then(b)["catch"](function(b){l.readyException(b)}),this};l.extend({isReady:!1,readyWait:1,ready:function(b){(!0===b?--l.readyWait:
l.isReady)||(l.isReady=!0,!0!==b&&0<--l.readyWait||Cb.resolveWith(B,[l]))}});l.ready.then=Cb.then;"complete"===B.readyState||"loading"!==B.readyState&&!B.documentElement.doScroll?b.setTimeout(l.ready):(B.addEventListener("DOMContentLoaded",r),b.addEventListener("load",r));var oa=function(b,c,d,e,j,f,n){var g=0,r=b.length,q=null==d;if("object"===l.type(d))for(g in j=!0,d)oa(b,c,g,d[g],!0,f,n);else if(void 0!==e&&(j=!0,l.isFunction(e)||(n=!0),q&&(n?(c.call(b,e),c=null):(q=c,c=function(b,c,d){return q.call(l(b),
d)})),c))for(;g<r;g++)c(b[g],d,n?e:e.call(b[g],g,c(b[g],d)));return j?b:q?c.call(b):r?c(b[0],d):f},hb=function(b){return 1===b.nodeType||9===b.nodeType||!+b.nodeType};q.uid=1;q.prototype={cache:function(b){var c=b[this.expando];return c||(c={},hb(b)&&(b.nodeType?b[this.expando]=c:Object.defineProperty(b,this.expando,{value:c,configurable:!0}))),c},set:function(b,c,d){var e;b=this.cache(b);if("string"==typeof c)b[l.camelCase(c)]=d;else for(e in c)b[l.camelCase(e)]=c[e];return b},get:function(b,c){return void 0===
c?this.cache(b):b[this.expando]&&b[this.expando][l.camelCase(c)]},access:function(b,c,d){return void 0===c||c&&"string"==typeof c&&void 0===d?this.get(b,c):(this.set(b,c,d),void 0!==d?d:c)},remove:function(b,c){var d,e=b[this.expando];if(void 0!==e){if(void 0!==c){Array.isArray(c)?c=c.map(l.camelCase):(c=l.camelCase(c),c=c in e?[c]:c.match(ba)||[]);for(d=c.length;d--;)delete e[c[d]]}(void 0===c||l.isEmptyObject(e))&&(b.nodeType?b[this.expando]=void 0:delete b[this.expando])}},hasData:function(b){b=
b[this.expando];return void 0!==b&&!l.isEmptyObject(b)}};var A=new q,W=new q,Ec=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dc=/[A-Z]/g;l.extend({hasData:function(b){return W.hasData(b)||A.hasData(b)},data:function(b,c,d){return W.access(b,c,d)},removeData:function(b,c){W.remove(b,c)},_data:function(b,c,d){return A.access(b,c,d)},_removeData:function(b,c){A.remove(b,c)}});l.fn.extend({data:function(b,c){var d,e,j,f=this[0],n=f&&f.attributes;if(void 0===b){if(this.length&&(j=W.get(f),1===f.nodeType&&!A.get(f,
"hasDataAttrs"))){for(d=n.length;d--;)n[d]&&(e=n[d].name,0===e.indexOf("data-")&&(e=l.camelCase(e.slice(5)),s(f,e,j[e])));A.set(f,"hasDataAttrs",!0)}return j}return"object"==typeof b?this.each(function(){W.set(this,b)}):oa(this,function(c){var d;if(f&&void 0===c){if((d=W.get(f,b),void 0!==d)||(d=s(f,b),void 0!==d))return d}else this.each(function(){W.set(this,b,c)})},null,c,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){W.remove(this,b)})}});l.extend({queue:function(b,
c,d){var e;if(b)return c=(c||"fx")+"queue",e=A.get(b,c),d&&(!e||Array.isArray(d)?e=A.access(b,c,l.makeArray(d)):e.push(d)),e||[]},dequeue:function(b,c){c=c||"fx";var d=l.queue(b,c),e=d.length,j=d.shift(),f=l._queueHooks(b,c),n=function(){l.dequeue(b,c)};"inprogress"===j&&(j=d.shift(),e--);j&&("fx"===c&&d.unshift("inprogress"),delete f.stop,j.call(b,n,f));!e&&f&&f.empty.fire()},_queueHooks:function(b,c){var d=c+"queueHooks";return A.get(b,d)||A.access(b,d,{empty:l.Callbacks("once memory").add(function(){A.remove(b,
[c+"queue",d])})})}});l.fn.extend({queue:function(b,c){var d=2;return"string"!=typeof b&&(c=b,b="fx",d--),arguments.length<d?l.queue(this[0],b):void 0===c?this:this.each(function(){var d=l.queue(this,b,c);l._queueHooks(this,b);"fx"===b&&"inprogress"!==d[0]&&l.dequeue(this,b)})},dequeue:function(b){return this.each(function(){l.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,c){var d,e=1,j=l.Deferred(),f=this,n=this.length,g=function(){--e||j.resolveWith(f,
[f])};"string"!=typeof b&&(c=b,b=void 0);for(b=b||"fx";n--;)(d=A.get(f[n],b+"queueHooks"))&&d.empty&&(e++,d.empty.add(g));return g(),j.promise(c)}});var jc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ka=RegExp("^(?:([+-])=|)("+jc+")([a-z%]*)$","i"),ua=["Top","Right","Bottom","Left"],Ta=function(b,c){return b=c||b,"none"===b.style.display||""===b.style.display&&l.contains(b.ownerDocument,b)&&"none"===l.css(b,"display")},kc=function(b,c,d,e){var j,f={};for(j in c)f[j]=b.style[j],b.style[j]=c[j];d=
d.apply(b,e||[]);for(j in c)b.style[j]=f[j];return d},Gb={};l.fn.extend({show:function(){return t(this,!0)},hide:function(){return t(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():this.hide():this.each(function(){Ta(this)?l(this).show():l(this).hide()})}});var lc=/^(?:checkbox|radio)$/i,Hb=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ib=/^$|\/(?:java|ecma)script/i,aa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],
tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};aa.optgroup=aa.option;aa.tbody=aa.tfoot=aa.colgroup=aa.caption=aa.thead;aa.th=aa.td;var Fc=/<|&#?\w+;/,ib=B.createDocumentFragment().appendChild(B.createElement("div")),jb=B.createElement("input");jb.setAttribute("type","radio");jb.setAttribute("checked","checked");jb.setAttribute("name","t");ib.appendChild(jb);M.checkClone=ib.cloneNode(!0).cloneNode(!0).lastChild.checked;ib.innerHTML=
"<textarea>x</textarea>";M.noCloneChecked=!!ib.cloneNode(!0).lastChild.defaultValue;!0;var kb=B.documentElement,kd=/^key/,ld=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,mc=/^([^.]*)(?:\.(.+)|)/;l.event={global:{},add:function(b,c,d,e,j){var f,n,g,r,q,m,p,u,s,t;if(q=A.get(b)){d.handler&&(f=d,d=f.handler,j=f.selector);j&&l.find.matchesSelector(kb,j);d.guid||(d.guid=l.guid++);(r=q.events)||(r=q.events={});(n=q.handle)||(n=q.handle=function(c){return"undefined"!=typeof l&&l.event.triggered!==c.type?
l.event.dispatch.apply(b,arguments):void 0});c=(c||"").match(ba)||[""];for(q=c.length;q--;)g=mc.exec(c[q])||[],s=t=g[1],g=(g[2]||"").split(".").sort(),s&&(p=l.event.special[s]||{},s=(j?p.delegateType:p.bindType)||s,p=l.event.special[s]||{},m=l.extend({type:s,origType:t,data:e,handler:d,guid:d.guid,selector:j,needsContext:j&&l.expr.match.needsContext.test(j),namespace:g.join(".")},f),(u=r[s])||(u=r[s]=[],u.delegateCount=0,p.setup&&!1!==p.setup.call(b,e,g,n)||b.addEventListener&&b.addEventListener(s,
n)),p.add&&(p.add.call(b,m),m.handler.guid||(m.handler.guid=d.guid)),j?u.splice(u.delegateCount++,0,m):u.push(m),l.event.global[s]=!0)}},remove:function(b,c,d,e,j){var f,n,g,r,q,m,p,u,s,t,y,C=A.hasData(b)&&A.get(b);if(C&&(r=C.events)){c=(c||"").match(ba)||[""];for(q=c.length;q--;)if(g=mc.exec(c[q])||[],s=y=g[1],t=(g[2]||"").split(".").sort(),s){p=l.event.special[s]||{};s=(e?p.delegateType:p.bindType)||s;u=r[s]||[];g=g[2]&&RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)");for(n=f=u.length;f--;)m=
u[f],!j&&y!==m.origType||d&&d.guid!==m.guid||g&&!g.test(m.namespace)||e&&e!==m.selector&&("**"!==e||!m.selector)||(u.splice(f,1),m.selector&&u.delegateCount--,p.remove&&p.remove.call(b,m));n&&!u.length&&(p.teardown&&!1!==p.teardown.call(b,t,C.handle)||l.removeEvent(b,s,C.handle),delete r[s])}else for(s in r)l.event.remove(b,s+c[q],d,e,!0);l.isEmptyObject(r)&&A.remove(b,"handle events")}},dispatch:function(b){var c=l.event.fix(b),d,e,j,f,n,g,r=Array(arguments.length);e=(A.get(this,"events")||{})[c.type]||
[];var q=l.event.special[c.type]||{};r[0]=c;for(d=1;d<arguments.length;d++)r[d]=arguments[d];if(c.delegateTarget=this,!q.preDispatch||!1!==q.preDispatch.call(this,c)){g=l.event.handlers.call(this,c,e);for(d=0;(f=g[d++])&&!c.isPropagationStopped();){c.currentTarget=f.elem;for(e=0;(n=f.handlers[e++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!c.rnamespace.test(n.namespace)||(c.handleObj=n,c.data=n.data,j=((l.event.special[n.origType]||{}).handle||n.handler).apply(f.elem,r),void 0!==j&&!1===
(c.result=j)&&(c.preventDefault(),c.stopPropagation()))}return q.postDispatch&&q.postDispatch.call(this,c),c.result}},handlers:function(b,c){var d,e,j,f,n,g=[],r=c.delegateCount,q=b.target;if(r&&q.nodeType&&!("click"===b.type&&1<=b.button))for(;q!==this;q=q.parentNode||this)if(1===q.nodeType&&("click"!==b.type||!0!==q.disabled)){f=[];n={};for(d=0;d<r;d++)e=c[d],j=e.selector+" ",void 0===n[j]&&(n[j]=e.needsContext?-1<l(j,this).index(q):l.find(j,this,null,[q]).length),n[j]&&f.push(e);f.length&&g.push({elem:q,
handlers:f})}return q=this,r<c.length&&g.push({elem:q,handlers:c.slice(r)}),g},addProp:function(b,c){Object.defineProperty(l.Event.prototype,b,{enumerable:!0,configurable:!0,get:l.isFunction(c)?function(){if(this.originalEvent)return c(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[b]},set:function(c){Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:c})}})},fix:function(b){return b[l.expando]?b:new l.Event(b)},special:{load:{noBubble:!0},
focus:{trigger:function(){if(this!==La()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===La()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&f(this,"input"))return this.click(),!1},_default:function(b){return f(b.target,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}}};l.removeEvent=function(b,c,d){b.removeEventListener&&
b.removeEventListener(c,d)};l.Event=function(b,c){return this instanceof l.Event?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&!1===b.returnValue?fa:L,this.target=b.target&&3===b.target.nodeType?b.target.parentNode:b.target,this.currentTarget=b.currentTarget,this.relatedTarget=b.relatedTarget):this.type=b,c&&l.extend(this,c),this.timeStamp=b&&b.timeStamp||l.now(),void(this[l.expando]=!0)):new l.Event(b,c)};l.Event.prototype=
{constructor:l.Event,isDefaultPrevented:L,isPropagationStopped:L,isImmediatePropagationStopped:L,isSimulated:!1,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=fa;b&&!this.isSimulated&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=fa;b&&!this.isSimulated&&b.stopPropagation()},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=fa;b&&!this.isSimulated&&b.stopImmediatePropagation();
this.stopPropagation()}};l.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(b){var c=b.button;return null==b.which&&kd.test(b.type)?null!=b.charCode?b.charCode:b.keyCode:!b.which&&void 0!==c&&ld.test(b.type)?
1&c?1:2&c?3:4&c?2:0:b.which}},l.event.addProp);l.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,c){l.event.special[b]={delegateType:c,bindType:c,handle:function(b){var d,e=b.relatedTarget,j=b.handleObj;return e&&(e===this||l.contains(this,e))||(b.type=j.origType,d=j.handler.apply(this,arguments),b.type=c),d}}});l.fn.extend({on:function(b,c,d,e){return ta(this,b,c,d,e)},one:function(b,c,d,e){return ta(this,b,c,d,e,1)},off:function(b,
c,d){var e,j;if(b&&b.preventDefault&&b.handleObj)return e=b.handleObj,l(b.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof b){for(j in b)this.off(j,c,b[j]);return this}return!1!==c&&"function"!=typeof c||(d=c,c=void 0),!1===d&&(d=L),this.each(function(){l.event.remove(this,b,d,c)})}});var md=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,nd=/<script|<style|<link/i,Hc=/checked\s*(?:[^=]|=\s*.checked.)/i,
Gc=/^true\/(.*)/,Jc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;l.extend({htmlPrefilter:function(b){return b.replace(md,"<$1></$2>")},clone:function(b,c,d){var e,j,f,n,g=b.cloneNode(!0),r=l.contains(b.ownerDocument,b);if(!M.noCloneChecked&&!(1!==b.nodeType&&11!==b.nodeType||l.isXMLDoc(b))){n=y(g);f=y(b);e=0;for(j=f.length;e<j;e++){var q=f[e],m=n[e],p=m.nodeName.toLowerCase();"input"===p&&lc.test(q.type)?m.checked=q.checked:"input"!==p&&"textarea"!==p||(m.defaultValue=q.defaultValue)}}if(c)if(d){f=
f||y(b);n=n||y(g);e=0;for(j=f.length;e<j;e++)Jb(f[e],n[e])}else Jb(b,g);return n=y(g,"script"),0<n.length&&C(n,!r&&y(b,"script")),g},cleanData:function(b){for(var c,d,e,j=l.event.special,f=0;void 0!==(d=b[f]);f++)if(hb(d)){if(c=d[A.expando]){if(c.events)for(e in c.events)j[e]?l.event.remove(d,e):l.removeEvent(d,e,c.handle);d[A.expando]=void 0}d[W.expando]&&(d[W.expando]=void 0)}}});l.fn.extend({detach:function(b){return Y(this,b,!0)},remove:function(b){return Y(this,b)},text:function(b){return oa(this,
function(b){return void 0===b?l.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=b)})},null,b,arguments.length)},append:function(){return Q(this,arguments,function(b){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&z(this,b).appendChild(b)})},prepend:function(){return Q(this,arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=z(this,b);c.insertBefore(b,c.firstChild)}})},before:function(){return Q(this,
arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return Q(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},empty:function(){for(var b,c=0;null!=(b=this[c]);c++)1===b.nodeType&&(l.cleanData(y(b,!1)),b.textContent="");return this},clone:function(b,c){return b=null!=b&&b,c=null==c?b:c,this.map(function(){return l.clone(this,b,c)})},html:function(b){return oa(this,function(b){var c=this[0]||{},d=0,e=this.length;
if(void 0===b&&1===c.nodeType)return c.innerHTML;if("string"==typeof b&&!nd.test(b)&&!aa[(Hb.exec(b)||["",""])[1].toLowerCase()]){b=l.htmlPrefilter(b);try{for(;d<e;d++)c=this[d]||{},1===c.nodeType&&(l.cleanData(y(c,!1)),c.innerHTML=b);c=0}catch(j){}}c&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=[];return Q(this,arguments,function(c){var d=this.parentNode;0>l.inArray(this,b)&&(l.cleanData(y(this)),d&&d.replaceChild(c,this))},b)}});l.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,c){l.fn[b]=function(b){for(var d=[],e=l(b),j=e.length-1,f=0;f<=j;f++)b=f===j?this:this.clone(!0),l(e[f])[c](b),rb.apply(d,b.get());return this.pushStack(d)}});var Lb=/^margin/,nb=RegExp("^("+jc+")(?!px)[a-z%]+$","i"),Va=function(c){var d=c.ownerDocument.defaultView;return d&&d.opener||(d=b),d.getComputedStyle(c)},mb=function(){if(ia){ia.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";
ia.innerHTML="";kb.appendChild(lb);var c=b.getComputedStyle(ia);nc="1%"!==c.top;oc="2px"===c.marginLeft;pc="4px"===c.width;ia.style.marginRight="50%";qc="4px"===c.marginRight;kb.removeChild(lb);ia=null}},nc,pc,qc,oc,lb=B.createElement("div"),ia=B.createElement("div");ia.style&&(ia.style.backgroundClip="content-box",ia.cloneNode(!0).style.backgroundClip="",M.clearCloneStyle="content-box"===ia.style.backgroundClip,lb.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",
lb.appendChild(ia),l.extend(M,{pixelPosition:function(){return mb(),nc},boxSizingReliable:function(){return mb(),pc},pixelMarginRight:function(){return mb(),qc},reliableMarginLeft:function(){return mb(),oc}}));!0;var od=/^(none|table(?!-c[ea]).+)/,rc=/^--/,pd={position:"absolute",visibility:"hidden",display:"block"},sc={letterSpacing:"0",fontWeight:"400"},Ob=["Webkit","Moz","ms"],Nb=B.createElement("div").style;l.extend({cssHooks:{opacity:{get:function(b,c){if(c){var d=Ma(b,"opacity");return""===
d?"1":d}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(b,c,d,e){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var j,f,n,g=l.camelCase(c),r=rc.test(c),q=b.style;return r||(c=S(g)),n=l.cssHooks[c]||l.cssHooks[g],void 0===d?n&&"get"in n&&void 0!==(j=n.get(b,!1,e))?j:q[c]:(f=typeof d,"string"===f&&(j=Ka.exec(d))&&j[1]&&
(d=u(b,c,j),f="number"),null!=d&&d===d&&("number"===f&&(d+=j&&j[3]||(l.cssNumber[g]?"":"px")),M.clearCloneStyle||""!==d||0!==c.indexOf("background")||(q[c]="inherit"),n&&"set"in n&&void 0===(d=n.set(b,d,e))||(r?q.setProperty(c,d):q[c]=d)),void 0)}},css:function(b,c,d,e){var j,f,n,g=l.camelCase(c);return rc.test(c)||(c=S(g)),n=l.cssHooks[c]||l.cssHooks[g],n&&"get"in n&&(j=n.get(b,!0,d)),void 0===j&&(j=Ma(b,c,e)),"normal"===j&&c in sc&&(j=sc[c]),""===d||d?(f=parseFloat(j),!0===d||isFinite(f)?f||0:j):
j}});l.each(["height","width"],function(b,c){l.cssHooks[c]={get:function(b,d,e){if(d)return!od.test(l.css(b,"display"))||b.getClientRects().length&&b.getBoundingClientRect().width?Pb(b,c,e):kc(b,pd,function(){return Pb(b,c,e)})},set:function(b,d,e){var j,f=e&&Va(b);e=e&&U(b,c,e,"border-box"===l.css(b,"boxSizing",!1,f),f);return e&&(j=Ka.exec(d))&&"px"!==(j[3]||"px")&&(b.style[c]=d,d=l.css(b,c)),T(b,d,e)}}});l.cssHooks.marginLeft=Mb(M.reliableMarginLeft,function(b,c){if(c)return(parseFloat(Ma(b,"marginLeft"))||
b.getBoundingClientRect().left-kc(b,{marginLeft:0},function(){return b.getBoundingClientRect().left}))+"px"});l.each({margin:"",padding:"",border:"Width"},function(b,c){l.cssHooks[b+c]={expand:function(d){var e=0,j={};for(d="string"==typeof d?d.split(" "):[d];4>e;e++)j[b+ua[e]+c]=d[e]||d[e-2]||d[0];return j}};Lb.test(b)||(l.cssHooks[b+c].set=T)});l.fn.extend({css:function(b,c){return oa(this,function(b,c,d){var e,j={},f=0;if(Array.isArray(c)){d=Va(b);for(e=c.length;f<e;f++)j[c[f]]=l.css(b,c[f],!1,
d);return j}return void 0!==d?l.style(b,c,d):l.css(b,c)},b,c,1<arguments.length)}});l.Tween=O;O.prototype={constructor:O,init:function(b,c,d,e,j,f){this.elem=b;this.prop=d;this.easing=j||l.easing._default;this.options=c;this.start=this.now=this.cur();this.end=e;this.unit=f||(l.cssNumber[d]?"":"px")},cur:function(){var b=O.propHooks[this.prop];return b&&b.get?b.get(this):O.propHooks._default.get(this)},run:function(b){var c,d=O.propHooks[this.prop];return this.options.duration?this.pos=c=l.easing[this.easing](b,
this.options.duration*b,0,1,this.options.duration):this.pos=c=b,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):O.propHooks._default.set(this),this}};O.prototype.init.prototype=O.prototype;O.propHooks={_default:{get:function(b){var c;return 1!==b.elem.nodeType||null!=b.elem[b.prop]&&null==b.elem.style[b.prop]?b.elem[b.prop]:(c=l.css(b.elem,b.prop,""),c&&"auto"!==c?c:0)},set:function(b){l.fx.step[b.prop]?l.fx.step[b.prop](b):
1!==b.elem.nodeType||null==b.elem.style[l.cssProps[b.prop]]&&!l.cssHooks[b.prop]?b.elem[b.prop]=b.now:l.style(b.elem,b.prop,b.now+b.unit)}}};O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};l.easing={linear:function(b){return b},swing:function(b){return 0.5-Math.cos(b*Math.PI)/2},_default:"swing"};l.fx=O.prototype.init;l.fx.step={};var Ea,Wa,qd=/^(?:toggle|show|hide)$/,rd=/queueHooks$/;l.Animation=l.extend(ga,{tweeners:{"*":[function(b,
c){var d=this.createTween(b,c);return u(d.elem,b,Ka.exec(c),d),d}]},tweener:function(b,c){l.isFunction(b)?(c=b,b=["*"]):b=b.match(ba);for(var d,e=0,j=b.length;e<j;e++)d=b[e],ga.tweeners[d]=ga.tweeners[d]||[],ga.tweeners[d].unshift(c)},prefilters:[function(b,c,d){var e,j,f,n,g,r,q,m,p="width"in c||"height"in c,u=this,s={},y=b.style,C=b.nodeType&&Ta(b),E=A.get(b,"fxshow");d.queue||(n=l._queueHooks(b,"fx"),null==n.unqueued&&(n.unqueued=0,g=n.empty.fire,n.empty.fire=function(){n.unqueued||g()}),n.unqueued++,
u.always(function(){u.always(function(){n.unqueued--;l.queue(b,"fx").length||n.empty.fire()})}));for(e in c)if(j=c[e],qd.test(j)){if(delete c[e],f=f||"toggle"===j,j===(C?"hide":"show")){if("show"!==j||!E||void 0===E[e])continue;C=!0}s[e]=E&&E[e]||l.style(b,e)}if(r=!l.isEmptyObject(c),r||!l.isEmptyObject(s))for(e in p&&1===b.nodeType&&(d.overflow=[y.overflow,y.overflowX,y.overflowY],q=E&&E.display,null==q&&(q=A.get(b,"display")),m=l.css(b,"display"),"none"===m&&(q?m=q:(t([b],!0),q=b.style.display||
q,m=l.css(b,"display"),t([b]))),("inline"===m||"inline-block"===m&&null!=q)&&"none"===l.css(b,"float")&&(r||(u.done(function(){y.display=q}),null==q&&(m=y.display,q="none"===m?"":m)),y.display="inline-block")),d.overflow&&(y.overflow="hidden",u.always(function(){y.overflow=d.overflow[0];y.overflowX=d.overflow[1];y.overflowY=d.overflow[2]})),r=!1,s)r||(E?"hidden"in E&&(C=E.hidden):E=A.access(b,"fxshow",{display:q}),f&&(E.hidden=!C),C&&t([b],!0),u.done(function(){C||t([b]);A.remove(b,"fxshow");for(e in s)l.style(b,
e,s[e])})),r=Qb(C?E[e]:0,e,u),e in E||(E[e]=r.start,C&&(r.end=r.start,r.start=0))}],prefilter:function(b,c){c?ga.prefilters.unshift(b):ga.prefilters.push(b)}});l.speed=function(b,c,d){var e=b&&"object"==typeof b?l.extend({},b):{complete:d||!d&&c||l.isFunction(b)&&b,duration:b,easing:d&&c||c&&!l.isFunction(c)&&c};return l.fx.off?e.duration=0:"number"!=typeof e.duration&&(e.duration in l.fx.speeds?e.duration=l.fx.speeds[e.duration]:e.duration=l.fx.speeds._default),null!=e.queue&&!0!==e.queue||(e.queue=
"fx"),e.old=e.complete,e.complete=function(){l.isFunction(e.old)&&e.old.call(this);e.queue&&l.dequeue(this,e.queue)},e};l.fn.extend({fadeTo:function(b,c,d,e){return this.filter(Ta).css("opacity",0).show().end().animate({opacity:c},b,d,e)},animate:function(b,c,d,e){var j=l.isEmptyObject(b),f=l.speed(c,d,e);c=function(){var c=ga(this,l.extend({},b),f);(j||A.get(this,"finish"))&&c.stop(!0)};return c.finish=c,j||!1===f.queue?this.each(c):this.queue(f.queue,c)},stop:function(b,c,d){var e=function(b){var c=
b.stop;delete b.stop;c(d)};return"string"!=typeof b&&(d=c,c=b,b=void 0),c&&!1!==b&&this.queue(b||"fx",[]),this.each(function(){var c=!0,j=null!=b&&b+"queueHooks",f=l.timers,n=A.get(this);if(j)n[j]&&n[j].stop&&e(n[j]);else for(j in n)n[j]&&n[j].stop&&rd.test(j)&&e(n[j]);for(j=f.length;j--;)f[j].elem!==this||null!=b&&f[j].queue!==b||(f[j].anim.stop(d),c=!1,f.splice(j,1));!c&&d||l.dequeue(this,b)})},finish:function(b){return!1!==b&&(b=b||"fx"),this.each(function(){var c,d=A.get(this),e=d[b+"queue"];
c=d[b+"queueHooks"];var j=l.timers,f=e?e.length:0;d.finish=!0;l.queue(this,b,[]);c&&c.stop&&c.stop.call(this,!0);for(c=j.length;c--;)j[c].elem===this&&j[c].queue===b&&(j[c].anim.stop(!0),j.splice(c,1));for(c=0;c<f;c++)e[c]&&e[c].finish&&e[c].finish.call(this);delete d.finish})}});l.each(["toggle","show","hide"],function(b,c){var d=l.fn[c];l.fn[c]=function(b,e,j){return null==b||"boolean"==typeof b?d.apply(this,arguments):this.animate(la(c,!0),b,e,j)}});l.each({slideDown:la("show"),slideUp:la("hide"),
slideToggle:la("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,c){l.fn[b]=function(b,d,e){return this.animate(c,b,d,e)}});l.timers=[];l.fx.tick=function(){var b,c=0,d=l.timers;for(Ea=l.now();c<d.length;c++)b=d[c],b()||d[c]!==b||d.splice(c--,1);d.length||l.fx.stop();Ea=void 0};l.fx.timer=function(b){l.timers.push(b);l.fx.start()};l.fx.interval=13;l.fx.start=function(){Wa||(Wa=!0,Z())};l.fx.stop=function(){Wa=null};l.fx.speeds={slow:600,fast:200,
_default:400};l.fn.delay=function(c,d){return c=l.fx?l.fx.speeds[c]||c:c,d=d||"fx",this.queue(d,function(d,e){var j=b.setTimeout(d,c);e.stop=function(){b.clearTimeout(j)}})};var Ia=B.createElement("input"),sd=B.createElement("select").appendChild(B.createElement("option"));Ia.type="checkbox";M.checkOn=""!==Ia.value;M.optSelected=sd.selected;Ia=B.createElement("input");Ia.value="t";Ia.type="radio";M.radioValue="t"===Ia.value;var tc,Qa=l.expr.attrHandle;l.fn.extend({attr:function(b,c){return oa(this,
l.attr,b,c,1<arguments.length)},removeAttr:function(b){return this.each(function(){l.removeAttr(this,b)})}});l.extend({attr:function(b,c,d){var e,j,f=b.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof b.getAttribute?l.prop(b,c,d):(1===f&&l.isXMLDoc(b)||(j=l.attrHooks[c.toLowerCase()]||(l.expr.match.bool.test(c)?tc:void 0)),void 0!==d?null===d?void l.removeAttr(b,c):j&&"set"in j&&void 0!==(e=j.set(b,d,c))?e:(b.setAttribute(c,d+""),d):j&&"get"in j&&null!==(e=j.get(b,c))?e:(e=l.find.attr(b,
c),null==e?void 0:e))},attrHooks:{type:{set:function(b,c){if(!M.radioValue&&"radio"===c&&f(b,"input")){var d=b.value;return b.setAttribute("type",c),d&&(b.value=d),c}}}},removeAttr:function(b,c){var d,e=0,j=c&&c.match(ba);if(j&&1===b.nodeType)for(;d=j[e++];)b.removeAttribute(d)}});tc={set:function(b,c,d){return!1===c?l.removeAttr(b,d):b.setAttribute(d,d),d}};l.each(l.expr.match.bool.source.match(/\w+/g),function(b,c){var d=Qa[c]||l.find.attr;Qa[c]=function(b,c,e){var j,f,n=c.toLowerCase();return e||
(f=Qa[n],Qa[n]=j,j=null!=d(b,c,e)?n:null,Qa[n]=f),j}});var td=/^(?:input|select|textarea|button)$/i,ud=/^(?:a|area)$/i;l.fn.extend({prop:function(b,c){return oa(this,l.prop,b,c,1<arguments.length)},removeProp:function(b){return this.each(function(){delete this[l.propFix[b]||b]})}});l.extend({prop:function(b,c,d){var e,j,f=b.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&l.isXMLDoc(b)||(c=l.propFix[c]||c,j=l.propHooks[c]),void 0!==d?j&&"set"in j&&void 0!==(e=j.set(b,d,c))?e:b[c]=d:j&&"get"in j&&null!==
(e=j.get(b,c))?e:b[c]},propHooks:{tabIndex:{get:function(b){var c=l.find.attr(b,"tabindex");return c?parseInt(c,10):td.test(b.nodeName)||ud.test(b.nodeName)&&b.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});M.optSelected||(l.propHooks.selected={get:function(b){b=b.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(b){b=b.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}});l.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){l.propFix[this.toLowerCase()]=this});l.fn.extend({addClass:function(b){var c,d,e,j,f,n,g=0;if(l.isFunction(b))return this.each(function(c){l(this).addClass(b.call(this,c,wa(this)))});if("string"==typeof b&&b)for(c=b.match(ba)||[];d=this[g++];)if(j=wa(d),e=1===d.nodeType&&" "+va(j)+" "){for(n=0;f=c[n++];)0>e.indexOf(" "+f+" ")&&(e+=f+" ");e=va(e);j!==e&&d.setAttribute("class",e)}return this},removeClass:function(b){var c,d,e,j,f,n,g=0;if(l.isFunction(b))return this.each(function(c){l(this).removeClass(b.call(this,
c,wa(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof b&&b)for(c=b.match(ba)||[];d=this[g++];)if(j=wa(d),e=1===d.nodeType&&" "+va(j)+" "){for(n=0;f=c[n++];)for(;-1<e.indexOf(" "+f+" ");)e=e.replace(" "+f+" "," ");e=va(e);j!==e&&d.setAttribute("class",e)}return this},toggleClass:function(b,c){var d=typeof b;return"boolean"==typeof c&&"string"===d?c?this.addClass(b):this.removeClass(b):l.isFunction(b)?this.each(function(d){l(this).toggleClass(b.call(this,d,wa(this),c),
c)}):this.each(function(){var c,e,j,f;if("string"===d){e=0;j=l(this);for(f=b.match(ba)||[];c=f[e++];)j.hasClass(c)?j.removeClass(c):j.addClass(c)}else void 0!==b&&"boolean"!==d||(c=wa(this),c&&A.set(this,"__className__",c),this.setAttribute&&this.setAttribute("class",c||!1===b?"":A.get(this,"__className__")||""))})},hasClass:function(b){var c,d=0;for(b=" "+b+" ";c=this[d++];)if(1===c.nodeType&&-1<(" "+va(wa(c))+" ").indexOf(b))return!0;return!1}});var vd=/\r/g;l.fn.extend({val:function(b){var c,d,
e,j=this[0];if(arguments.length)return e=l.isFunction(b),this.each(function(d){var j;1===this.nodeType&&(j=e?b.call(this,d,l(this).val()):b,null==j?j="":"number"==typeof j?j+="":Array.isArray(j)&&(j=l.map(j,function(b){return null==b?"":b+""})),c=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&void 0!==c.set(this,j,"value")||(this.value=j))});if(j)return c=l.valHooks[j.type]||l.valHooks[j.nodeName.toLowerCase()],c&&"get"in c&&void 0!==(d=c.get(j,"value"))?d:(d=j.value,
"string"==typeof d?d.replace(vd,""):null==d?"":d)}});l.extend({valHooks:{option:{get:function(b){var c=l.find.attr(b,"value");return null!=c?c:va(l.text(b))}},select:{get:function(b){var c,d,e=b.options,j=b.selectedIndex,n="select-one"===b.type,g=n?null:[],r=n?j+1:e.length;for(d=0>j?r:n?j:0;d<r;d++)if(c=e[d],(c.selected||d===j)&&!c.disabled&&(!c.parentNode.disabled||!f(c.parentNode,"optgroup"))){if(b=l(c).val(),n)return b;g.push(b)}return g},set:function(b,c){for(var d,e,j=b.options,f=l.makeArray(c),
n=j.length;n--;)e=j[n],(e.selected=-1<l.inArray(l.valHooks.option.get(e),f))&&(d=!0);return d||(b.selectedIndex=-1),f}}}});l.each(["radio","checkbox"],function(){l.valHooks[this]={set:function(b,c){if(Array.isArray(c))return b.checked=-1<l.inArray(l(b).val(),c)}};M.checkOn||(l.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});var uc=/^(?:focusinfocus|focusoutblur)$/;l.extend(l.event,{trigger:function(c,d,e,j){var f,n,g,r,q,m,p,u=[e||B],s=Ya.call(c,"type")?c.type:
c;f=Ya.call(c,"namespace")?c.namespace.split("."):[];if(n=g=e=e||B,3!==e.nodeType&&8!==e.nodeType&&!uc.test(s+l.event.triggered)&&(-1<s.indexOf(".")&&(f=s.split("."),s=f.shift(),f.sort()),q=0>s.indexOf(":")&&"on"+s,c=c[l.expando]?c:new l.Event(s,"object"==typeof c&&c),c.isTrigger=j?2:3,c.namespace=f.join("."),c.rnamespace=c.namespace?RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=e),d=null==d?[c]:l.makeArray(d,[c]),p=l.event.special[s]||{},j||!p.trigger||
!1!==p.trigger.apply(e,d))){if(!j&&!p.noBubble&&!l.isWindow(e)){r=p.delegateType||s;for(uc.test(r+s)||(n=n.parentNode);n;n=n.parentNode)u.push(n),g=n;g===(e.ownerDocument||B)&&u.push(g.defaultView||g.parentWindow||b)}for(f=0;(n=u[f++])&&!c.isPropagationStopped();)c.type=1<f?r:p.bindType||s,(m=(A.get(n,"events")||{})[c.type]&&A.get(n,"handle"))&&m.apply(n,d),(m=q&&n[q])&&m.apply&&hb(n)&&(c.result=m.apply(n,d),!1===c.result&&c.preventDefault());return c.type=s,j||c.isDefaultPrevented()||p._default&&
!1!==p._default.apply(u.pop(),d)||!hb(e)||q&&l.isFunction(e[s])&&!l.isWindow(e)&&(g=e[q],g&&(e[q]=null),l.event.triggered=s,e[s](),l.event.triggered=void 0,g&&(e[q]=g)),c.result}},simulate:function(b,c,d){b=l.extend(new l.Event,d,{type:b,isSimulated:!0});l.event.trigger(b,null,c)}});l.fn.extend({trigger:function(b,c){return this.each(function(){l.event.trigger(b,c,this)})},triggerHandler:function(b,c){var d=this[0];if(d)return l.event.trigger(b,c,d,!0)}});l.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(b,c){l.fn[c]=function(b,d){return 0<arguments.length?this.on(c,null,b,d):this.trigger(c)}});l.fn.extend({hover:function(b,c){return this.mouseenter(b).mouseleave(c||b)}});M.focusin="onfocusin"in b;M.focusin||l.each({focus:"focusin",blur:"focusout"},function(b,c){var d=function(b){l.event.simulate(c,b.target,l.event.fix(b))};l.event.special[c]={setup:function(){var e=this.ownerDocument||this,j=A.access(e,c);j||e.addEventListener(b,d,!0);A.access(e,c,(j||0)+1)},teardown:function(){var e=this.ownerDocument||
this,j=A.access(e,c)-1;j?A.access(e,c,j):(e.removeEventListener(b,d,!0),A.remove(e,c))}}});var Ra=b.location,vc=l.now(),Db=/\?/;l.parseXML=function(c){var d;if(!c||"string"!=typeof c)return null;try{d=(new b.DOMParser).parseFromString(c,"text/xml")}catch(e){d=void 0}return d&&!d.getElementsByTagName("parsererror").length||l.error("Invalid XML: "+c),d};var Kc=/\[\]$/,wc=/\r?\n/g,wd=/^(?:submit|button|image|reset|file)$/i,xd=/^(?:input|select|textarea|keygen)/i;l.param=function(b,c){var d,e=[],j=function(b,
c){var d=l.isFunction(c)?c():c;e[e.length]=encodeURIComponent(b)+"="+encodeURIComponent(null==d?"":d)};if(Array.isArray(b)||b.jquery&&!l.isPlainObject(b))l.each(b,function(){j(this.name,this.value)});else for(d in b)ob(d,b[d],c,j);return e.join("&")};l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=l.prop(this,"elements");return b?l.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!l(this).is(":disabled")&&
xd.test(this.nodeName)&&!wd.test(b)&&(this.checked||!lc.test(b))}).map(function(b,c){var d=l(this).val();return null==d?null:Array.isArray(d)?l.map(d,function(b){return{name:c.name,value:b.replace(wc,"\r\n")}}):{name:c.name,value:d.replace(wc,"\r\n")}}).get()}});var yd=/%20/g,zd=/#.*$/,Ad=/([?&])_=[^&]*/,Bd=/^(.*?):[ \t]*([^\r\n]*)$/gm,Cd=/^(?:GET|HEAD)$/,Dd=/^\/\//,xc={},pb={},yc="*/".concat("*"),Eb=B.createElement("a");Eb.href=Ra.href;l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ra.href,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ra.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,
"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,c){return c?qb(qb(b,l.ajaxSettings),c):qb(l.ajaxSettings,b)},ajaxPrefilter:Rb(xc),ajaxTransport:Rb(pb),ajax:function(c,d){function e(c,d,g,q){var u,s,x,F,K=d;if(!m){m=!0;r&&b.clearTimeout(r);j=void 0;n=q||"";J.readyState=0<c?4:0;q=200<=c&&300>c||304===c;if(g){x=t;for(var Da=J,z,A,D,B,G=x.contents,Q=x.dataTypes;"*"===Q[0];)Q.shift(),void 0===z&&(z=x.mimeType||Da.getResponseHeader("Content-Type"));if(z)for(A in G)if(G[A]&&
G[A].test(z)){Q.unshift(A);break}if(Q[0]in g)D=Q[0];else{for(A in g){if(!Q[0]||x.converters[A+" "+Q[0]]){D=A;break}B||(B=A)}D=D||B}x=g=D?(D!==Q[0]&&Q.unshift(D),g[D]):void 0}var I;a:{g=t;z=x;A=J;D=q;var L,Y,H;x={};Da=g.dataTypes.slice();if(Da[1])for(L in g.converters)x[L.toLowerCase()]=g.converters[L];for(B=Da.shift();B;)if(g.responseFields[B]&&(A[g.responseFields[B]]=z),!H&&D&&g.dataFilter&&(z=g.dataFilter(z,g.dataType)),H=B,B=Da.shift())if("*"===B)B=H;else if("*"!==H&&H!==B){if(L=x[H+" "+B]||x["* "+
B],!L)for(I in x)if(Y=I.split(" "),Y[1]===B&&(L=x[H+" "+Y[0]]||x["* "+Y[0]])){!0===L?L=x[I]:!0!==x[I]&&(B=Y[0],Da.unshift(Y[1]));break}if(!0!==L)if(L&&g["throws"])z=L(z);else try{z=L(z)}catch(M){I={state:"parsererror",error:L?M:"No conversion from "+H+" to "+B};break a}}I={state:"success",data:z}}x=I;q?(t.ifModified&&(F=J.getResponseHeader("Last-Modified"),F&&(l.lastModified[f]=F),F=J.getResponseHeader("etag"),F&&(l.etag[f]=F)),204===c||"HEAD"===t.type?K="nocontent":304===c?K="notmodified":(K=x.state,
u=x.data,s=x.error,q=!s)):(s=K,!c&&K||(K="error",0>c&&(c=0)));J.status=c;J.statusText=(d||K)+"";q?E.resolveWith(y,[u,K,J]):E.rejectWith(y,[J,K,s]);J.statusCode(la);la=void 0;p&&C.trigger(q?"ajaxSuccess":"ajaxError",[J,t,q?u:s]);fa.fireWith(y,[J,K]);p&&(C.trigger("ajaxComplete",[J,t]),--l.active||l.event.trigger("ajaxStop"))}}"object"==typeof c&&(d=c,c=void 0);d=d||{};var j,f,n,g,r,q,m,p,u,s,t=l.ajaxSetup({},d),y=t.context||t,C=t.context&&(y.nodeType||y.jquery)?l(y):l.event,E=l.Deferred(),fa=l.Callbacks("once memory"),
la=t.statusCode||{},z={},A={},D="canceled",J={readyState:0,getResponseHeader:function(b){var c;if(m){if(!g)for(g={};c=Bd.exec(n);)g[c[1].toLowerCase()]=c[2];c=g[b.toLowerCase()]}return null==c?null:c},getAllResponseHeaders:function(){return m?n:null},setRequestHeader:function(b,c){return null==m&&(b=A[b.toLowerCase()]=A[b.toLowerCase()]||b,z[b]=c),this},overrideMimeType:function(b){return null==m&&(t.mimeType=b),this},statusCode:function(b){var c;if(b)if(m)J.always(b[J.status]);else for(c in b)la[c]=
[la[c],b[c]];return this},abort:function(b){b=b||D;return j&&j.abort(b),e(0,b),this}};if(E.promise(J),t.url=((c||t.url||Ra.href)+"").replace(Dd,Ra.protocol+"//"),t.type=d.method||d.type||t.method||t.type,t.dataTypes=(t.dataType||"*").toLowerCase().match(ba)||[""],null==t.crossDomain){q=B.createElement("a");try{q.href=t.url,q.href=q.href,t.crossDomain=Eb.protocol+"//"+Eb.host!=q.protocol+"//"+q.host}catch(G){t.crossDomain=!0}}if(t.data&&t.processData&&"string"!=typeof t.data&&(t.data=l.param(t.data,
t.traditional)),Sb(xc,t,d,J),m)return J;(p=l.event&&t.global)&&0===l.active++&&l.event.trigger("ajaxStart");t.type=t.type.toUpperCase();t.hasContent=!Cd.test(t.type);f=t.url.replace(zd,"");t.hasContent?t.data&&t.processData&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&(t.data=t.data.replace(yd,"+")):(s=t.url.slice(f.length),t.data&&(f+=(Db.test(f)?"&":"?")+t.data,delete t.data),!1===t.cache&&(f=f.replace(Ad,"$1"),s=(Db.test(f)?"&":"?")+"_="+vc++ +s),t.url=f+s);t.ifModified&&
(l.lastModified[f]&&J.setRequestHeader("If-Modified-Since",l.lastModified[f]),l.etag[f]&&J.setRequestHeader("If-None-Match",l.etag[f]));(t.data&&t.hasContent&&!1!==t.contentType||d.contentType)&&J.setRequestHeader("Content-Type",t.contentType);J.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", "+yc+"; q=0.01":""):t.accepts["*"]);for(u in t.headers)J.setRequestHeader(u,t.headers[u]);if(t.beforeSend&&(!1===t.beforeSend.call(y,J,t)||
m))return J.abort();if(D="abort",fa.add(t.complete),J.done(t.success),J.fail(t.error),j=Sb(pb,t,d,J)){if(J.readyState=1,p&&C.trigger("ajaxSend",[J,t]),m)return J;t.async&&0<t.timeout&&(r=b.setTimeout(function(){J.abort("timeout")},t.timeout));try{m=!1,j.send(z,e)}catch(Q){if(m)throw Q;e(-1,Q)}}else e(-1,"No Transport");return J},getJSON:function(b,c,d){return l.get(b,c,d,"json")},getScript:function(b,c){return l.get(b,void 0,c,"script")}});l.each(["get","post"],function(b,c){l[c]=function(b,d,e,j){return l.isFunction(d)&&
(j=j||e,e=d,d=void 0),l.ajax(l.extend({url:b,type:c,dataType:j,data:d,success:e},l.isPlainObject(b)&&b))}});l._evalUrl=function(b){return l.ajax({url:b,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};l.fn.extend({wrapAll:function(b){var c;return this[0]&&(l.isFunction(b)&&(b=b.call(this[0])),c=l(b,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),
this},wrapInner:function(b){return l.isFunction(b)?this.each(function(c){l(this).wrapInner(b.call(this,c))}):this.each(function(){var c=l(this),d=c.contents();d.length?d.wrapAll(b):c.append(b)})},wrap:function(b){var c=l.isFunction(b);return this.each(function(d){l(this).wrapAll(c?b.call(this,d):b)})},unwrap:function(b){return this.parent(b).not("body").each(function(){l(this).replaceWith(this.childNodes)}),this}});l.expr.pseudos.hidden=function(b){return!l.expr.pseudos.visible(b)};l.expr.pseudos.visible=
function(b){return!(!b.offsetWidth&&!b.offsetHeight&&!b.getClientRects().length)};l.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(c){}};var Ed={"0":200,1223:204},Sa=l.ajaxSettings.xhr();M.cors=!!Sa&&"withCredentials"in Sa;M.ajax=Sa=!!Sa;l.ajaxTransport(function(c){var d,e;if(M.cors||Sa&&!c.crossDomain)return{send:function(j,f){var n,g=c.xhr();if(g.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(n in c.xhrFields)g[n]=c.xhrFields[n];c.mimeType&&g.overrideMimeType&&
g.overrideMimeType(c.mimeType);c.crossDomain||j["X-Requested-With"]||(j["X-Requested-With"]="XMLHttpRequest");for(n in j)g.setRequestHeader(n,j[n]);d=function(b){return function(){d&&(d=e=g.onload=g.onerror=g.onabort=g.onreadystatechange=null,"abort"===b?g.abort():"error"===b?"number"!=typeof g.status?f(0,"error"):f(g.status,g.statusText):f(Ed[g.status]||g.status,g.statusText,"text"!==(g.responseType||"text")||"string"!=typeof g.responseText?{binary:g.response}:{text:g.responseText},g.getAllResponseHeaders()))}};
g.onload=d();e=g.onerror=d("error");void 0!==g.onabort?g.onabort=e:g.onreadystatechange=function(){4===g.readyState&&b.setTimeout(function(){d&&e()})};d=d("abort");try{g.send(c.hasContent&&c.data||null)}catch(l){if(d)throw l;}},abort:function(){d&&d()}}});l.ajaxPrefilter(function(b){b.crossDomain&&(b.contents.script=!1)});l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(b){return l.globalEval(b),
b}}});l.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type="GET")});l.ajaxTransport("script",function(b){if(b.crossDomain){var c,d;return{send:function(e,j){c=l("<script>").prop({charset:b.scriptCharset,src:b.url}).on("load error",d=function(b){c.remove();d=null;b&&j("error"===b.type?404:200,b.type)});B.head.appendChild(c[0])},abort:function(){d&&d()}}}});var zc=[],Fb=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=zc.pop()||l.expando+
"_"+vc++;return this[b]=!0,b}});l.ajaxPrefilter("json jsonp",function(c,d,e){var j,f,n,g=!1!==c.jsonp&&(Fb.test(c.url)?"url":"string"==typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fb.test(c.data)&&"data");if(g||"jsonp"===c.dataTypes[0])return j=c.jsonpCallback=l.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g?c[g]=c[g].replace(Fb,"$1"+j):!1!==c.jsonp&&(c.url+=(Db.test(c.url)?"&":"?")+c.jsonp+"="+j),c.converters["script json"]=function(){return n||
l.error(j+" was not called"),n[0]},c.dataTypes[0]="json",f=b[j],b[j]=function(){n=arguments},e.always(function(){void 0===f?l(b).removeProp(j):b[j]=f;c[j]&&(c.jsonpCallback=d.jsonpCallback,zc.push(j));n&&l.isFunction(f)&&f(n[0]);n=f=void 0}),"script"});var Fd=M,Ac,Bc=B.implementation.createHTMLDocument("").body;Ac=(Bc.innerHTML="<form></form><form></form>",2===Bc.childNodes.length);Fd.createHTMLDocument=Ac;l.parseHTML=function(b,c,d){if("string"!=typeof b)return[];"boolean"==typeof c&&(d=c,c=!1);
var e,j,f;return c||(M.createHTMLDocument?(c=B.implementation.createHTMLDocument(""),e=c.createElement("base"),e.href=B.location.href,c.head.appendChild(e)):c=B),j=hc.exec(b),f=!d&&[],j?[c.createElement(j[1])]:(j=E([b],c,f),f&&f.length&&l(f).remove(),l.merge([],j.childNodes))};l.fn.load=function(b,c,d){var e,j,f,n=this,g=b.indexOf(" ");return-1<g&&(e=va(b.slice(g)),b=b.slice(0,g)),l.isFunction(c)?(d=c,c=void 0):c&&"object"==typeof c&&(j="POST"),0<n.length&&l.ajax({url:b,type:j||"GET",dataType:"html",
data:c}).done(function(b){f=arguments;n.html(e?l("<div>").append(l.parseHTML(b)).find(e):b)}).always(d&&function(b,c){n.each(function(){d.apply(this,f||[b.responseText,c,b])})}),this};l.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,c){l.fn[c]=function(b){return this.on(c,b)}});l.expr.pseudos.animated=function(b){return l.grep(l.timers,function(c){return b===c.elem}).length};l.offset={setOffset:function(b,c,d){var e,j,f,n,g,r,q=l.css(b,"position"),m=l(b),
p={};"static"===q&&(b.style.position="relative");g=m.offset();f=l.css(b,"top");r=l.css(b,"left");("absolute"===q||"fixed"===q)&&-1<(f+r).indexOf("auto")?(e=m.position(),n=e.top,j=e.left):(n=parseFloat(f)||0,j=parseFloat(r)||0);l.isFunction(c)&&(c=c.call(b,d,l.extend({},g)));null!=c.top&&(p.top=c.top-g.top+n);null!=c.left&&(p.left=c.left-g.left+j);"using"in c?c.using.call(b,p):m.css(p)}};l.fn.extend({offset:function(b){if(arguments.length)return void 0===b?this:this.each(function(c){l.offset.setOffset(this,
b,c)});var c,d,e,j,f=this[0];if(f)return f.getClientRects().length?(e=f.getBoundingClientRect(),c=f.ownerDocument,d=c.documentElement,j=c.defaultView,{top:e.top+j.pageYOffset-d.clientTop,left:e.left+j.pageXOffset-d.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var b,c,d=this[0],e={top:0,left:0};return"fixed"===l.css(d,"position")?c=d.getBoundingClientRect():(b=this.offsetParent(),c=this.offset(),f(b[0],"html")||(e=b.offset()),e={top:e.top+l.css(b[0],"borderTopWidth",!0),left:e.left+
l.css(b[0],"borderLeftWidth",!0)}),{top:c.top-e.top-l.css(d,"marginTop",!0),left:c.left-e.left-l.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent;b&&"static"===l.css(b,"position");)b=b.offsetParent;return b||kb})}});l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;l.fn[b]=function(e){return oa(this,function(b,e,j){var f;return l.isWindow(b)?f=b:9===b.nodeType&&(f=b.defaultView),void 0===j?f?f[c]:
b[e]:void(f?f.scrollTo(d?f.pageXOffset:j,d?j:f.pageYOffset):b[e]=j)},b,e,arguments.length)}});l.each(["top","left"],function(b,c){l.cssHooks[c]=Mb(M.pixelPosition,function(b,d){if(d)return d=Ma(b,c),nb.test(d)?l(b).position()[c]+"px":d})});l.each({Height:"height",Width:"width"},function(b,c){l.each({padding:"inner"+b,content:c,"":"outer"+b},function(d,e){l.fn[e]=function(j,f){var n=arguments.length&&(d||"boolean"!=typeof j),g=d||(!0===j||!0===f?"margin":"border");return oa(this,function(c,d,j){var f;
return l.isWindow(c)?0===e.indexOf("outer")?c["inner"+b]:c.document.documentElement["client"+b]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+b],f["scroll"+b],c.body["offset"+b],f["offset"+b],f["client"+b])):void 0===j?l.css(c,d,g):l.style(c,d,j,g)},c,n?j:void 0,n)}})});l.fn.extend({bind:function(b,c,d){return this.on(b,null,c,d)},unbind:function(b,c){return this.off(b,null,c)},delegate:function(b,c,d,e){return this.on(c,b,d,e)},undelegate:function(b,c,d){return 1===arguments.length?
this.off(b,"**"):this.off(c,b||"**",d)}});l.holdReady=function(b){b?l.readyWait++:l.ready(!0)};l.isArray=Array.isArray;l.parseJSON=JSON.parse;l.nodeName=f;"function"==typeof define&&define.amd&&define("jquery",[],function(){return l});var Gd=b.jQuery,Hd=b.$;return l.noConflict=function(c){return b.$===l&&(b.$=Hd),c&&b.jQuery===l&&(b.jQuery=Gd),l},c||(b.jQuery=b.$=l),l});
function getInternetExplorerVersion(){var b=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(b=parseFloat(RegExp.$1));return b}var ie=getInternetExplorerVersion();function getQueryVariable(b){for(var c=window.location.search.substring(1).split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(decodeURIComponent(e[0])==b)return decodeURIComponent(e[1])}}this.jukebox={};
jukebox.Player=function(b,c){this.id=++jukebox.__jukeboxId;this.origin=c||null;this.settings={};for(var d in this.defaults)this.settings[d]=this.defaults[d];if("[object Object]"===Object.prototype.toString.call(b))for(var e in b)this.settings[e]=b[e];"[object Function]"===Object.prototype.toString.call(jukebox.Manager)&&(jukebox.Manager=new jukebox.Manager);this.resource=this.isPlaying=null;this.resource="[object Object]"===Object.prototype.toString.call(jukebox.Manager)?jukebox.Manager.getPlayableResource(this.settings.resources):
this.settings.resources[0]||null;if(null===this.resource)throw"Your browser can't playback the given resources - or you have missed to include jukebox.Manager";this.__init();return this};jukebox.__jukeboxId=0;
jukebox.Player.prototype={defaults:{resources:[],autoplay:!1,spritemap:{},flashMediaElement:"./swf/FlashMediaElement.swf",timeout:1E3},__addToManager:function(){!0!==this.__wasAddedToManager&&(jukebox.Manager.add(this),this.__wasAddedToManager=!0)},__init:function(){var b=this,c=this.settings,d={},e;jukebox.Manager&&void 0!==jukebox.Manager.features&&(d=jukebox.Manager.features);if(!0===d.html5audio){this.context=new Audio;this.context.src=this.resource;if(null===this.origin){var f=function(c){b.__addToManager(c)};
this.context.addEventListener("canplaythrough",f,!0);window.setTimeout(function(){b.context.removeEventListener("canplaythrough",f,!0);f("timeout")},c.timeout)}this.context.autobuffer=!0;this.context.preload=!0;for(e in this.HTML5API)this[e]=this.HTML5API[e];1<d.channels?!0===c.autoplay?this.context.autoplay=!0:void 0!==c.spritemap[c.autoplay]&&this.play(c.autoplay):1===d.channels&&void 0!==c.spritemap[c.autoplay]&&(this.backgroundMusic=c.spritemap[c.autoplay],this.backgroundMusic.started=Date.now?
Date.now():+new Date,this.play(c.autoplay));1==d.channels&&!0!==c.canPlayBackground&&(window.addEventListener("pagehide",function(){null!==b.isPlaying&&(b.pause(),b.__wasAutoPaused=!0)}),window.addEventListener("pageshow",function(){b.__wasAutoPaused&&(b.resume(),delete b._wasAutoPaused)}))}else if(!0===d.flashaudio){for(e in this.FLASHAPI)this[e]=this.FLASHAPI[e];d=["id=jukebox-flashstream-"+this.id,"autoplay="+c.autoplay,"file="+window.encodeURIComponent(this.resource)];this.__initFlashContext(d);
!0===c.autoplay?this.play(0):c.spritemap[c.autoplay]&&this.play(c.autoplay)}else throw"Your Browser does not support Flash Audio or HTML5 Audio.";},__initFlashContext:function(b){var c,d=this.settings.flashMediaElement,e,f={flashvars:b.join("&"),quality:"high",bgcolor:"#000000",wmode:"transparent",allowscriptaccess:"always",allowfullscreen:"true"};if(navigator.userAgent.match(/MSIE/)){c=document.createElement("div");document.getElementsByTagName("body")[0].appendChild(c);var g=document.createElement("object");
g.id="jukebox-flashstream-"+this.id;g.setAttribute("type","application/x-shockwave-flash");g.setAttribute("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");g.setAttribute("width","0");g.setAttribute("height","0");f.movie=d+"?x="+(Date.now?Date.now():+new Date);f.flashvars=b.join("&amp;");for(e in f)b=document.createElement("param"),b.setAttribute("name",e),b.setAttribute("value",f[e]),g.appendChild(b);c.outerHTML=g.outerHTML;this.context=document.getElementById("jukebox-flashstream-"+this.id)}else{c=
document.createElement("embed");c.id="jukebox-flashstream-"+this.id;c.setAttribute("type","application/x-shockwave-flash");c.setAttribute("width","100");c.setAttribute("height","100");f.play=!1;f.loop=!1;f.src=d+"?x="+(Date.now?Date.now():+new Date);for(e in f)c.setAttribute(e,f[e]);document.getElementsByTagName("body")[0].appendChild(c);this.context=c}},backgroundHackForiOS:function(){if(void 0!==this.backgroundMusic){var b=Date.now?Date.now():+new Date;void 0===this.backgroundMusic.started?(this.backgroundMusic.started=
b,this.setCurrentTime(this.backgroundMusic.start)):(this.backgroundMusic.lastPointer=(b-this.backgroundMusic.started)/1E3%(this.backgroundMusic.end-this.backgroundMusic.start)+this.backgroundMusic.start,this.play(this.backgroundMusic.lastPointer))}},play:function(b,c){if(null!==this.isPlaying&&!0!==c)void 0!==jukebox.Manager&&jukebox.Manager.addToQueue(b,this.id);else{var d=this.settings.spritemap,e;if(void 0!==d[b])e=d[b].start;else if("number"===typeof b){e=b;for(var f in d)if(e>=d[f].start&&e<=
d[f].end){b=f;break}}void 0!==e&&"[object Object]"===Object.prototype.toString.call(d[b])&&(this.isPlaying=this.settings.spritemap[b],this.context.play&&this.context.play(),this.wasReady=this.setCurrentTime(e))}},stop:function(){this.__lastPosition=0;this.isPlaying=null;this.backgroundMusic?this.backgroundHackForiOS():this.context.pause();return!0},pause:function(){this.isPlaying=null;this.__lastPosition=this.getCurrentTime();this.context.pause();return this.__lastPosition},resume:function(b){b="number"===
typeof b?b:this.__lastPosition;if(null!==b)return this.play(b),this.__lastPosition=null,!0;this.context.play();return!1},HTML5API:{getVolume:function(){return this.context.volume||1},setVolume:function(b){this.context.volume=b;return 1E-4>Math.abs(this.context.volume-b)?!0:!1},getCurrentTime:function(){return this.context.currentTime||0},setCurrentTime:function(b){try{return this.context.currentTime=b,!0}catch(c){return!1}}},FLASHAPI:{getVolume:function(){return this.context&&"function"===typeof this.context.getVolume?
this.context.getVolume():1},setVolume:function(b){return this.context&&"function"===typeof this.context.setVolume?(this.context.setVolume(b),!0):!1},getCurrentTime:function(){return this.context&&"function"===typeof this.context.getCurrentTime?this.context.getCurrentTime():0},setCurrentTime:function(b){return this.context&&"function"===typeof this.context.setCurrentTime?this.context.setCurrentTime(b):!1}}};
if(void 0===this.jukebox)throw"jukebox.Manager requires jukebox.Player (Player.js) to run properly.";
jukebox.Manager=function(b){this.features={};this.codecs={};this.__players={};this.__playersLength=0;this.__clones={};this.__queue=[];this.settings={};for(var c in this.defaults)this.settings[c]=this.defaults[c];if("[object Object]"===Object.prototype.toString.call(b))for(var d in b)this.settings[d]=b[d];this.__detectFeatures();jukebox.Manager.__initialized=!1===this.settings.useGameLoop?window.setInterval(function(){jukebox.Manager.loop()},20):!0};
jukebox.Manager.prototype={defaults:{useFlash:!1,useGameLoop:!1},__detectFeatures:function(){var b=window.Audio&&new Audio;if(b&&b.canPlayType&&!1===this.settings.useFlash){for(var c=[{e:"3gp",m:["audio/3gpp","audio/amr"]},{e:"aac",m:["audio/aac","audio/aacp"]},{e:"amr",m:["audio/amr","audio/3gpp"]},{e:"caf",m:["audio/IMA-ADPCM","audio/x-adpcm",'audio/x-aiff; codecs="IMA-ADPCM, ADPCM"']},{e:"m4a",m:'audio/mp4{audio/mp4; codecs="mp4a.40.2,avc1.42E01E"{audio/mpeg4{audio/mpeg4-generic{audio/mp4a-latm{audio/MP4A-LATM{audio/x-m4a'.split("{")},
{e:"mp3",m:["audio/mp3","audio/mpeg",'audio/mpeg; codecs="mp3"',"audio/MPA","audio/mpa-robust"]},{e:"mpga",m:["audio/MPA","audio/mpa-robust","audio/mpeg","video/mpeg"]},{e:"mp4",m:["audio/mp4","video/mp4"]},{e:"ogg",m:["application/ogg","audio/ogg",'audio/ogg; codecs="theora, vorbis"',"video/ogg",'video/ogg; codecs="theora, vorbis"']},{e:"wav",m:["audio/wave","audio/wav",'audio/wav; codecs="1"',"audio/x-wav","audio/x-pn-wav"]},{e:"webm",m:["audio/webm",'audio/webm; codecs="vorbis"',"video/webm"]}],
d,e,f=0,g=c.length;f<g;f++)if(e=c[f].e,c[f].m.length&&"object"===typeof c[f].m)for(var m=0,p=c[f].m.length;m<p;m++)if(d=c[f].m[m],""!==b.canPlayType(d)){this.codecs[e]=d;break}else this.codecs[e]||(this.codecs[e]=!1);this.features.html5audio=!(!this.codecs.mp3&&!this.codecs.ogg&&!this.codecs.webm&&!this.codecs.wav);this.features.channels=8;b.volume=0.1337;this.features.volume=!!(1E-4>Math.abs(b.volume-0.1337));navigator.userAgent.match(/iPhone|iPod|iPad/i)&&(this.features.channels=1)}this.features.flashaudio=
!!navigator.mimeTypes["application/x-shockwave-flash"]||!!navigator.plugins["Shockwave Flash"]||!1;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.10"),this.features.flashaudio=!0}catch(j){}!0===this.settings.useFlash&&(this.features.flashaudio=!0);!0===this.features.flashaudio&&!this.features.html5audio&&(this.codecs.mp3="audio/mp3",this.codecs.mpga="audio/mpeg",this.codecs.mp4="audio/mp4",this.codecs.m4a="audio/mp4",this.codecs["3gp"]="audio/3gpp",this.codecs.amr="audio/amr",
this.features.volume=!0,this.features.channels=1)},__getPlayerById:function(b){return this.__players&&void 0!==this.__players[b]?this.__players[b]:null},__getClone:function(b,c){for(var d in this.__clones){var e=this.__clones[d];if(null===e.isPlaying&&e.origin===b)return e}if("[object Object]"===Object.prototype.toString.call(c)){d={};for(var f in c)d[f]=c[f];d.autoplay=!1;f=new jukebox.Player(d,b);f.isClone=!0;f.wasReady=!1;return this.__clones[f.id]=f}return null},loop:function(){if(0!==this.__playersLength)if(this.__queue.length&&
this.__playersLength<this.features.channels){var b=this.__queue[0],c=this.__getPlayerById(b.origin);if(null!==c){var d=this.__getClone(b.origin,c.settings);null!==d&&(!0===this.features.volume&&(c=this.__players[b.origin])&&d.setVolume(c.getVolume()),this.add(d),d.play(b.pointer,!0))}this.__queue.splice(0,1)}else for(d in this.__queue.length&&1===this.features.channels&&(b=this.__queue[0],c=this.__getPlayerById(b.origin),null!==c&&c.play(b.pointer,!0),this.__queue.splice(0,1)),this.__players)b=this.__players[d],
c=b.getCurrentTime()||0,b.isPlaying&&!1===b.wasReady?b.wasReady=b.setCurrentTime(b.isPlaying.start):b.isPlaying&&!0===b.wasReady?c>b.isPlaying.end&&(!0===b.isPlaying.loop?b.play(b.isPlaying.start,!0):b.stop()):b.isClone&&null===b.isPlaying?this.remove(b):void 0!==b.backgroundMusic&&null===b.isPlaying&&c>b.backgroundMusic.end&&b.backgroundHackForiOS()},getPlayableResource:function(b){"[object Array]"!==Object.prototype.toString.call(b)&&(b=[b]);for(var c=0,d=b.length;c<d;c++){var e=b[c],f=e.match(/\.([^\.]*)$/)[1];
if(f&&this.codecs[f])return e}return null},add:function(b){return b instanceof jukebox.Player&&void 0===this.__players[b.id]?(this.__playersLength++,this.__players[b.id]=b,!0):!1},remove:function(b){return b instanceof jukebox.Player&&void 0!==this.__players[b.id]?(this.__playersLength--,delete this.__players[b.id],!0):!1},addToQueue:function(b,c){return("string"===typeof b||"number"===typeof b)&&void 0!==this.__players[c]?(this.__queue.push({pointer:b,origin:c}),!0):!1}};
(function(){var b=function(){this.init()};b.prototype={init:function(){var b=this||c;b._counter=1E3;b._html5AudioPool=[];b.html5PoolSize=10;b._codecs={};b._howls=[];b._muted=!1;b._volume=1;b._canPlayEvent="canplaythrough";b._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null;b.masterGain=null;b.noAudio=!1;b.usingWebAudio=!0;b.autoSuspend=!1;b.ctx=null;b.autoUnlock=!0;b._setup();return b},volume:function(b){var d=this||c;b=parseFloat(b);d.ctx||p();if("undefined"!==typeof b&&
0<=b&&1>=b){d._volume=b;if(d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(b,c.ctx.currentTime);for(var e=0;e<d._howls.length;e++)if(!d._howls[e]._webAudio)for(var f=d._howls[e]._getSoundIds(),g=0;g<f.length;g++){var m=d._howls[e]._soundById(f[g]);m&&m._node&&(m._node.volume=m._volume*b)}return d}return d._volume},mute:function(b){var d=this||c;d.ctx||p();d._muted=b;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(b?0:d._volume,c.ctx.currentTime);for(var e=0;e<d._howls.length;e++)if(!d._howls[e]._webAudio)for(var f=
d._howls[e]._getSoundIds(),g=0;g<f.length;g++){var m=d._howls[e]._soundById(f[g]);m&&m._node&&(m._node.muted=b?!0:m._muted)}return d},stop:function(){for(var b=this||c,d=0;d<b._howls.length;d++)b._howls[d].stop();return b},unload:function(){for(var b=this||c,d=b._howls.length-1;0<=d;d--)b._howls[d].unload();b.usingWebAudio&&b.ctx&&"undefined"!==typeof b.ctx.close&&(b.ctx.close(),b.ctx=null,p());return b},codecs:function(b){return(this||c)._codecs[b.replace(/^x-/,"")]},_setup:function(){var b=this||
c;b.state=b.ctx?b.ctx.state||"suspended":"suspended";b._autoSuspend();if(!b.usingWebAudio)if("undefined"!==typeof Audio)try{var d=new Audio;"undefined"===typeof d.oncanplaythrough&&(b._canPlayEvent="canplay")}catch(e){b.noAudio=!0}else b.noAudio=!0;try{d=new Audio,d.muted&&(b.noAudio=!0)}catch(f){}b.noAudio||b._setupCodecs();return b},_setupCodecs:function(){var b=this||c,d=null;try{d="undefined"!==typeof Audio?new Audio:null}catch(e){return b}if(!d||"function"!==typeof d.canPlayType)return b;var f=
d.canPlayType("audio/mpeg;").replace(/^no$/,""),g=b._navigator&&b._navigator.userAgent.match(/OPR\/([0-6].)/g),g=g&&33>parseInt(g[0].split("/")[1],10);b._codecs={mp3:!(g||!f&&!d.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!f,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!d.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),
aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(d.canPlayType("audio/x-m4b;")||d.canPlayType("audio/m4b;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,
""),webm:!!d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")};return b},_unlockAudio:function(){var b=this||c;if(!b._audioUnlocked&&b.ctx){b._audioUnlocked=!1;b.autoUnlock=!1;!b._mobileUnloaded&&44100!==b.ctx.sampleRate&&(b._mobileUnloaded=!0,b.unload());b._scratchBuffer=b.ctx.createBuffer(1,1,22050);var d=function(){for(;b._html5AudioPool.length<
b.html5PoolSize;)try{var c=new Audio;c._unlocked=!0;b._releaseHtml5Audio(c)}catch(e){b.noAudio=!0;break}for(c=0;c<b._howls.length;c++)if(!b._howls[c]._webAudio)for(var f=b._howls[c]._getSoundIds(),g=0;g<f.length;g++){var m=b._howls[c]._soundById(f[g]);m&&m._node&&!m._node._unlocked&&(m._node._unlocked=!0,m._node.load())}b._autoResume();var p=b.ctx.createBufferSource();p.buffer=b._scratchBuffer;p.connect(b.ctx.destination);"undefined"===typeof p.start?p.noteOn(0):p.start(0);"function"===typeof b.ctx.resume&&
b.ctx.resume();p.onended=function(){p.disconnect(0);b._audioUnlocked=!0;document.removeEventListener("touchstart",d,!0);document.removeEventListener("touchend",d,!0);document.removeEventListener("click",d,!0);for(var c=0;c<b._howls.length;c++)b._howls[c]._emit("unlock")}};document.addEventListener("touchstart",d,!0);document.addEventListener("touchend",d,!0);document.addEventListener("click",d,!0);return b}},_obtainHtml5Audio:function(){var b=this||c;if(b._html5AudioPool.length)return b._html5AudioPool.pop();
(b=(new Audio).play())&&"undefined"!==typeof Promise&&(b instanceof Promise||"function"===typeof b.then)&&b.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")});return new Audio},_releaseHtml5Audio:function(b){var d=this||c;b._unlocked&&d._html5AudioPool.push(b);return d},_autoSuspend:function(){var b=this;if(b.autoSuspend&&b.ctx&&"undefined"!==typeof b.ctx.suspend&&c.usingWebAudio){for(var d=0;d<b._howls.length;d++)if(b._howls[d]._webAudio)for(var e=
0;e<b._howls[d]._sounds.length;e++)if(!b._howls[d]._sounds[e]._paused)return b;b._suspendTimer&&clearTimeout(b._suspendTimer);b._suspendTimer=setTimeout(function(){if(b.autoSuspend){b._suspendTimer=null;b.state="suspending";var c=function(){b.state="suspended";b._resumeAfterSuspend&&(delete b._resumeAfterSuspend,b._autoResume())};b.ctx.suspend().then(c,c)}},3E4);return b}},_autoResume:function(){var b=this;if(b.ctx&&"undefined"!==typeof b.ctx.resume&&c.usingWebAudio)return"running"===b.state&&"interrupted"!==
b.ctx.state&&b._suspendTimer?(clearTimeout(b._suspendTimer),b._suspendTimer=null):"suspended"===b.state||"running"===b.state&&"interrupted"===b.ctx.state?(b.ctx.resume().then(function(){b.state="running";for(var c=0;c<b._howls.length;c++)b._howls[c]._emit("resume")}),b._suspendTimer&&(clearTimeout(b._suspendTimer),b._suspendTimer=null)):"suspending"===b.state&&(b._resumeAfterSuspend=!0),b}};var c=new b,d=function(b){!b.src||0===b.src.length?console.error("An array of source files must be passed with any new Howl."):
this.init(b)};d.prototype={init:function(b){var d=this;c.ctx||p();d._autoplay=b.autoplay||!1;d._format="string"!==typeof b.format?b.format:[b.format];d._html5=b.html5||!1;d._muted=b.mute||!1;d._loop=b.loop||!1;d._pool=b.pool||5;d._preload="boolean"===typeof b.preload||"metadata"===b.preload?b.preload:!0;d._rate=b.rate||1;d._sprite=b.sprite||{};d._src="string"!==typeof b.src?b.src:[b.src];d._volume=void 0!==b.volume?b.volume:1;d._xhr={method:b.xhr&&b.xhr.method?b.xhr.method:"GET",headers:b.xhr&&b.xhr.headers?
b.xhr.headers:null,withCredentials:b.xhr&&b.xhr.withCredentials?b.xhr.withCredentials:!1};d._duration=0;d._state="unloaded";d._sounds=[];d._endTimers={};d._queue=[];d._playLock=!1;d._onend=b.onend?[{fn:b.onend}]:[];d._onfade=b.onfade?[{fn:b.onfade}]:[];d._onload=b.onload?[{fn:b.onload}]:[];d._onloaderror=b.onloaderror?[{fn:b.onloaderror}]:[];d._onplayerror=b.onplayerror?[{fn:b.onplayerror}]:[];d._onpause=b.onpause?[{fn:b.onpause}]:[];d._onplay=b.onplay?[{fn:b.onplay}]:[];d._onstop=b.onstop?[{fn:b.onstop}]:
[];d._onmute=b.onmute?[{fn:b.onmute}]:[];d._onvolume=b.onvolume?[{fn:b.onvolume}]:[];d._onrate=b.onrate?[{fn:b.onrate}]:[];d._onseek=b.onseek?[{fn:b.onseek}]:[];d._onunlock=b.onunlock?[{fn:b.onunlock}]:[];d._onresume=[];d._webAudio=c.usingWebAudio&&!d._html5;"undefined"!==typeof c.ctx&&c.ctx&&c.autoUnlock&&c._unlockAudio();c._howls.push(d);d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}});d._preload&&"none"!==d._preload&&d.load();return d},load:function(){var b=null;if(c.noAudio)this._emit("loaderror",
null,"No audio support.");else{"string"===typeof this._src&&(this._src=[this._src]);for(var d=0;d<this._src.length;d++){var r,q;if(this._format&&this._format[d])r=this._format[d];else{q=this._src[d];if("string"!==typeof q){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(q))||(r=/\.([^.]+)$/.exec(q.split("?",1)[0]));r&&(r=r[1].toLowerCase())}r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
if(r&&c.codecs(r)){b=this._src[d];break}}if(b){this._src=b;this._state="loading";"https:"===window.location.protocol&&"http:"===b.slice(0,5)&&(this._html5=!0,this._webAudio=!1);new e(this);if(this._webAudio){var p=this,u=p._src;if(f[u])p._duration=f[u].duration,m(p);else if(/^data:[^;]+;base64,/.test(u)){b=atob(u.split(",")[1]);d=new Uint8Array(b.length);for(r=0;r<b.length;++r)d[r]=b.charCodeAt(r);g(d.buffer,p)}else{var t=new XMLHttpRequest;t.open(p._xhr.method,u,!0);t.withCredentials=p._xhr.withCredentials;
t.responseType="arraybuffer";p._xhr.headers&&Object.keys(p._xhr.headers).forEach(function(b){t.setRequestHeader(b,p._xhr.headers[b])});t.onload=function(){var b=(t.status+"")[0];"0"!==b&&"2"!==b&&"3"!==b?p._emit("loaderror",null,"Failed loading audio file with status: "+t.status+"."):g(t.response,p)};t.onerror=function(){p._webAudio&&(p._html5=!0,p._webAudio=!1,p._sounds=[],delete f[u],p.load())};try{t.send()}catch(y){t.onerror()}}}return this}this._emit("loaderror",null,"No codec support for selected audio sources.")}},
play:function(b,d){var e=this,f=null;if("number"===typeof b)f=b,b=null;else{if("string"===typeof b&&"loaded"===e._state&&!e._sprite[b])return null;if("undefined"===typeof b&&(b="__default",!e._playLock)){for(var g=0,m=0;m<e._sounds.length;m++)e._sounds[m]._paused&&!e._sounds[m]._ended&&(g++,f=e._sounds[m]._id);1===g?b=null:f=null}}var p=f?e._soundById(f):e._inactiveSound();if(!p)return null;f&&!b&&(b=p._sprite||"__default");if("loaded"!==e._state){p._sprite=b;p._ended=!1;var y=p._id;e._queue.push({event:"play",
action:function(){e.play(y)}});return y}if(f&&!p._paused)return d||e._loadQueue("play"),p._id;e._webAudio&&c._autoResume();var C=Math.max(0,0<p._seek?p._seek:e._sprite[b][0]/1E3),E=Math.max(0,(e._sprite[b][0]+e._sprite[b][1])/1E3-C),fa=1E3*E/Math.abs(p._rate),L=e._sprite[b][0]/1E3,La=(e._sprite[b][0]+e._sprite[b][1])/1E3;p._sprite=b;p._ended=!1;var ta=function(){p._paused=!1;p._seek=C;p._start=L;p._stop=La;p._loop=!(!p._loop&&!e._sprite[b][2])};if(C>=La)e._ended(p);else{var z=p._node;if(e._webAudio)f=
function(){e._playLock=!1;ta();e._refreshBuffer(p);z.gain.setValueAtTime(p._muted||e._muted?0:p._volume,c.ctx.currentTime);p._playStart=c.ctx.currentTime;"undefined"===typeof z.bufferSource.start?p._loop?z.bufferSource.noteGrainOn(0,C,86400):z.bufferSource.noteGrainOn(0,C,E):p._loop?z.bufferSource.start(0,C,86400):z.bufferSource.start(0,C,E);Infinity!==fa&&(e._endTimers[p._id]=setTimeout(e._ended.bind(e,p),fa));d||setTimeout(function(){e._emit("play",p._id);e._loadQueue()},0)},"running"===c.state&&
"interrupted"!==c.ctx.state?f():(e._playLock=!0,e.once("resume",f),e._clearTimer(p._id));else{var Ua=function(){z.currentTime=C;z.muted=p._muted||e._muted||c._muted||z.muted;z.volume=p._volume*c.volume();z.playbackRate=p._rate;try{var f=z.play();f&&"undefined"!==typeof Promise&&(f instanceof Promise||"function"===typeof f.then)?(e._playLock=!0,ta(),f.then(function(){e._playLock=!1;z._unlocked=!0;d||(e._emit("play",p._id),e._loadQueue())}).catch(function(){e._playLock=!1;e._emit("playerror",p._id,
"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");p._ended=!0;p._paused=!0})):d||(e._playLock=!1,ta(),e._emit("play",p._id),e._loadQueue());z.playbackRate=p._rate;z.paused?e._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."):"__default"!==b||p._loop?e._endTimers[p._id]=setTimeout(e._ended.bind(e,
p),fa):(e._endTimers[p._id]=function(){e._ended(p);z.removeEventListener("ended",e._endTimers[p._id],!1)},z.addEventListener("ended",e._endTimers[p._id],!1))}catch(g){e._emit("playerror",p._id,g)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===z.src&&(z.src=e._src,z.load());f=window&&window.ejecta||!z.readyState&&c._navigator.isCocoonJS;if(3<=z.readyState||f)Ua();else{e._playLock=!0;var R=function(){Ua();z.removeEventListener(c._canPlayEvent,R,!1)};z.addEventListener(c._canPlayEvent,
R,!1);e._clearTimer(p._id)}}return p._id}},pause:function(b,c){var d=this;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(b)}}),d;for(var e=d._getSoundIds(b),f=0;f<e.length;f++){d._clearTimer(e[f]);var g=d._soundById(e[f]);if(g&&!g._paused&&(g._seek=d.seek(e[f]),g._rateSeek=0,g._paused=!0,d._stopFade(e[f]),g._node))if(d._webAudio){if(!g._node.bufferSource)continue;"undefined"===typeof g._node.bufferSource.stop?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0);
d._cleanBuffer(g._node)}else(!isNaN(g._node.duration)||Infinity===g._node.duration)&&g._node.pause();c||d._emit("pause",g?g._id:null)}return d},stop:function(b,c){var d=this;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"stop",action:function(){d.stop(b)}}),d;for(var e=d._getSoundIds(b),f=0;f<e.length;f++){d._clearTimer(e[f]);var g=d._soundById(e[f]);if(g){g._seek=g._start||0;g._rateSeek=0;g._paused=!0;g._ended=!0;d._stopFade(e[f]);if(g._node)if(d._webAudio)g._node.bufferSource&&
("undefined"===typeof g._node.bufferSource.stop?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),d._cleanBuffer(g._node));else if(!isNaN(g._node.duration)||Infinity===g._node.duration)g._node.currentTime=g._start||0,g._node.pause(),Infinity===g._node.duration&&d._clearSound(g._node);c||d._emit("stop",g._id)}}return d},mute:function(b,d){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"mute",action:function(){e.mute(b,d)}}),e;if("undefined"===typeof d)if("boolean"===
typeof b)e._muted=b;else return e._muted;for(var f=e._getSoundIds(d),g=0;g<f.length;g++){var p=e._soundById(f[g]);p&&(p._muted=b,p._interval&&e._stopFade(p._id),e._webAudio&&p._node?p._node.gain.setValueAtTime(b?0:p._volume,c.ctx.currentTime):p._node&&(p._node.muted=c._muted?!0:b),e._emit("mute",p._id))}return e},volume:function(){var b=this,d=arguments,e,f;if(0===d.length)return b._volume;1===d.length||2===d.length&&"undefined"===typeof d[1]?0<=b._getSoundIds().indexOf(d[0])?f=parseInt(d[0],10):
e=parseFloat(d[0]):2<=d.length&&(e=parseFloat(d[0]),f=parseInt(d[1],10));var g;if("undefined"!==typeof e&&0<=e&&1>=e){if("loaded"!==b._state||b._playLock)return b._queue.push({event:"volume",action:function(){b.volume.apply(b,d)}}),b;"undefined"===typeof f&&(b._volume=e);f=b._getSoundIds(f);for(var p=0;p<f.length;p++)if(g=b._soundById(f[p]))g._volume=e,d[2]||b._stopFade(f[p]),b._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(e,c.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=e*c.volume()),
b._emit("volume",g._id)}else return(g=f?b._soundById(f):b._sounds[0])?g._volume:0;return b},fade:function(b,d,e,f){var g=this;if("loaded"!==g._state||g._playLock)return g._queue.push({event:"fade",action:function(){g.fade(b,d,e,f)}}),g;b=Math.min(Math.max(0,parseFloat(b)),1);d=Math.min(Math.max(0,parseFloat(d)),1);e=parseFloat(e);g.volume(b,f);for(var p=g._getSoundIds(f),m=0;m<p.length;m++){var y=g._soundById(p[m]);if(y){f||g._stopFade(p[m]);if(g._webAudio&&!y._muted){var C=c.ctx.currentTime,E=C+
e/1E3;y._volume=b;y._node.gain.setValueAtTime(b,C);y._node.gain.linearRampToValueAtTime(d,E)}g._startFadeInterval(y,b,d,e,p[m],"undefined"===typeof f)}}return g},_startFadeInterval:function(b,c,d,e,f,g){var p=this,m=c,C=d-c;f=Math.abs(C/0.01);f=Math.max(4,0<f?e/f:e);var E=Date.now();b._fadeTo=d;b._interval=setInterval(function(){var f=(Date.now()-E)/e;E=Date.now();m+=C*f;m=0>C?Math.max(d,m):Math.min(d,m);m=Math.round(100*m)/100;p._webAudio?b._volume=m:p.volume(m,b._id,!0);g&&(p._volume=m);if(d<c&&
m<=d||d>c&&m>=d)clearInterval(b._interval),b._interval=null,b._fadeTo=null,p.volume(d,b._id),p._emit("fade",b._id)},f)},_stopFade:function(b){var d=this._soundById(b);d&&d._interval&&(this._webAudio&&d._node.gain.cancelScheduledValues(c.ctx.currentTime),clearInterval(d._interval),d._interval=null,this.volume(d._fadeTo,b),d._fadeTo=null,this._emit("fade",b));return this},loop:function(){var b=arguments,c,d;if(0===b.length)return this._loop;if(1===b.length)if("boolean"===typeof b[0])this._loop=c=b[0];
else return(b=this._soundById(parseInt(b[0],10)))?b._loop:!1;else 2===b.length&&(c=b[0],d=parseInt(b[1],10));d=this._getSoundIds(d);for(var e=0;e<d.length;e++)if(b=this._soundById(d[e]))if(b._loop=c,this._webAudio&&b._node&&b._node.bufferSource&&(b._node.bufferSource.loop=c))b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop;return this},rate:function(){var b=this,d=arguments,e,f;0===d.length?f=b._sounds[0]._id:1===d.length?0<=b._getSoundIds().indexOf(d[0])?f=parseInt(d[0],
10):e=parseFloat(d[0]):2===d.length&&(e=parseFloat(d[0]),f=parseInt(d[1],10));var g;if("number"===typeof e){if("loaded"!==b._state||b._playLock)return b._queue.push({event:"rate",action:function(){b.rate.apply(b,d)}}),b;"undefined"===typeof f&&(b._rate=e);f=b._getSoundIds(f);for(var p=0;p<f.length;p++)if(g=b._soundById(f[p])){b.playing(f[p])&&(g._rateSeek=b.seek(f[p]),g._playStart=b._webAudio?c.ctx.currentTime:g._playStart);g._rate=e;b._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(e,
c.ctx.currentTime):g._node&&(g._node.playbackRate=e);var m=b.seek(f[p]),m=1E3*((b._sprite[g._sprite][0]+b._sprite[g._sprite][1])/1E3-m)/Math.abs(g._rate);if(b._endTimers[f[p]]||!g._paused)b._clearTimer(f[p]),b._endTimers[f[p]]=setTimeout(b._ended.bind(b,g),m);b._emit("rate",g._id)}}else return(g=b._soundById(f))?g._rate:b._rate;return b},seek:function(){var b=this,d=arguments,e,f;0===d.length?f=b._sounds[0]._id:1===d.length?0<=b._getSoundIds().indexOf(d[0])?f=parseInt(d[0],10):b._sounds.length&&(f=
b._sounds[0]._id,e=parseFloat(d[0])):2===d.length&&(e=parseFloat(d[0]),f=parseInt(d[1],10));if("undefined"===typeof f)return b;if("loaded"!==b._state||b._playLock)return b._queue.push({event:"seek",action:function(){b.seek.apply(b,d)}}),b;var g=b._soundById(f);if(g)if("number"===typeof e&&0<=e){var p=b.playing(f);p&&b.pause(f,!0);g._seek=e;g._ended=!1;b._clearTimer(f);!b._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=e);var m=function(){b._emit("seek",f);p&&b.play(f,!0)};if(p&&
!b._webAudio){var y=function(){b._playLock?setTimeout(y,0):m()};setTimeout(y,0)}else m()}else return b._webAudio?(e=b.playing(f)?c.ctx.currentTime-g._playStart:0,g._seek+((g._rateSeek?g._rateSeek-g._seek:0)+e*Math.abs(g._rate))):g._node.currentTime;return b},playing:function(b){if("number"===typeof b)return(b=this._soundById(b))?!b._paused:!1;for(b=0;b<this._sounds.length;b++)if(!this._sounds[b]._paused)return!0;return!1},duration:function(b){var c=this._duration;(b=this._soundById(b))&&(c=this._sprite[b._sprite][1]/
1E3);return c},state:function(){return this._state},unload:function(){for(var b=this._sounds,d=0;d<b.length;d++)b[d]._paused||this.stop(b[d]._id),this._webAudio||(this._clearSound(b[d]._node),b[d]._node.removeEventListener("error",b[d]._errorFn,!1),b[d]._node.removeEventListener(c._canPlayEvent,b[d]._loadFn,!1),c._releaseHtml5Audio(b[d]._node)),delete b[d]._node,this._clearTimer(b[d]._id);d=c._howls.indexOf(this);0<=d&&c._howls.splice(d,1);b=!0;for(d=0;d<c._howls.length;d++)if(c._howls[d]._src===
this._src||0<=this._src.indexOf(c._howls[d]._src)){b=!1;break}f&&b&&delete f[this._src];c.noAudio=!1;this._state="unloaded";this._sounds=[];return null},on:function(b,c,d,e){b=this["_on"+b];"function"===typeof c&&b.push(e?{id:d,fn:c,once:e}:{id:d,fn:c});return this},off:function(b,c,d){var e=this["_on"+b],f=0;"number"===typeof c&&(d=c,c=null);if(c||d)for(f=0;f<e.length;f++){if(b=d===e[f].id,c===e[f].fn&&b||!c&&b){e.splice(f,1);break}}else if(b)this["_on"+b]=[];else{c=Object.keys(this);for(f=0;f<c.length;f++)0===
c[f].indexOf("_on")&&Array.isArray(this[c[f]])&&(this[c[f]]=[])}return this},once:function(b,c,d){this.on(b,c,d,1);return this},_emit:function(b,c,d){for(var e=this["_on"+b],f=e.length-1;0<=f;f--)if(!e[f].id||e[f].id===c||"load"===b)setTimeout(function(b){b.call(this,c,d)}.bind(this,e[f].fn),0),e[f].once&&this.off(b,e[f].fn,e[f].id);this._loadQueue(b);return this},_loadQueue:function(b){if(0<this._queue.length){var c=this._queue[0];c.event===b&&(this._queue.shift(),this._loadQueue());b||c.action()}return this},
_ended:function(b){var d=b._sprite;if(!this._webAudio&&b._node&&!b._node.paused&&!b._node.ended&&b._node.currentTime<b._stop)return setTimeout(this._ended.bind(this,b),100),this;d=!(!b._loop&&!this._sprite[d][2]);this._emit("end",b._id);!this._webAudio&&d&&this.stop(b._id,!0).play(b._id);if(this._webAudio&&d){this._emit("play",b._id);b._seek=b._start||0;b._rateSeek=0;b._playStart=c.ctx.currentTime;var e=1E3*(b._stop-b._start)/Math.abs(b._rate);this._endTimers[b._id]=setTimeout(this._ended.bind(this,
b),e)}this._webAudio&&!d&&(b._paused=!0,b._ended=!0,b._seek=b._start||0,b._rateSeek=0,this._clearTimer(b._id),this._cleanBuffer(b._node),c._autoSuspend());!this._webAudio&&!d&&this.stop(b._id,!0);return this},_clearTimer:function(b){if(this._endTimers[b]){if("function"!==typeof this._endTimers[b])clearTimeout(this._endTimers[b]);else{var c=this._soundById(b);c&&c._node&&c._node.removeEventListener("ended",this._endTimers[b],!1)}delete this._endTimers[b]}return this},_soundById:function(b){for(var c=
0;c<this._sounds.length;c++)if(b===this._sounds[c]._id)return this._sounds[c];return null},_inactiveSound:function(){this._drain();for(var b=0;b<this._sounds.length;b++)if(this._sounds[b]._ended)return this._sounds[b].reset();return new e(this)},_drain:function(){var b=this._pool,c=0,d=0;if(!(this._sounds.length<b)){for(d=0;d<this._sounds.length;d++)this._sounds[d]._ended&&c++;for(d=this._sounds.length-1;0<=d&&!(c<=b);d--)this._sounds[d]._ended&&(this._webAudio&&this._sounds[d]._node&&this._sounds[d]._node.disconnect(0),
this._sounds.splice(d,1),c--)}},_getSoundIds:function(b){if("undefined"===typeof b){b=[];for(var c=0;c<this._sounds.length;c++)b.push(this._sounds[c]._id);return b}return[b]},_refreshBuffer:function(b){b._node.bufferSource=c.ctx.createBufferSource();b._node.bufferSource.buffer=f[this._src];b._panner?b._node.bufferSource.connect(b._panner):b._node.bufferSource.connect(b._node);if(b._node.bufferSource.loop=b._loop)b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop||0;b._node.bufferSource.playbackRate.setValueAtTime(b._rate,
c.ctx.currentTime);return this},_cleanBuffer:function(b){var d=c._navigator&&0<=c._navigator.vendor.indexOf("Apple");if(c._scratchBuffer&&b.bufferSource&&(b.bufferSource.onended=null,b.bufferSource.disconnect(0),d))try{b.bufferSource.buffer=c._scratchBuffer}catch(e){}b.bufferSource=null;return this},_clearSound:function(b){/MSIE |Trident\//.test(c._navigator&&c._navigator.userAgent)||(b.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var e=function(b){this._parent=
b;this.init()};e.prototype={init:function(){var b=this._parent;this._muted=b._muted;this._loop=b._loop;this._volume=b._volume;this._rate=b._rate;this._seek=0;this._ended=this._paused=!0;this._sprite="__default";this._id=++c._counter;b._sounds.push(this);this.create();return this},create:function(){var b=this._parent,d=c._muted||this._muted||this._parent._muted?0:this._volume;b._webAudio?(this._node="undefined"===typeof c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),this._node.gain.setValueAtTime(d,
c.ctx.currentTime),this._node.paused=!0,this._node.connect(c.masterGain)):c.noAudio||(this._node=c._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(c._canPlayEvent,this._loadFn,!1),this._node.src=b._src,this._node.preload=!0===b._preload?"auto":b._preload,this._node.volume=d*c.volume(),this._node.load());return this},reset:function(){var b=this._parent;this._muted=
b._muted;this._loop=b._loop;this._volume=b._volume;this._rate=b._rate;this._rateSeek=this._seek=0;this._ended=this._paused=!0;this._sprite="__default";this._id=++c._counter;return this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0);this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var b=this._parent;b._duration=Math.ceil(10*this._node.duration)/10;0===Object.keys(b._sprite).length&&(b._sprite={__default:[0,
1E3*b._duration]});"loaded"!==b._state&&(b._state="loaded",b._emit("load"),b._loadQueue());this._node.removeEventListener(c._canPlayEvent,this._loadFn,!1)}};var f={},g=function(b,d){var e=function(){d._emit("loaderror",null,"Decoding audio data failed.")},g=function(b){b&&0<d._sounds.length?(f[d._src]=b,m(d,b)):e()};"undefined"!==typeof Promise&&1===c.ctx.decodeAudioData.length?c.ctx.decodeAudioData(b).then(g).catch(e):c.ctx.decodeAudioData(b,g,e)},m=function(b,c){c&&!b._duration&&(b._duration=c.duration);
0===Object.keys(b._sprite).length&&(b._sprite={__default:[0,1E3*b._duration]});"loaded"!==b._state&&(b._state="loaded",b._emit("load"),b._loadQueue())},p=function(){if(c.usingWebAudio){try{"undefined"!==typeof AudioContext?c.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?c.ctx=new webkitAudioContext:c.usingWebAudio=!1}catch(b){c.usingWebAudio=!1}c.ctx||(c.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(c._navigator&&c._navigator.platform),e=c._navigator&&c._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
e=e?parseInt(e[1],10):null;d&&e&&9>e&&(d=/safari/.test(c._navigator&&c._navigator.userAgent.toLowerCase()),c._navigator&&!d&&(c.usingWebAudio=!1));c.usingWebAudio&&(c.masterGain="undefined"===typeof c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),c.masterGain.gain.setValueAtTime(c._muted?0:c._volume,c.ctx.currentTime),c.masterGain.connect(c.ctx.destination));c._setup()}};"function"===typeof define&&define.amd&&define([],function(){return{Howler:c,Howl:d}});"undefined"!==typeof exports&&
(exports.Howler=c,exports.Howl=d);"undefined"!==typeof global?(global.HowlerGlobal=b,global.Howler=c,global.Howl=d,global.Sound=e):"undefined"!==typeof window&&(window.HowlerGlobal=b,window.Howler=c,window.Howl=d,window.Sound=e)})();
(function(){HowlerGlobal.prototype._pos=[0,0,0];HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0];HowlerGlobal.prototype.stereo=function(b){if(!this.ctx||!this.ctx.listener)return this;for(var c=this._howls.length-1;0<=c;c--)this._howls[c].stereo(b);return this};HowlerGlobal.prototype.pos=function(b,c,d){if(!this.ctx||!this.ctx.listener)return this;c="number"!==typeof c?this._pos[1]:c;d="number"!==typeof d?this._pos[2]:d;if("number"===typeof b)this._pos=[b,c,d],"undefined"!==typeof this.ctx.listener.positionX?
(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,0.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,0.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,0.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]);else return this._pos;return this};HowlerGlobal.prototype.orientation=function(b,c,d,e,j,n){if(!this.ctx||!this.ctx.listener)return this;var r=this._orientation;c="number"!==
typeof c?r[1]:c;d="number"!==typeof d?r[2]:d;e="number"!==typeof e?r[3]:e;j="number"!==typeof j?r[4]:j;n="number"!==typeof n?r[5]:n;if("number"===typeof b)this._orientation=[b,c,d,e,j,n],"undefined"!==typeof this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(b,Howler.ctx.currentTime,0.1),this.ctx.listener.forwardY.setTargetAtTime(c,Howler.ctx.currentTime,0.1),this.ctx.listener.forwardZ.setTargetAtTime(d,Howler.ctx.currentTime,0.1),this.ctx.listener.upX.setTargetAtTime(e,Howler.ctx.currentTime,
0.1),this.ctx.listener.upY.setTargetAtTime(j,Howler.ctx.currentTime,0.1),this.ctx.listener.upZ.setTargetAtTime(n,Howler.ctx.currentTime,0.1)):this.ctx.listener.setOrientation(b,c,d,e,j,n);else return r;return this};var b=Howl.prototype.init;Howl.prototype.init=function(c){this._orientation=c.orientation||[1,0,0];this._stereo=c.stereo||null;this._pos=c.pos||null;this._pannerAttr={coneInnerAngle:"undefined"!==typeof c.coneInnerAngle?c.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof c.coneOuterAngle?
c.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof c.coneOuterGain?c.coneOuterGain:0,distanceModel:"undefined"!==typeof c.distanceModel?c.distanceModel:"inverse",maxDistance:"undefined"!==typeof c.maxDistance?c.maxDistance:1E4,panningModel:"undefined"!==typeof c.panningModel?c.panningModel:"HRTF",refDistance:"undefined"!==typeof c.refDistance?c.refDistance:1,rolloffFactor:"undefined"!==typeof c.rolloffFactor?c.rolloffFactor:1};this._onstereo=c.onstereo?[{fn:c.onstereo}]:[];this._onpos=c.onpos?
[{fn:c.onpos}]:[];this._onorientation=c.onorientation?[{fn:c.onorientation}]:[];return b.call(this,c)};Howl.prototype.stereo=function(b,c){var d=this;if(!d._webAudio)return d;if("loaded"!==d._state)return d._queue.push({event:"stereo",action:function(){d.stereo(b,c)}}),d;var p="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof c)if("number"===typeof b)d._stereo=b,d._pos=[b,0,0];else return d._stereo;for(var j=d._getSoundIds(c),n=0;n<j.length;n++){var r=d._soundById(j[n]);
if(r)if("number"===typeof b)r._stereo=b,r._pos=[b,0,0],r._node&&(r._pannerAttr.panningModel="equalpower",(!r._panner||!r._panner.pan)&&e(r,p),"spatial"===p?"undefined"!==typeof r._panner.positionX?(r._panner.positionX.setValueAtTime(b,Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):r._panner.setPosition(b,0,0):r._panner.pan.setValueAtTime(b,Howler.ctx.currentTime)),d._emit("stereo",r._id);else return r._stereo}return d};
Howl.prototype.pos=function(b,c,d,p){var j=this;if(!j._webAudio)return j;if("loaded"!==j._state)return j._queue.push({event:"pos",action:function(){j.pos(b,c,d,p)}}),j;c="number"!==typeof c?0:c;d="number"!==typeof d?-0.5:d;if("undefined"===typeof p)if("number"===typeof b)j._pos=[b,c,d];else return j._pos;for(var n=j._getSoundIds(p),r=0;r<n.length;r++){var q=j._soundById(n[r]);if(q)if("number"===typeof b)q._pos=[b,c,d],q._node&&((!q._panner||q._panner.pan)&&e(q,"spatial"),"undefined"!==typeof q._panner.positionX?
(q._panner.positionX.setValueAtTime(b,Howler.ctx.currentTime),q._panner.positionY.setValueAtTime(c,Howler.ctx.currentTime),q._panner.positionZ.setValueAtTime(d,Howler.ctx.currentTime)):q._panner.setPosition(b,c,d)),j._emit("pos",q._id);else return q._pos}return j};Howl.prototype.orientation=function(b,c,d,p){var j=this;if(!j._webAudio)return j;if("loaded"!==j._state)return j._queue.push({event:"orientation",action:function(){j.orientation(b,c,d,p)}}),j;c="number"!==typeof c?j._orientation[1]:c;d=
"number"!==typeof d?j._orientation[2]:d;if("undefined"===typeof p)if("number"===typeof b)j._orientation=[b,c,d];else return j._orientation;for(var n=j._getSoundIds(p),r=0;r<n.length;r++){var q=j._soundById(n[r]);if(q)if("number"===typeof b)q._orientation=[b,c,d],q._node&&(q._panner||(q._pos||(q._pos=j._pos||[0,0,-0.5]),e(q,"spatial")),"undefined"!==typeof q._panner.orientationX?(q._panner.orientationX.setValueAtTime(b,Howler.ctx.currentTime),q._panner.orientationY.setValueAtTime(c,Howler.ctx.currentTime),
q._panner.orientationZ.setValueAtTime(d,Howler.ctx.currentTime)):q._panner.setOrientation(b,c,d)),j._emit("orientation",q._id);else return q._orientation}return j};Howl.prototype.pannerAttr=function(){var b=arguments,c,d;if(!this._webAudio)return this;if(0===b.length)return this._pannerAttr;if(1===b.length)if("object"===typeof b[0])c=b[0],"undefined"===typeof d&&(c.pannerAttr||(c.pannerAttr={coneInnerAngle:c.coneInnerAngle,coneOuterAngle:c.coneOuterAngle,coneOuterGain:c.coneOuterGain,distanceModel:c.distanceModel,
maxDistance:c.maxDistance,refDistance:c.refDistance,rolloffFactor:c.rolloffFactor,panningModel:c.panningModel}),this._pannerAttr={coneInnerAngle:"undefined"!==typeof c.pannerAttr.coneInnerAngle?c.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:"undefined"!==typeof c.pannerAttr.coneOuterAngle?c.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:"undefined"!==typeof c.pannerAttr.coneOuterGain?c.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:"undefined"!==typeof c.pannerAttr.distanceModel?
c.pannerAttr.distanceModel:this._distanceModel,maxDistance:"undefined"!==typeof c.pannerAttr.maxDistance?c.pannerAttr.maxDistance:this._maxDistance,refDistance:"undefined"!==typeof c.pannerAttr.refDistance?c.pannerAttr.refDistance:this._refDistance,rolloffFactor:"undefined"!==typeof c.pannerAttr.rolloffFactor?c.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:"undefined"!==typeof c.pannerAttr.panningModel?c.pannerAttr.panningModel:this._panningModel});else return(b=this._soundById(parseInt(b[0],
10)))?b._pannerAttr:this._pannerAttr;else 2===b.length&&(c=b[0],d=parseInt(b[1],10));d=this._getSoundIds(d);for(var p=0;p<d.length;p++)if(b=this._soundById(d[p])){var j=b._pannerAttr,j={coneInnerAngle:"undefined"!==typeof c.coneInnerAngle?c.coneInnerAngle:j.coneInnerAngle,coneOuterAngle:"undefined"!==typeof c.coneOuterAngle?c.coneOuterAngle:j.coneOuterAngle,coneOuterGain:"undefined"!==typeof c.coneOuterGain?c.coneOuterGain:j.coneOuterGain,distanceModel:"undefined"!==typeof c.distanceModel?c.distanceModel:
j.distanceModel,maxDistance:"undefined"!==typeof c.maxDistance?c.maxDistance:j.maxDistance,refDistance:"undefined"!==typeof c.refDistance?c.refDistance:j.refDistance,rolloffFactor:"undefined"!==typeof c.rolloffFactor?c.rolloffFactor:j.rolloffFactor,panningModel:"undefined"!==typeof c.panningModel?c.panningModel:j.panningModel},n=b._panner;n?(n.coneInnerAngle=j.coneInnerAngle,n.coneOuterAngle=j.coneOuterAngle,n.coneOuterGain=j.coneOuterGain,n.distanceModel=j.distanceModel,n.maxDistance=j.maxDistance,
n.refDistance=j.refDistance,n.rolloffFactor=j.rolloffFactor,n.panningModel=j.panningModel):(b._pos||(b._pos=this._pos||[0,0,-0.5]),e(b,"spatial"))}return this};var c=Sound.prototype.init;Sound.prototype.init=function(){var b=this._parent;this._orientation=b._orientation;this._stereo=b._stereo;this._pos=b._pos;this._pannerAttr=b._pannerAttr;c.call(this);this._stereo?b.stereo(this._stereo):this._pos&&b.pos(this._pos[0],this._pos[1],this._pos[2],this._id)};var d=Sound.prototype.reset;Sound.prototype.reset=
function(){var b=this._parent;this._orientation=b._orientation;this._stereo=b._stereo;this._pos=b._pos;this._pannerAttr=b._pannerAttr;this._stereo?b.stereo(this._stereo):this._pos?b.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,b._refreshBuffer(this));return d.call(this)};var e=function(b,c){"spatial"===(c||"spatial")?(b._panner=Howler.ctx.createPanner(),b._panner.coneInnerAngle=b._pannerAttr.coneInnerAngle,b._panner.coneOuterAngle=
b._pannerAttr.coneOuterAngle,b._panner.coneOuterGain=b._pannerAttr.coneOuterGain,b._panner.distanceModel=b._pannerAttr.distanceModel,b._panner.maxDistance=b._pannerAttr.maxDistance,b._panner.refDistance=b._pannerAttr.refDistance,b._panner.rolloffFactor=b._pannerAttr.rolloffFactor,b._panner.panningModel=b._pannerAttr.panningModel,"undefined"!==typeof b._panner.positionX?(b._panner.positionX.setValueAtTime(b._pos[0],Howler.ctx.currentTime),b._panner.positionY.setValueAtTime(b._pos[1],Howler.ctx.currentTime),
b._panner.positionZ.setValueAtTime(b._pos[2],Howler.ctx.currentTime)):b._panner.setPosition(b._pos[0],b._pos[1],b._pos[2]),"undefined"!==typeof b._panner.orientationX?(b._panner.orientationX.setValueAtTime(b._orientation[0],Howler.ctx.currentTime),b._panner.orientationY.setValueAtTime(b._orientation[1],Howler.ctx.currentTime),b._panner.orientationZ.setValueAtTime(b._orientation[2],Howler.ctx.currentTime)):b._panner.setOrientation(b._orientation[0],b._orientation[1],b._orientation[2])):(b._panner=
Howler.ctx.createStereoPanner(),b._panner.pan.setValueAtTime(b._stereo,Howler.ctx.currentTime));b._panner.connect(b._node);b._paused||b._parent.pause(b._id,!0).play(b._id,!0)}})();
!function(b,c){"object"==typeof exports&&"undefined"!=typeof module?c():"function"==typeof define&&define.amd?define(c):c()}(0,function(){function b(b){var c=this.constructor;return this.then(function(d){return c.resolve(b()).then(function(){return d})},function(d){return c.resolve(b()).then(function(){return c.reject(d)})})}function c(){}function d(b){if(!(this instanceof d))throw new TypeError("Promises must be constructed via new");if("function"!=typeof b)throw new TypeError("not a function");
this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];p(b,this)}function e(b,c){for(;3===b._state;)b=b._value;0!==b._state?(b._handled=!0,d._immediateFn(function(){var d=1===b._state?c.onFulfilled:c.onRejected;if(null!==d){var e;try{e=d(b._value)}catch(j){return void g(c.promise,j)}f(c.promise,e)}else(1===b._state?f:g)(c.promise,b._value)})):b._deferreds.push(c)}function f(b,c){try{if(c===b)throw new TypeError("A promise cannot be resolved with itself.");if(c&&("object"==typeof c||
"function"==typeof c)){var e=c.then;if(c instanceof d)return b._state=3,b._value=c,void m(b);if("function"==typeof e)return void p(function(){e.apply(c,arguments)},b)}b._state=1;b._value=c;m(b)}catch(f){g(b,f)}}function g(b,c){b._state=2;b._value=c;m(b)}function m(b){2===b._state&&0===b._deferreds.length&&d._immediateFn(function(){b._handled||d._unhandledRejectionFn(b._value)});for(var c=0,f=b._deferreds.length;f>c;c++)e(b,b._deferreds[c]);b._deferreds=null}function p(b,c){var d=!1;try{b(function(b){d||
(d=!0,f(c,b))},function(b){d||(d=!0,g(c,b))})}catch(e){d||(d=!0,g(c,e))}}var j=setTimeout;d.prototype["catch"]=function(b){return this.then(null,b)};d.prototype.then=function(b,d){var f=new this.constructor(c);return e(this,new function(b,c,d){this.onFulfilled="function"==typeof b?b:null;this.onRejected="function"==typeof c?c:null;this.promise=d}(b,d,f)),f};d.prototype["finally"]=b;d.all=function(b){return new d(function(c,d){function e(b,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var p=
g.then;if("function"==typeof p)return void p.call(g,function(c){e(b,c)},d)}f[b]=g;0==--j&&c(f)}catch(n){d(n)}}if(!b||"undefined"==typeof b.length)throw new TypeError("Promise.all accepts an array");var f=Array.prototype.slice.call(b);if(0===f.length)return c([]);for(var j=f.length,g=0;f.length>g;g++)e(g,f[g])})};d.resolve=function(b){return b&&"object"==typeof b&&b.constructor===d?b:new d(function(c){c(b)})};d.reject=function(b){return new d(function(c,d){d(b)})};d.race=function(b){return new d(function(c,
d){for(var e=0,f=b.length;f>e;e++)b[e].then(c,d)})};d._immediateFn="function"==typeof setImmediate&&function(b){setImmediate(b)}||function(b){j(b,0)};d._unhandledRejectionFn=function(b){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",b)};var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object");}();"Promise"in n?n.Promise.prototype["finally"]||
(n.Promise.prototype["finally"]=b):n.Promise=d});
(function(){function b(b,c){document.addEventListener?b.addEventListener("scroll",c,!1):b.attachEvent("scroll",c)}function c(b){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(b));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText=
"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}function d(b,c){b.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+
c+";"}function e(b){var c=b.a.offsetWidth,d=c+100;b.f.style.width=d+"px";b.c.scrollLeft=d;b.b.scrollLeft=b.b.scrollWidth+100;return b.g!==c?(b.g=c,!0):!1}function f(c,d){function f(){var b=j;e(b)&&b.a.parentNode&&d(b.g)}var j=c;b(c.b,f);b(c.c,f);e(c)}function g(b,c){var d=c||{};this.family=b;this.style=d.style||"normal";this.weight=d.weight||"normal";this.stretch=d.stretch||"normal"}function m(){null===s&&(s=!!document.fonts);return s}function p(){if(null===q){var b=document.createElement("div");
try{b.style.font="condensed 100px sans-serif"}catch(c){}q=""!==b.style.font}return q}function j(b,c){return[b.style,b.weight,p()?b.stretch:"","100px",c].join(" ")}var n=null,r=null,q=null,s=null;g.prototype.load=function(b,e){var g=this,p=b||"BESbswy",q=0,s=e||3E3,L=(new Date).getTime();return new Promise(function(b,e){var t;if(t=m())null===r&&(m()&&/Apple/.test(window.navigator.vendor)?(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),r=!!t&&603>parseInt(t[1],
10)):r=!1),t=!r;if(t){t=new Promise(function(b,c){function d(){(new Date).getTime()-L>=s?c(Error(""+s+"ms timeout exceeded")):document.fonts.load(j(g,'"'+g.family+'"'),p).then(function(c){1<=c.length?b():setTimeout(d,25)},c)}d()});var u=new Promise(function(b,c){q=setTimeout(function(){c(Error(""+s+"ms timeout exceeded"))},s)});Promise.race([u,t]).then(function(){clearTimeout(q);b(g)},e)}else{var R=function(){function m(){var c;if(c=-1!=S&&-1!=T||-1!=S&&-1!=U||-1!=T&&-1!=U)(c=S!=T&&S!=U&&T!=U)||(null===
n&&(c=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),n=!!c&&(536>parseInt(c[1],10)||536===parseInt(c[1],10)&&11>=parseInt(c[2],10))),c=n&&(S==R&&T==R&&U==R||S==O&&T==O&&U==O||S==Z&&T==Z&&U==Z)),c=!c;c&&(H.parentNode&&H.parentNode.removeChild(H),clearTimeout(q),b(g))}function r(){if((new Date).getTime()-L>=s)H.parentNode&&H.parentNode.removeChild(H),e(Error(""+s+"ms timeout exceeded"));else{var b=document.hidden;if(!0===b||void 0===b)S=t.a.offsetWidth,T=u.a.offsetWidth,U=z.a.offsetWidth,
m();q=setTimeout(r,50)}}var t=new c(p),u=new c(p),z=new c(p),S=-1,T=-1,U=-1,R=-1,O=-1,Z=-1,H=document.createElement("div");H.dir="ltr";d(t,j(g,"sans-serif"));d(u,j(g,"serif"));d(z,j(g,"monospace"));H.appendChild(t.a);H.appendChild(u.a);H.appendChild(z.a);document.body.appendChild(H);R=t.a.offsetWidth;O=u.a.offsetWidth;Z=z.a.offsetWidth;r();f(t,function(b){S=b;m()});d(t,j(g,'"'+g.family+'",sans-serif'));f(u,function(b){T=b;m()});d(u,j(g,'"'+g.family+'",serif'));f(z,function(b){U=b;m()});d(z,j(g,'"'+
g.family+'",monospace'))};document.body?R():document.addEventListener?document.addEventListener("DOMContentLoaded",function Q(){document.removeEventListener("DOMContentLoaded",Q);R()}):document.attachEvent("onreadystatechange",function Y(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",Y),R()})}})};"object"===typeof module?module.exports=g:(window.FontFaceObserver=g,window.FontFaceObserver.prototype.load=g.prototype.load)})();
(function(b){Number.prototype.map=function(b,c,d,e){return d+(e-d)*((this-b)/(c-b))};Number.prototype.limit=function(b,c){return Math.min(c,Math.max(b,this))};Number.prototype.round=function(b){b=Math.pow(10,b||0);return Math.round(this*b)/b};Number.prototype.floor=function(){return Math.floor(this)};Number.prototype.ceil=function(){return Math.ceil(this)};Number.prototype.toInt=function(){return this|0};Number.prototype.toRad=function(){return this/180*Math.PI};Number.prototype.toDeg=function(){return 180*
this/Math.PI};Array.prototype.erase=function(b){for(var c=this.length;c--;)this[c]===b&&this.splice(c,1);return this};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Function.prototype.bind=Function.prototype.bind||function(b){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),d=this,e=function(){},f=function(){return d.apply(this instanceof e&&b?
this:b,c.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;f.prototype=new e;return f};b.ig={game:null,debug:null,version:"1.23",global:b,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:b.ImpactPrefix||"",lib:"lib/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(b){return"#"==b.charAt(0)?document.getElementById(b.substr(1)):document.getElementsByTagName(b)},$new:function(b){return document.createElement(b)},copy:function(b){if(!b||"object"!=typeof b||
b instanceof HTMLElement||b instanceof ig.Class)return b;if(b instanceof Array)for(var c=[],d=0,e=b.length;d<e;d++)c[d]=ig.copy(b[d]);else for(d in c={},b)c[d]=ig.copy(b[d]);return c},merge:function(b,c){for(var d in c){var e=c[d];if("object"!=typeof e||e instanceof HTMLElement||e instanceof ig.Class||null===e)b[d]=e;else{if(!b[d]||"object"!=typeof b[d])b[d]=e instanceof Array?[]:{};ig.merge(b[d],e)}}return b},ksort:function(b){if(!b||"object"!=typeof b)return[];var c=[],d=[],e;for(e in b)c.push(e);
c.sort();for(e=0;e<c.length;e++)d.push(b[c[e]]);return d},setVendorAttribute:function(b,c,d){var e=c.charAt(0).toUpperCase()+c.substr(1);b[c]="undefined"!==typeof b.imageSmoothingEnabled?b["ms"+e]=b["moz"+e]=b["o"+e]=d:b["ms"+e]=b["moz"+e]=b["webkit"+e]=b["o"+e]=d},getVendorAttribute:function(b,c){var d=c.charAt(0).toUpperCase()+c.substr(1);return"undefined"!==typeof b.imageSmoothingEnabled?b[c]||b["ms"+d]||b["moz"+d]||b["o"+d]:b[c]||b["ms"+d]||b["moz"+d]||b["webkit"+d]||b["o"+d]},normalizeVendorAttribute:function(b,
c){var d=ig.getVendorAttribute(b,c);!b[c]&&d&&(b[c]=d)},getImagePixels:function(b,c,d,e,f){var g=ig.$new("canvas");g.width=b.width;g.height=b.height;var m=g.getContext("2d");ig.System.SCALE.CRISP(g,m);var t=ig.getVendorAttribute(m,"backingStorePixelRatio")||1;ig.normalizeVendorAttribute(m,"getImageDataHD");var y=b.width/t,C=b.height/t;g.width=Math.ceil(y);g.height=Math.ceil(C);m.drawImage(b,0,0,y,C);return 1===t?m.getImageData(c,d,e,f):m.getImageDataHD(c,d,e,f)},module:function(b){if(ig._current)throw"Module '"+
ig._current.name+"' defines nothing";if(ig.modules[b]&&ig.modules[b].body)throw"Module '"+b+"' is already defined";ig._current={name:b,requires:[],loaded:!1,body:null};ig.modules[b]=ig._current;ig._loadQueue.push(ig._current);return ig},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig},defines:function(b){ig._current.body=b;ig._current=null;ig._initDOMReady()},addResource:function(b){ig.resources.push(b)},setNocache:function(b){ig.nocache=b?"?"+Date.now():""},
log:function(){},assert:function(){},show:function(){},mark:function(){},_loadScript:function(b,c){ig.modules[b]={name:b,requires:[],loaded:!1,body:null};ig._waitForOnload++;var d=ig.prefix+ig.lib+b.replace(/\./g,"/")+".js"+ig.nocache,e=ig.$new("script");e.type="text/javascript";e.src=d;e.onload=function(){ig._waitForOnload--;ig._execModules()};e.onerror=function(){throw"Failed to load module "+b+" at "+d+" required from "+c;};ig.$("head")[0].appendChild(e)},_execModules:function(){for(var b=!1,c=
0;c<ig._loadQueue.length;c++){for(var d=ig._loadQueue[c],e=!0,f=0;f<d.requires.length;f++){var g=d.requires[f];ig.modules[g]?ig.modules[g].loaded||(e=!1):(e=!1,ig._loadScript(g,d.name))}e&&d.body&&(ig._loadQueue.splice(c,1),d.loaded=!0,d.body(),b=!0,c--)}if(b)ig._execModules();else if(!ig.baked&&0==ig._waitForOnload&&0!=ig._loadQueue.length){b=[];for(c=0;c<ig._loadQueue.length;c++){e=[];g=ig._loadQueue[c].requires;for(f=0;f<g.length;f++)d=ig.modules[g[f]],(!d||!d.loaded)&&e.push(g[f]);b.push(ig._loadQueue[c].name+
" (requires: "+e.join(", ")+")")}throw"Unresolved (or circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules or a previous syntax error prevents a module from loading:\n"+b.join("\n");}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig._DOMReady,13);ig.modules["dom.ready"].loaded=!0;ig._waitForOnload--;ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0);ig.ua.pixelRatio=
b.devicePixelRatio||1;ig.ua.viewport={width:b.innerWidth,height:b.innerHeight};ig.ua.screen={width:b.screen.availWidth*ig.ua.pixelRatio,height:b.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio;ig.ua.iPad=/iPad/i.test(navigator.userAgent);ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.is_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);
ig.ua.is_safari_or_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad;ig.ua.iOS6_tag=/OS 6_/i.test(navigator.userAgent);ig.ua.iOS6=(ig.ua.iPhone||ig.ua.iPad)&&ig.ua.iOS6_tag;ig.ua.iOSgt5=ig.ua.iOS&&5<parseInt(navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]);ig.ua.HTCONE=/HTC_One/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.Kindle=/Silk/i.test(navigator.userAgent);ig.ua.touchDevice="ontouchstart"in
b||b.navigator.msMaxTouchPoints;ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.iOS6||ig.ua.winPhone||ig.ua.Kindle||/mobile/i.test(navigator.userAgent)},_initDOMReady:function(){ig.modules["dom.ready"]?ig._execModules():(ig._boot(),ig.modules["dom.ready"]={requires:[],loaded:!1,body:null},ig._waitForOnload++,"complete"===document.readyState?ig._DOMReady():(document.addEventListener("DOMContentLoaded",ig._DOMReady,!1),b.addEventListener("load",ig._DOMReady,!1)))}};ig.normalizeVendorAttribute(b,"requestAnimationFrame");
if(b.requestAnimationFrame){var c=1,d={};b.ig.setAnimation=function(e,f){var g=c++;d[g]=!0;var m=function(){d[g]&&(b.requestAnimationFrame(m,f),e())};b.requestAnimationFrame(m,f);return g};b.ig.clearAnimation=function(b){delete d[b]}}else b.ig.setAnimation=function(c){return b.setInterval(c,1E3/60)},b.ig.clearAnimation=function(c){b.clearInterval(c)};var e=!1,f=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/,g=0;b.ig.Class=function(){};var m=function(b){var c=this.prototype,d={},e;for(e in b)"function"==
typeof b[e]&&"function"==typeof c[e]&&f.test(b[e])?(d[e]=c[e],c[e]=function(b,c){return function(){var e=this.parent;this.parent=d[b];var f=c.apply(this,arguments);this.parent=e;return f}}(e,b[e])):c[e]=b[e]};b.ig.Class.extend=function(c){function d(){if(!e){if(this.staticInstantiate){var b=this.staticInstantiate.apply(this,arguments);if(b)return b}for(var c in this)"object"==typeof this[c]&&(this[c]=ig.copy(this[c]));this.init&&this.init.apply(this,arguments)}return this}var n=this.prototype;e=!0;
var r=new this;e=!1;for(var q in c)r[q]="function"==typeof c[q]&&"function"==typeof n[q]&&f.test(c[q])?function(b,c){return function(){var d=this.parent;this.parent=n[b];var e=c.apply(this,arguments);this.parent=d;return e}}(q,c[q]):c[q];d.prototype=r;d.prototype.constructor=d;d.extend=b.ig.Class.extend;d.inject=m;d.classId=r.classId=++g;return d};b.ImpactMixin&&ig.merge(ig,b.ImpactMixin)})(window);ig.baked=!0;
ig.module("impact.image").defines(function(){ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(b){return ig.Image.cache[b]||null},init:function(b){this.path=b;this.load()},load:function(b){this.loaded?b&&b(this.path,!0):(!this.loaded&&ig.ready?(this.loadCallback=b||null,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.addResource(this),
ig.Image.cache[this.path]=this)},reload:function(){this.loaded=!1;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.src=this.path+"?"+Date.now()},onload:function(){this.width=this.data.width;this.height=this.data.height;this.loaded=!0;1!=ig.system.scale&&this.resize(ig.system.scale);this.loadCallback&&this.loadCallback(this.path,!0)},onerror:function(){this.failed=!0;this.loadCallback&&this.loadCallback(this.path,!1)},resize:function(b){var c=ig.getImagePixels(this.data,0,0,this.width,
this.height),d=this.width*b,e=this.height*b,f=ig.$new("canvas");f.width=d;f.height=e;for(var g=f.getContext("2d"),m=g.getImageData(0,0,d,e),p=0;p<e;p++)for(var j=0;j<d;j++){var n=4*(Math.floor(p/b)*this.width+Math.floor(j/b)),r=4*(p*d+j);m.data[r]=c.data[n];m.data[r+1]=c.data[n+1];m.data[r+2]=c.data[n+2];m.data[r+3]=c.data[n+3]}g.putImageData(m,0,0);this.data=f},draw:function(b,c,d,e,f,g){if(this.loaded){var m=ig.system.scale;f=(f?f:this.width)*m;g=(g?g:this.height)*m;ig.system.context.drawImage(this.data,
d?d*m:0,e?e*m:0,f,g,ig.system.getDrawPos(b),ig.system.getDrawPos(c),f,g);ig.Image.drawCount++}},drawTile:function(b,c,d,e,f,g,m){f=f?f:e;if(this.loaded&&!(e>this.width||f>this.height)){var p=ig.system.scale,j=Math.floor(e*p),n=Math.floor(f*p),r=g?-1:1,q=m?-1:1;if(g||m)ig.system.context.save(),ig.system.context.scale(r,q);ig.system.context.drawImage(this.data,Math.floor(d*e)%this.width*p,Math.floor(d*e/this.width)*f*p,j,n,ig.system.getDrawPos(b)*r-(g?j:0),ig.system.getDrawPos(c)*q-(m?n:0),j,n);(g||
m)&&ig.system.context.restore();ig.Image.drawCount++}}});ig.Image.drawCount=0;ig.Image.cache={};ig.Image.reloadCache=function(){for(var b in ig.Image.cache)ig.Image.cache[b].reload()}});ig.baked=!0;
ig.module("impact.font").requires("impact.image").defines(function(){ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,onload:function(b){this._loadMetrics(this.data);this.parent(b)},widthForString:function(b){if(-1!==b.indexOf("\n")){b=b.split("\n");for(var c=0,d=0;d<b.length;d++)c=Math.max(c,this._widthForLine(b[d]));return c}return this._widthForLine(b)},_widthForLine:function(b){for(var c=0,d=0;d<b.length;d++)c+=this.widthMap[b.charCodeAt(d)-this.firstChar]+
this.letterSpacing;return c},heightForString:function(b){return b.split("\n").length*(this.height+this.lineSpacing)},draw:function(b,c,d,e){"string"!=typeof b&&(b=b.toString());if(-1!==b.indexOf("\n")){b=b.split("\n");for(var f=this.height+this.lineSpacing,g=0;g<b.length;g++)this.draw(b[g],c,d+g*f,e)}else{if(e==ig.Font.ALIGN.RIGHT||e==ig.Font.ALIGN.CENTER)g=this._widthForLine(b),c-=e==ig.Font.ALIGN.CENTER?g/2:g;1!==this.alpha&&(ig.system.context.globalAlpha=this.alpha);for(g=0;g<b.length;g++)e=b.charCodeAt(g),
c+=this._drawChar(e-this.firstChar,c,d);1!==this.alpha&&(ig.system.context.globalAlpha=1);ig.Image.drawCount+=b.length}},_drawChar:function(b,c,d){if(!this.loaded||0>b||b>=this.indices.length)return 0;var e=ig.system.scale,f=this.widthMap[b]*e,g=(this.height-2)*e;ig.system.context.drawImage(this.data,this.indices[b]*e,0,f,g,ig.system.getDrawPos(c),ig.system.getDrawPos(d),f,g);return this.widthMap[b]+this.letterSpacing},_loadMetrics:function(b){this.height=b.height-1;this.widthMap=[];this.indices=
[];for(var c=ig.getImagePixels(b,0,b.height-1,b.width,1),d=0,e=0,f=0;f<b.width;f++){var g=4*f+3;127<c.data[g]?e++:128>c.data[g]&&e&&(this.widthMap.push(e),this.indices.push(f-e),d++,e=0)}this.widthMap.push(e);this.indices.push(f-e)}});ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}});ig.baked=!0;
ig.module("impact.sound").defines(function(){ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){if(!ig.Sound.enabled||!window.Audio)ig.Sound.enabled=!1;else{for(var b=new Audio,c=0;c<ig.Sound.use.length;c++){var d=ig.Sound.use[c];if(b.canPlayType(d.mime)){this.format=d;break}}this.format||(ig.Sound.enabled=!1)}},load:function(b,c,d){var e=ig.prefix+b.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[b]){if(c&&this.clips[b].length<ig.Sound.channels)for(c=this.clips[b].length;c<
ig.Sound.channels;c++){var f=new Audio(e);f.load();this.clips[b].push(f)}return this.clips[b][0]}var g=new Audio(e);d&&(g.addEventListener("canplaythrough",function p(c){g.removeEventListener("canplaythrough",p,!1);d(b,!0,c)},!1),g.addEventListener("error",function(c){d(b,!1,c)},!1));g.preload="auto";g.load();this.clips[b]=[g];if(c)for(c=1;c<ig.Sound.channels;c++)f=new Audio(e),f.load(),this.clips[b].push(f);return g},get:function(b){b=this.clips[b];for(var c=0,d;d=b[c++];)if(d.paused||d.ended)return d.ended&&
(d.currentTime=0),d;b[0].pause();b[0].currentTime=0;return b[0]}});ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:!1,_volume:1,_loop:!1,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this);Object.defineProperty?(Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)}),Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)})):
this.__defineGetter__&&(this.__defineGetter__("volume",this.getVolume.bind(this)),this.__defineSetter__("volume",this.setVolume.bind(this)),this.__defineGetter__("loop",this.getLooping.bind(this)),this.__defineSetter__("loop",this.setLooping.bind(this)))},add:function(b,c){if(ig.Sound.enabled){var d=ig.soundManager.load(b instanceof ig.Sound?b.path:b,!1);d.loop=this._loop;d.volume=this._volume;d.addEventListener("ended",this._endedCallbackBound,!1);this.tracks.push(d);c&&(this.namedTracks[c]=d);this.currentTrack||
(this.currentTrack=d)}},next:function(){this.tracks.length&&(this.stop(),this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length,this.currentTrack=this.tracks[this.currentIndex],this.play())},pause:function(){this.currentTrack&&this.currentTrack.pause()},stop:function(){this.currentTrack&&(this.currentTrack.pause(),this.currentTrack.currentTime=0)},play:function(b){if(b&&this.namedTracks[b])b=this.namedTracks[b],b!=this.currentTrack&&(this.stop(),
this.currentTrack=b);else if(!this.currentTrack)return;this.currentTrack.play()},getLooping:function(){return this._loop},setLooping:function(b){this._loop=b;for(var c in this.tracks)this.tracks[c].loop=b},getVolume:function(){return this._volume},setVolume:function(b){this._volume=b.limit(0,1);for(var c in this.tracks)this.tracks[c].volume=this._volume},fadeOut:function(b){this.currentTrack&&(clearInterval(this._fadeInterval),this.fadeTimer=new ig.Timer(b),this._fadeInterval=setInterval(this._fadeStep.bind(this),
50))},_fadeStep:function(){var b=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;0.01>=b?(this.stop(),this.currentTrack.volume=this._volume,clearInterval(this._fadeInterval)):this.currentTrack.volume=b},_endedCallback:function(){this._loop?this.play():this.next()}});ig.Sound=ig.Class.extend({path:"",volume:1,currentClip:null,multiChannel:!0,init:function(b,c){this.path=b;this.multiChannel=!1!==c;this.load()},load:function(b){ig.Sound.enabled?ig.ready?ig.soundManager.load(this.path,
this.multiChannel,b):ig.addResource(this):b&&b(this.path,!0)},play:function(){ig.Sound.enabled&&(this.currentClip=ig.soundManager.get(this.path),this.currentClip.volume=ig.soundManager.volume*this.volume,this.currentClip.play())},stop:function(){this.currentClip&&(this.currentClip.pause(),this.currentClip.currentTime=0)}});ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},
CAF:{ext:"caf",mime:"audio/x-caf"}};ig.Sound.use=[ig.Sound.FORMAT.OGG,ig.Sound.FORMAT.MP3];ig.Sound.channels=4;ig.Sound.enabled=!0});ig.baked=!0;
ig.module("impact.loader").requires("impact.image","impact.font","impact.sound").defines(function(){ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:!1,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(b,c){this.gameClass=b;this.resources=c;this._loadCallbackBound=this._loadCallback.bind(this);for(var d=0;d<this.resources.length;d++)this._unloaded.push(this.resources[d].path)},load:function(){ig.system.clear("#000");if(this.resources.length){for(var b=
0;b<this.resources.length;b++)this.loadResource(this.resources[b]);this._intervalId=setInterval(this.draw.bind(this),16)}else this.end()},loadResource:function(b){b.load(this._loadCallbackBound)},end:function(){this.done||(this.done=!0,clearInterval(this._intervalId))},draw:function(){},_loadCallback:function(b,c){if(c)this._unloaded.erase(b);else throw"Failed to load resource: "+b;this.status=1-this._unloaded.length/this.resources.length;0==this._unloaded.length&&setTimeout(this.end.bind(this),250)}})});
ig.baked=!0;
ig.module("impact.timer").defines(function(){ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(b){this.last=this.base=ig.Timer.time;this.target=b||0},set:function(b){this.target=b||0;this.base=ig.Timer.time;this.pausedAt=0},reset:function(){this.base=ig.Timer.time;this.pausedAt=0},tick:function(){var b=ig.Timer.time-this.last;this.last=ig.Timer.time;return this.pausedAt?0:b},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){this.pausedAt||(this.pausedAt=
ig.Timer.time)},unpause:function(){this.pausedAt&&(this.base+=ig.Timer.time-this.pausedAt,this.pausedAt=0)}});ig.Timer._last=0;ig.Timer.time=Number.MIN_VALUE;ig.Timer.timeScale=1;ig.Timer.maxStep=0.05;ig.Timer.step=function(){var b=Date.now();ig.Timer.time+=Math.min((b-ig.Timer._last)/1E3,ig.Timer.maxStep)*ig.Timer.timeScale;ig.Timer._last=b}});ig.baked=!0;
ig.module("impact.system").requires("impact.timer","impact.image").defines(function(){ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:!1,delegate:null,clock:null,canvas:null,context:null,init:function(b,c,d,e,f){this.fps=c;this.clock=new ig.Timer;this.canvas=ig.$(b);this.resize(d,e,f);this.context=this.canvas.getContext("2d");this.getDrawPos=ig.System.drawMode;1!=this.scale&&(ig.System.scaleMode=ig.System.SCALE.CRISP);
ig.System.scaleMode(this.canvas,this.context)},resize:function(b,c,d){this.width=b;this.height=c;this.scale=d||this.scale;this.realWidth=this.width*this.scale;this.realHeight=this.height*this.scale;this.canvas.width=this.realWidth;this.canvas.height=this.realHeight},setGame:function(b){this.running?this.newGameClass=b:this.setGameNow(b)},setGameNow:function(b){ig.game=new b;ig.system.setDelegate(ig.game)},setDelegate:function(b){if("function"==typeof b.run)this.delegate=b,this.startRunLoop();else throw"System.setDelegate: No run() function in object";
},stopRunLoop:function(){ig.clearAnimation(this.animationId);this.running=!1},startRunLoop:function(){this.stopRunLoop();this.animationId=ig.setAnimation(this.run.bind(this),this.canvas);this.running=!0},clear:function(b){this.context.fillStyle=b;this.context.fillRect(0,0,this.realWidth,this.realHeight)},run:function(){ig.Timer.step();this.tick=this.clock.tick();this.delegate.run();ig.input.clearPressed();this.newGameClass&&(this.setGameNow(this.newGameClass),this.newGameClass=null)},getDrawPos:null});
ig.System.DRAW={AUTHENTIC:function(b){return Math.round(b)*this.scale},SMOOTH:function(b){return Math.round(b*this.scale)},SUBPIXEL:function(b){return b*this.scale}};ig.System.drawMode=ig.System.DRAW.SMOOTH;ig.System.SCALE={CRISP:function(b,c){ig.setVendorAttribute(c,"imageSmoothingEnabled",!1);b.style.imageRendering="-moz-crisp-edges";b.style.imageRendering="-o-crisp-edges";b.style.imageRendering="-webkit-optimize-contrast";b.style.imageRendering="crisp-edges";b.style.msInterpolationMode="nearest-neighbor"},
SMOOTH:function(b,c){ig.setVendorAttribute(c,"imageSmoothingEnabled",!0);b.style.imageRendering="";b.style.msInterpolationMode=""}};ig.System.scaleMode=ig.System.SCALE.SMOOTH});ig.baked=!0;
ig.module("impact.input").defines(function(){ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,
NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:!1,isUsingKeyboard:!1,isUsingAccelerometer:!1,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(!this.isUsingMouse){this.isUsingMouse=
!0;var b=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",b,!1);ig.system.canvas.addEventListener("DOMMouseScroll",b,!1);ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),!1);ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1);ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1);ig.ua.touchDevice&&(ig.system.canvas.addEventListener("touchstart",
this.keydown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),!1),ig.system.canvas.addEventListener("MSPointerDown",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",this.mousemove.bind(this),!1),ig.system.canvas.style.msTouchAction="none")}},initKeyboard:function(){this.isUsingKeyboard||(this.isUsingKeyboard=
!0,window.addEventListener("keydown",this.keydown.bind(this),!1),window.addEventListener("keyup",this.keyup.bind(this),!1))},initAccelerometer:function(){this.isUsingAccelerometer||window.addEventListener("devicemotion",this.devicemotion.bind(this),!1)},mousewheel:function(b){var c=this.bindings[0<(b.wheelDelta?b.wheelDelta:-1*b.detail)?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN];c&&(this.actions[c]=!0,this.presses[c]=!0,this.delayedKeyup[c]=!0,b.stopPropagation(),b.preventDefault())},mousemove:function(b){var c=
parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,c=ig.system.scale*(c/ig.system.realWidth),d={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(d=ig.system.canvas.getBoundingClientRect());b=b.touches?b.touches[0]:b;this.mouse.x=(b.clientX-d.left)/c;this.mouse.y=(b.clientY-d.top)/c},contextmenu:function(b){this.bindings[ig.KEY.MOUSE2]&&(b.stopPropagation(),b.preventDefault())},keydown:function(b){var c=b.target.tagName;if(!("INPUT"==c||"TEXTAREA"==c))if(c="keydown"==b.type?b.keyCode:
2==b.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1,("touchstart"==b.type||"mousedown"==b.type)&&this.mousemove(b),c=this.bindings[c])this.actions[c]=!0,this.locks[c]||(this.presses[c]=!0,this.locks[c]=!0),b.stopPropagation(),b.preventDefault()},keyup:function(b){var c=b.target.tagName;if(!("INPUT"==c||"TEXTAREA"==c))if(c=this.bindings["keyup"==b.type?b.keyCode:2==b.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1])this.delayedKeyup[c]=!0,b.stopPropagation(),b.preventDefault()},devicemotion:function(b){this.accel=b.accelerationIncludingGravity},
bind:function(b,c){0>b?this.initMouse():0<b&&this.initKeyboard();this.bindings[b]=c},bindTouch:function(b,c){var d=ig.$(b),e=this;d.addEventListener("touchstart",function(b){e.touchStart(b,c)},!1);d.addEventListener("touchend",function(b){e.touchEnd(b,c)},!1);d.addEventListener("MSPointerDown",function(b){e.touchStart(b,c)},!1);d.addEventListener("MSPointerUp",function(b){e.touchEnd(b,c)},!1)},unbind:function(b){this.delayedKeyup[this.bindings[b]]=!0;this.bindings[b]=null},unbindAll:function(){this.bindings=
{};this.actions={};this.presses={};this.locks={};this.delayedKeyup={}},state:function(b){return this.actions[b]},pressed:function(b){return this.presses[b]},released:function(b){return!!this.delayedKeyup[b]},clearPressed:function(){for(var b in this.delayedKeyup)this.actions[b]=!1,this.locks[b]=!1;this.delayedKeyup={};this.presses={}},touchStart:function(b,c){this.actions[c]=!0;this.presses[c]=!0;b.stopPropagation();b.preventDefault();return!1},touchEnd:function(b,c){this.delayedKeyup[c]=!0;b.stopPropagation();
b.preventDefault();return!1}})});ig.baked=!0;ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){ig.main=function(b,c,d,e,f,g,m){ig.system=new ig.System(b,d,e,f,g||1);ig.input=new ig.Input;ig.soundManager=new ig.SoundManager;ig.music=new ig.Music;ig.ready=!0;(new (m||ig.Loader)(c,ig.resources)).load()}});ig.baked=!0;
ig.module("impact.animation").requires("impact.timer","impact.image").defines(function(){ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(b,c,d){this.width=c;this.height=d;this.image=new ig.Image(b)}});ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:!1,y:!1},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(b,c,d,e){this.sheet=b;this.pivot={x:b.width/2,y:b.height/2};this.timer=new ig.Timer;this.frameTime=c;this.sequence=d;
this.stop=!!e;this.tile=this.sequence[0]},rewind:function(){this.timer.set();this.frame=this.loopCount=0;this.tile=this.sequence[0];return this},gotoFrame:function(b){this.timer.set(this.frameTime*-b-1E-4);this.update()},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var b=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(b/this.sequence.length);this.frame=this.stop&&0<this.loopCount?this.sequence.length-1:b%this.sequence.length;
this.tile=this.sequence[this.frame]},draw:function(b,c){var d=Math.max(this.sheet.width,this.sheet.height);b>ig.system.width||c>ig.system.height||(0>b+d||0>c+d)||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),0==this.angle?this.sheet.image.drawTile(b,c,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y):(ig.system.context.save(),ig.system.context.translate(ig.system.getDrawPos(b+this.pivot.x),ig.system.getDrawPos(c+this.pivot.y)),ig.system.context.rotate(this.angle),
this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()),1!=this.alpha&&(ig.system.context.globalAlpha=1))}})});ig.baked=!0;
ig.module("impact.entity").requires("impact.animation","impact.impact").defines(function(){ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:!1,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:!1,slopeStanding:{min:(44).toRad(),max:(136).toRad()},init:function(b,
c,d){this.id=++ig.Entity._lastId;this.pos.x=this.last.x=b;this.pos.y=this.last.y=c;ig.merge(this,d)},reset:function(b,c,d){var e=this.constructor.prototype;this.pos.x=b;this.pos.y=c;this.last.x=b;this.last.y=c;this.vel.x=e.vel.x;this.vel.y=e.vel.y;this.accel.x=e.accel.x;this.accel.y=e.accel.y;this.health=e.health;this._killed=e._killed;this.standing=e.standing;this.type=e.type;this.checkAgainst=e.checkAgainst;this.collides=e.collides;ig.merge(this,d)},addAnim:function(b,c,d,e){if(!this.animSheet)throw"No animSheet to add the animation "+
b+" to.";c=new ig.Animation(this.animSheet,c,d,e);this.anims[b]=c;this.currentAnim||(this.currentAnim=c);return c},update:function(){this.last.x=this.pos.x;this.last.y=this.pos.y;this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor;this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,this.maxVel.x);this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var b=ig.game.collisionMap.trace(this.pos.x,this.pos.y,this.vel.x*ig.system.tick,this.vel.y*
ig.system.tick,this.size.x,this.size.y);this.handleMovementTrace(b);this.currentAnim&&this.currentAnim.update()},getNewVelocity:function(b,c,d,e){return c?(b+c*ig.system.tick).limit(-e,e):d?(c=d*ig.system.tick,0<b-c?b-c:0>b+c?b+c:0):b.limit(-e,e)},handleMovementTrace:function(b){this.standing=!1;b.collision.y&&(0<this.bounciness&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(0<this.vel.y&&(this.standing=!0),this.vel.y=0));b.collision.x&&(this.vel.x=0<this.bounciness&&Math.abs(this.vel.x)>
this.minBounceVelocity?this.vel.x*-this.bounciness:0);if(b.collision.slope){var c=b.collision.slope;if(0<this.bounciness){var d=this.vel.x*c.nx+this.vel.y*c.ny;this.vel.x=(this.vel.x-2*c.nx*d)*this.bounciness;this.vel.y=(this.vel.y-2*c.ny*d)*this.bounciness}else d=(this.vel.x*c.x+this.vel.y*c.y)/(c.x*c.x+c.y*c.y),this.vel.x=c.x*d,this.vel.y=c.y*d,c=Math.atan2(c.x,c.y),c>this.slopeStanding.min&&c<this.slopeStanding.max&&(this.standing=!0)}this.pos=b.pos},draw:function(){this.currentAnim&&this.currentAnim.draw(this.pos.x-
this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y)},kill:function(){ig.game.removeEntity(this)},receiveDamage:function(b){this.health-=b;0>=this.health&&this.kill()},touches:function(b){return!(this.pos.x>=b.pos.x+b.size.x||this.pos.x+this.size.x<=b.pos.x||this.pos.y>=b.pos.y+b.size.y||this.pos.y+this.size.y<=b.pos.y)},distanceTo:function(b){var c=this.pos.x+this.size.x/2-(b.pos.x+b.size.x/2);b=this.pos.y+this.size.y/2-(b.pos.y+b.size.y/2);return Math.sqrt(c*c+b*b)},angleTo:function(b){return Math.atan2(b.pos.y+
b.size.y/2-(this.pos.y+this.size.y/2),b.pos.x+b.size.x/2-(this.pos.x+this.size.x/2))},check:function(){},collideWith:function(){},ready:function(){},erase:function(){}});ig.Entity._lastId=0;ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3};ig.Entity.checkPair=function(b,c){b.checkAgainst&c.type&&b.check(c);c.checkAgainst&b.type&&c.check(b);b.collides&&c.collides&&b.collides+c.collides>ig.Entity.COLLIDES.ACTIVE&&ig.Entity.solveCollision(b,c)};ig.Entity.solveCollision=
function(b,c){var d=null;if(b.collides==ig.Entity.COLLIDES.LITE||c.collides==ig.Entity.COLLIDES.FIXED)d=b;else if(c.collides==ig.Entity.COLLIDES.LITE||b.collides==ig.Entity.COLLIDES.FIXED)d=c;b.last.x+b.size.x>c.last.x&&b.last.x<c.last.x+c.size.x?(b.last.y<c.last.y?ig.Entity.seperateOnYAxis(b,c,d):ig.Entity.seperateOnYAxis(c,b,d),b.collideWith(c,"y"),c.collideWith(b,"y")):b.last.y+b.size.y>c.last.y&&b.last.y<c.last.y+c.size.y&&(b.last.x<c.last.x?ig.Entity.seperateOnXAxis(b,c,d):ig.Entity.seperateOnXAxis(c,
b,d),b.collideWith(c,"x"),c.collideWith(b,"x"))};ig.Entity.seperateOnXAxis=function(b,c,d){var e=b.pos.x+b.size.x-c.pos.x;d?(d.vel.x=-d.vel.x*d.bounciness+(b===d?c:b).vel.x,c=ig.game.collisionMap.trace(d.pos.x,d.pos.y,d==b?-e:e,0,d.size.x,d.size.y),d.pos.x=c.pos.x):(d=(b.vel.x-c.vel.x)/2,b.vel.x=-d,c.vel.x=d,d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,-e/2,0,b.size.x,b.size.y),b.pos.x=Math.floor(d.pos.x),b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,e/2,0,c.size.x,c.size.y),c.pos.x=Math.ceil(b.pos.x))};
ig.Entity.seperateOnYAxis=function(b,c,d){var e=b.pos.y+b.size.y-c.pos.y;if(d){c=b===d?c:b;d.vel.y=-d.vel.y*d.bounciness+c.vel.y;var f=0;d==b&&Math.abs(d.vel.y-c.vel.y)<d.minBounceVelocity&&(d.standing=!0,f=c.vel.x*ig.system.tick);b=ig.game.collisionMap.trace(d.pos.x,d.pos.y,f,d==b?-e:e,d.size.x,d.size.y);d.pos.y=b.pos.y;d.pos.x=b.pos.x}else ig.game.gravity&&(c.standing||0<b.vel.y)?(d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,0,-(b.pos.y+b.size.y-c.pos.y),b.size.x,b.size.y),b.pos.y=d.pos.y,0<b.bounciness&&
b.vel.y>b.minBounceVelocity?b.vel.y*=-b.bounciness:(b.standing=!0,b.vel.y=0)):(d=(b.vel.y-c.vel.y)/2,b.vel.y=-d,c.vel.y=d,f=c.vel.x*ig.system.tick,d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,f,-e/2,b.size.x,b.size.y),b.pos.y=d.pos.y,b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,0,e/2,c.size.x,c.size.y),c.pos.y=b.pos.y)}});ig.baked=!0;
ig.module("impact.map").defines(function(){ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(b,c){this.tilesize=b;this.data=c;this.height=c.length;this.width=c[0].length;this.pxWidth=this.width*this.tilesize;this.pxHeight=this.height*this.tilesize},getTile:function(b,c){var d=Math.floor(b/this.tilesize),e=Math.floor(c/this.tilesize);return 0<=d&&d<this.width&&0<=e&&e<this.height?this.data[e][d]:0},setTile:function(b,c,d){b=Math.floor(b/this.tilesize);c=Math.floor(c/
this.tilesize);0<=b&&b<this.width&&0<=c&&c<this.height&&(this.data[c][b]=d)}})});ig.baked=!0;
ig.module("impact.collision-map").requires("impact.map").defines(function(){ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(b,c,f){this.parent(b,c);this.tiledef=f||ig.CollisionMap.defaultTileDef;for(var g in this.tiledef)g|0>this.lastSlope&&(this.lastSlope=g|0)},trace:function(b,c,f,g,m,p){var j={collision:{x:!1,y:!1,slope:!1},pos:{x:b,y:c},tile:{x:0,y:0}},n=Math.ceil(Math.max(Math.abs(f),Math.abs(g))/this.tilesize);if(1<n)for(var r=f/n,q=g/n,s=0;s<n&&(r||q)&&!(this._traceStep(j,
b,c,r,q,m,p,f,g,s),b=j.pos.x,c=j.pos.y,j.collision.x&&(f=r=0),j.collision.y&&(g=q=0),j.collision.slope);s++);else this._traceStep(j,b,c,f,g,m,p,f,g,0);return j},_traceStep:function(b,c,f,g,m,p,j,n,r,q){b.pos.x+=g;b.pos.y+=m;var s=0;if(g){var u=0<g?p:0,t=0>g?this.tilesize:0,s=Math.max(Math.floor(f/this.tilesize),0),y=Math.min(Math.ceil((f+j)/this.tilesize),this.height);g=Math.floor((b.pos.x+u)/this.tilesize);var C=Math.floor((c+u)/this.tilesize);if(0<q||g==C||0>C||C>=this.width)C=-1;if(0<=g&&g<this.width)for(var E=
s;E<y&&!(-1!=C&&(s=this.data[E][C],1<s&&s<=this.lastSlope&&this._checkTileDef(b,s,c,f,n,r,p,j,C,E)));E++)if(s=this.data[E][g],1==s||s>this.lastSlope||1<s&&this._checkTileDef(b,s,c,f,n,r,p,j,g,E)){if(1<s&&s<=this.lastSlope&&b.collision.slope)break;b.collision.x=!0;b.tile.x=s;c=b.pos.x=g*this.tilesize-u+t;n=0;break}}if(m){u=0<m?j:0;m=0>m?this.tilesize:0;s=Math.max(Math.floor(b.pos.x/this.tilesize),0);t=Math.min(Math.ceil((b.pos.x+p)/this.tilesize),this.width);E=Math.floor((b.pos.y+u)/this.tilesize);
y=Math.floor((f+u)/this.tilesize);if(0<q||E==y||0>y||y>=this.height)y=-1;if(0<=E&&E<this.height)for(g=s;g<t&&!(-1!=y&&(s=this.data[y][g],1<s&&s<=this.lastSlope&&this._checkTileDef(b,s,c,f,n,r,p,j,g,y)));g++)if(s=this.data[E][g],1==s||s>this.lastSlope||1<s&&this._checkTileDef(b,s,c,f,n,r,p,j,g,E)){if(1<s&&s<=this.lastSlope&&b.collision.slope)break;b.collision.y=!0;b.tile.y=s;b.pos.y=E*this.tilesize-u+m;break}}},_checkTileDef:function(b,c,f,g,m,p,j,n,r,q){var s=this.tiledef[c];if(!s)return!1;c=(s[2]-
s[0])*this.tilesize;var u=(s[3]-s[1])*this.tilesize,t=s[4];j=f+m+(0>u?j:0)-(r+s[0])*this.tilesize;n=g+p+(0<c?n:0)-(q+s[1])*this.tilesize;if(0<c*n-u*j){if(0>m*-u+p*c)return t;r=Math.sqrt(c*c+u*u);q=u/r;r=-c/r;var y=j*q+n*r,s=q*y,y=r*y;if(s*s+y*y>=m*m+p*p)return t||0.5>c*(n-p)-u*(j-m);b.pos.x=f+m-s;b.pos.y=g+p-y;b.collision.slope={x:c,y:u,nx:q,ny:r};return!0}return!1}});var b=1/3,c=2/3;ig.CollisionMap.defaultTileDef={5:[0,1,1,c,!0],6:[0,c,1,b,!0],7:[0,b,1,0,!0],3:[0,1,1,0.5,!0],4:[0,0.5,1,0,!0],2:[0,
1,1,0,!0],10:[0.5,1,1,0,!0],21:[0,1,0.5,0,!0],32:[c,1,1,0,!0],43:[b,1,c,0,!0],54:[0,1,b,0,!0],27:[0,0,1,b,!0],28:[0,b,1,c,!0],29:[0,c,1,1,!0],25:[0,0,1,0.5,!0],26:[0,0.5,1,1,!0],24:[0,0,1,1,!0],11:[0,0,0.5,1,!0],22:[0.5,0,1,1,!0],33:[0,0,b,1,!0],44:[b,0,c,1,!0],55:[c,0,1,1,!0],16:[1,b,0,0,!0],17:[1,c,0,b,!0],18:[1,1,0,c,!0],14:[1,0.5,0,0,!0],15:[1,1,0,0.5,!0],13:[1,1,0,0,!0],8:[0.5,1,0,0,!0],19:[1,1,0.5,0,!0],30:[b,1,0,0,!0],41:[c,1,b,0,!0],52:[1,1,c,0,!0],38:[1,c,0,1,!0],39:[1,b,0,c,!0],40:[1,0,
0,b,!0],36:[1,0.5,0,1,!0],37:[1,0,0,0.5,!0],35:[1,0,0,1,!0],9:[1,0,0.5,1,!0],20:[0.5,0,0,1,!0],31:[1,0,c,1,!0],42:[c,0,b,1,!0],53:[b,0,0,1,!0],12:[0,0,1,0,!1],23:[1,1,0,1,!1],34:[1,0,1,1,!1],45:[0,1,0,0,!1]};ig.CollisionMap.staticNoCollision={trace:function(b,c,f,g){return{collision:{x:!1,y:!1,slope:!1},pos:{x:b+f,y:c+g},tile:{x:0,y:0}}}}});ig.baked=!0;
ig.module("impact.background-map").requires("impact.map","impact.image").defines(function(){ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:!1,tilesetName:"",foreground:!1,enabled:!0,preRender:!1,preRenderedChunks:null,chunkSize:512,debugChunks:!1,anims:{},init:function(b,c,d){this.parent(b,c);this.setTileset(d)},setTileset:function(b){this.tilesetName=b instanceof ig.Image?b.path:b;this.tiles=new ig.Image(this.tilesetName);this.preRenderedChunks=null},setScreenPos:function(b,
c){this.scroll.x=b/this.distance;this.scroll.y=c/this.distance},preRenderMapToChunks:function(){var b=this.width*this.tilesize*ig.system.scale,c=this.height*this.tilesize*ig.system.scale;this.chunkSize=Math.min(Math.max(b,c),this.chunkSize);var d=Math.ceil(b/this.chunkSize),e=Math.ceil(c/this.chunkSize);this.preRenderedChunks=[];for(var f=0;f<e;f++){this.preRenderedChunks[f]=[];for(var g=0;g<d;g++)this.preRenderedChunks[f][g]=this.preRenderChunk(g,f,g==d-1?b-g*this.chunkSize:this.chunkSize,f==e-1?
c-f*this.chunkSize:this.chunkSize)}},preRenderChunk:function(b,c,d,e){var f=d/this.tilesize/ig.system.scale+1,g=e/this.tilesize/ig.system.scale+1,m=b*this.chunkSize/ig.system.scale%this.tilesize,p=c*this.chunkSize/ig.system.scale%this.tilesize;b=Math.floor(b*this.chunkSize/this.tilesize/ig.system.scale);c=Math.floor(c*this.chunkSize/this.tilesize/ig.system.scale);var j=ig.$new("canvas");j.width=d;j.height=e;j.retinaResolutionEnabled=!1;e=j.getContext("2d");ig.System.scaleMode(j,e);d=ig.system.context;
ig.system.context=e;for(e=0;e<f;e++)for(var n=0;n<g;n++)if(e+b<this.width&&n+c<this.height){var r=this.data[n+c][e+b];r&&this.tiles.drawTile(e*this.tilesize-m,n*this.tilesize-p,r-1,this.tilesize)}ig.system.context=d;return j},draw:function(){this.tiles.loaded&&this.enabled&&(this.preRender?this.drawPreRendered():this.drawTiled())},drawPreRendered:function(){this.preRenderedChunks||this.preRenderMapToChunks();var b=ig.system.getDrawPos(this.scroll.x),c=ig.system.getDrawPos(this.scroll.y);if(this.repeat)var d=
this.width*this.tilesize*ig.system.scale,b=(b%d+d)%d,d=this.height*this.tilesize*ig.system.scale,c=(c%d+d)%d;var d=Math.max(Math.floor(b/this.chunkSize),0),e=Math.max(Math.floor(c/this.chunkSize),0),f=Math.ceil((b+ig.system.realWidth)/this.chunkSize),g=Math.ceil((c+ig.system.realHeight)/this.chunkSize),m=this.preRenderedChunks[0].length,p=this.preRenderedChunks.length;this.repeat||(f=Math.min(f,m),g=Math.min(g,p));for(var j=0;e<g;e++){for(var n=0,r=d;r<f;r++){var q=this.preRenderedChunks[e%p][r%m],
s=-b+r*this.chunkSize-n,u=-c+e*this.chunkSize-j;ig.system.context.drawImage(q,s,u);ig.Image.drawCount++;this.debugChunks&&(ig.system.context.strokeStyle="#f0f",ig.system.context.strokeRect(s,u,this.chunkSize,this.chunkSize));this.repeat&&q.width<this.chunkSize&&s+q.width<ig.system.realWidth&&(n+=this.chunkSize-q.width,f++)}this.repeat&&q.height<this.chunkSize&&u+q.height<ig.system.realHeight&&(j+=this.chunkSize-q.height,g++)}},drawTiled:function(){for(var b=0,c=null,d=(this.scroll.x/this.tilesize).toInt(),
e=(this.scroll.y/this.tilesize).toInt(),f=this.scroll.x%this.tilesize,g=this.scroll.y%this.tilesize,m=-f-this.tilesize,f=ig.system.width+this.tilesize-f,p=ig.system.height+this.tilesize-g,j=-1,g=-g-this.tilesize;g<p;j++,g+=this.tilesize){var n=j+e;if(n>=this.height||0>n){if(!this.repeat)continue;n=(n%this.height+this.height)%this.height}for(var r=-1,q=m;q<f;r++,q+=this.tilesize){b=r+d;if(b>=this.width||0>b){if(!this.repeat)continue;b=(b%this.width+this.width)%this.width}if(b=this.data[n][b])(c=this.anims[b-
1])?c.draw(q,g):this.tiles.drawTile(q,g,b-1,this.tilesize)}}}})});ig.baked=!0;
ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:!1,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:!1,staticInstantiate:function(){this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX;
ig.game=this;return null},loadLevel:function(b){this.screen={x:0,y:0};this.entities=[];this.namedEntities={};for(var c=0;c<b.entities.length;c++){var d=b.entities[c];this.spawnEntity(d.type,d.x,d.y,d.settings)}this.sortEntities();this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(c=0;c<b.layer.length;c++)if(d=b.layer[c],"collision"==d.name)this.collisionMap=new ig.CollisionMap(d.tilesize,d.data);else{var e=new ig.BackgroundMap(d.tilesize,d.data,d.tilesetName);e.anims=this.backgroundAnims[d.tilesetName]||
{};e.repeat=d.repeat;e.distance=d.distance;e.foreground=!!d.foreground;e.preRender=!!d.preRender;e.name=d.name;this.backgroundMaps.push(e)}for(c=0;c<this.entities.length;c++)this.entities[c].ready()},loadLevelDeferred:function(b){this._levelToLoad=b},getMapByName:function(b){if("collision"==b)return this.collisionMap;for(var c=0;c<this.backgroundMaps.length;c++)if(this.backgroundMaps[c].name==b)return this.backgroundMaps[c];return null},getEntityByName:function(b){return this.namedEntities[b]},getEntitiesByType:function(b){b=
"string"===typeof b?ig.global[b]:b;for(var c=[],d=0;d<this.entities.length;d++){var e=this.entities[d];e instanceof b&&!e._killed&&c.push(e)}return c},spawnEntity:function(b,c,d,e){var f="string"===typeof b?ig.global[b]:b;if(!f)throw"Can't spawn entity of type "+b;b=new f(c,d,e||{});this.entities.push(b);b.name&&(this.namedEntities[b.name]=b);return b},sortEntities:function(){this.entities.sort(this.sortBy)},sortEntitiesDeferred:function(){this._doSortEntities=!0},removeEntity:function(b){b.name&&
delete this.namedEntities[b.name];b._killed=!0;b.type=ig.Entity.TYPE.NONE;b.checkAgainst=ig.Entity.TYPE.NONE;b.collides=ig.Entity.COLLIDES.NEVER;this._deferredKill.push(b)},run:function(){this.update();this.draw()},update:function(){this._levelToLoad&&(this.loadLevel(this._levelToLoad),this._levelToLoad=null);this.updateEntities();this.checkEntities();for(var b=0;b<this._deferredKill.length;b++)this._deferredKill[b].erase(),this.entities.erase(this._deferredKill[b]);this._deferredKill=[];if(this._doSortEntities||
this.autoSort)this.sortEntities(),this._doSortEntities=!1;for(var c in this.backgroundAnims){var b=this.backgroundAnims[c],d;for(d in b)b[d].update()}},updateEntities:function(){for(var b=0;b<this.entities.length;b++){var c=this.entities[b];c._killed||c.update()}},draw:function(){this.clearColor&&ig.system.clear(this.clearColor);this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale;this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var b;for(b=0;b<this.backgroundMaps.length;b++){var c=
this.backgroundMaps[b];if(c.foreground)break;c.setScreenPos(this.screen.x,this.screen.y);c.draw()}this.drawEntities();for(b;b<this.backgroundMaps.length;b++)c=this.backgroundMaps[b],c.setScreenPos(this.screen.x,this.screen.y),c.draw()},drawEntities:function(){for(var b=0;b<this.entities.length;b++)this.entities[b].draw()},checkEntities:function(){for(var b={},c=0;c<this.entities.length;c++){var d=this.entities[c];if(!(d.type==ig.Entity.TYPE.NONE&&d.checkAgainst==ig.Entity.TYPE.NONE&&d.collides==ig.Entity.COLLIDES.NEVER))for(var e=
{},f=Math.floor(d.pos.y/this.cellSize),g=Math.floor((d.pos.x+d.size.x)/this.cellSize)+1,m=Math.floor((d.pos.y+d.size.y)/this.cellSize)+1,p=Math.floor(d.pos.x/this.cellSize);p<g;p++)for(var j=f;j<m;j++)if(b[p])if(b[p][j]){for(var n=b[p][j],r=0;r<n.length;r++)d.touches(n[r])&&!e[n[r].id]&&(e[n[r].id]=!0,ig.Entity.checkPair(d,n[r]));n.push(d)}else b[p][j]=[d];else b[p]={},b[p][j]=[d]}}});ig.Game.SORT={Z_INDEX:function(b,c){return b.zIndex-c.zIndex},POS_X:function(b,c){return b.pos.x+b.size.x-(c.pos.x+
c.size.x)},POS_Y:function(b,c){return b.pos.y+b.size.y-(c.pos.y+c.size.y)}}});ig.baked=!0;
ig.module("plugins.packer.packer-image-injector").requires("impact.image","impact.animation").defines(function(){ig.Image.inject({tintCache:{},load:function(b){ig.packer&&ig.packer.isImageInAtlas(this.path)?(this.frameData=ig.packer.getFrameData(this.path),this.width=this.frameData.frame.w,this.height=this.frameData.frame.h,this.loaded=ig.packer.isImageLoadedForPath(this.path),b&&b(this.path,!0)):this.parent(b)},reload:function(){ig.packer.isImageInAtlas(this.path)||this.parent()},resize:function(b){ig.packer.isImageInAtlas(this.path)?
console.warn("PACKER PLUGIN WARNING! : image.scale is not supported, \nImage path:"+this.path):this.parent(b)},draw:function(b,c,d,e,f,g,m,p){if(ig.packer.isImageInAtlas(this.path)){if(!this.atlasImage&&(this.atlasImage=ig.packer.getAtlasImage(this.path),this.frameData=ig.packer.getFrameData(this.path),this.width=this.frameData.frame.w,this.height=this.frameData.frame.h,!this.atlasImage))return;f=f?f:this.width;g=g?g:this.height;ig.system.context.drawImage(this.atlasImage,(d?d:0)+this.frameData.frame.x,
(e?e:0)+this.frameData.frame.y,f,g,ig.system.getDrawPos(b),ig.system.getDrawPos(c),m?m:f,p?p:g)}else f=f?f:this.width,g=g?g:this.height,ig.system.context.drawImage(this.data,d?d:0,e?e:0,f,g,ig.system.getDrawPos(b),ig.system.getDrawPos(c),m?m:f,p?p:g);ig.Image.drawCount++},drawImage:function(b,c,d,e,f,g,m,p){b=b?b:0;c=c?c:0;2>=arguments.length?this.draw(b,c):4>=arguments.length?(d=d?d:this.width,e=e?e:this.height,this.draw(b,c,0,0,this.width,this.height,d,e)):(d=d?d:this.width,e=e?e:this.height,m=
m?m:this.width,p=p?p:this.height,this.draw(f?f:0,g?g:0,b,c,d,e,m,p))},drawTile:function(b,c,d,e,f,g,m){if(ig.packer.isImageInAtlas(this.path)){if(this.atlasImage||!(this.atlasImage=ig.packer.getAtlasImage(this.path),this.frameData=ig.packer.getFrameData(this.path),this.width=this.frameData.frame.w,this.height=this.frameData.frame.h,!this.atlasImage)){f=f?f:e;var p=Math.floor(e),j=Math.floor(f),n=g?-1:1,r=m?-1:1;if(g||m)ig.system.context.save(),ig.system.context.scale(n,r);ig.system.context.drawImage(this.atlasImage,
Math.floor(d*e)%this.width+this.frameData.frame.x,Math.floor(d*e/this.width)*f+this.frameData.frame.y,p,j,ig.system.getDrawPos(b)*n-(g?p:0),ig.system.getDrawPos(c)*r-(m?j:0),p,j);(g||m)&&ig.system.context.restore();ig.Image.drawCount++}}else this.parent(b,c,d,e,f,g,m)},drawTileTint:function(b,c,d,e,f,g,m,p){if(b=this.getTintedImageCanvas(b))if(g=g?g:f,this.loaded&&!(f>this.width||g>this.height)){var j=ig.system.scale,n=Math.floor(f*j),r=Math.floor(g*j),q=m?-1:1,s=p?-1:1;if(m||p)ig.system.context.save(),
ig.system.context.scale(q,s);ig.system.context.drawImage(b,Math.floor(e*f)%this.width*j,Math.floor(e*f/this.width)*g*j,n,r,ig.system.getDrawPos(c)*q-(m?n:0),ig.system.getDrawPos(d)*s-(p?r:0),n,r);(m||p)&&ig.system.context.restore();ig.Image.drawCount++}},drawTint:function(b,c,d,e,f,g,m,p,j){if(b=this.getTintedImageCanvas(b))g=g?g:this.width,m=m?m:this.height,ig.system.context.drawImage(b,e?e:0,f?f:0,g,m,ig.system.getDrawPos(c),ig.system.getDrawPos(d),p?p:g,j?j:m),ig.Image.drawCount++},getTintedImageCanvas:function(b){if(!this.tintCache[b]){if(ig.packer.isImageInAtlas(this.path)&&
!this.atlasImage&&(this.atlasImage=ig.packer.getAtlasImage(this.path),this.frameData=ig.packer.getFrameData(this.path),this.width=this.frameData.frame.w,this.height=this.frameData.frame.h,!this.atlasImage))return;var c=ig.$new("canvas");c.width=this.width;c.height=this.height;this.atlasImage?c.getContext("2d").drawImage(this.atlasImage,this.frameData.frame.x,this.frameData.frame.y,this.width,this.height,0,0,this.width,this.height):c.getContext("2d").drawImage(this.data,0,0,this.width,this.height,
0,0,this.width,this.height);for(var d=c.getContext("2d"),e=d.getImageData(0,0,this.width,this.height),f=e.data,g,m=f.length,p,j,n,r,q=parseInt(b.substr(1,2),16)/255,s=parseInt(b.substr(3,2),16)/255,u=parseInt(b.substr(5,2),16)/255,t=0;t<m;t+=4)g=f[t+3]/255,r=g+1-1*g,p=f[t]/255*g,j=f[t+1]/255*g,n=f[t+2]/255*g,r=255/r,f[t]=(p*q+q*(1-g))*r,f[t+1]=(j*s+s*(1-g))*r,f[t+2]=(n*u+u*(1-g))*r;d.putImageData(e,0,0);this.tintCache[b]=c}return this.tintCache[b]}})});ig.baked=!0;
ig.module("plugins.packer.packer-animation-injector").requires("impact.image","impact.animation").defines(function(){ig.Animation.inject({tint:null,draw:function(b,c){if(this.tint){var d=Math.max(this.sheet.width,this.sheet.height);b>ig.system.width||c>ig.system.height||(0>b+d||0>c+d)||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),0==this.angle?this.sheet.image.drawTileTint(this.tint,b,c,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y):(ig.system.context.save(),ig.system.context.translate(ig.system.getDrawPos(b+
this.pivot.x),ig.system.getDrawPos(c+this.pivot.y)),ig.system.context.rotate(this.angle),this.sheet.image.drawTileTint(this.tint,-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()),1!=this.alpha&&(ig.system.context.globalAlpha=1))}else this.parent(b,c)}})});ig.baked=!0;
ig.module("plugins.packer.packer-plugin").requires("plugins.packer.packer-image-injector","plugins.packer.packer-animation-injector").defines(function(){ig.AtlasImage=ig.Class.extend({init:function(b){this.path=b},load:function(b){this.loadCallback=b||null;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.onerror=this.onerror.bind(this);this.data.src=ig.prefix+this.path+ig.nocache},onload:function(){this.loaded=!0;ig.packer.refreshImageLoadedStatus();this.loadCallback&&this.loadCallback(this.path,
!0)},onerror:function(){this.error=!0;this.loadCallback&&this.loadCallback(this.path,!1)}});ig.packer={textureJson:[],textureAtlas:[],jsonLoadStatus:[],atlasLoadStatus:[],textureExistStatus:[],pathMap:{},initCallback:null,initPacker:function(b){if(window.packerplugin&&0<packerplugin.textures.length){console.log("Packer Plugin 1.1.3 is enabled, loading "+packerplugin.textures.length+" texture atlases...");ig.packer.initCallback=b;for(b=0;b<packerplugin.textures.length;b++)this.textureExistStatus.push(1);
this.loadAllJson()}else console.log("Packer Plugin 1.1.3 is disabled, loading individual images..."),b()},loadAllJson:function(){for(var b=0;b<ig.packer.textureExistStatus.length;b++)1==ig.packer.textureExistStatus[b]&&(ig.packer.textureJson.push(null),ig.packer.textureAtlas.push(null),ig.packer.jsonLoadStatus.push(1),ig.packer.atlasLoadStatus.push(0),ig.packer.textureJson[b]=JSON.parse(window.packerplugin.json[packerplugin.textures[b]]));ig.packer.onLoadJsonComplete()},onLoadJsonComplete:function(){for(var b=
0;b<ig.packer.textureJson.length;b++){var c=ig.packer.textureJson[b],d;for(d in c.frames)ig.packer.pathMap[d]={path:d,textureIndex:b};c="media/graphics/packed/"+packerplugin.textures[b]+".png";0<=packerplugin.textures[b].indexOf("big-jpg")&&(c="media/graphics/packed/"+packerplugin.textures[b]+".jpg");c=new ig.AtlasImage(c);ig.packer.textureAtlas[b]=c;ig.addResource(c)}ig.packer.initCallback()},isImageInAtlas:function(b){return Object.hasOwnProperty.call(ig.packer.pathMap,b)?!0:!1},refreshImageLoadedStatus:function(){for(var b in ig.Image.cache)if(Object.hasOwnProperty.call(ig.Image.cache,
b)){var c=ig.Image.cache[b];ig.packer.isImageInAtlas(c.path)&&(c.loaded=ig.packer.isImageLoadedForPath(c.path))}},isImageLoadedForPath:function(b){return ig.packer.textureAtlas[ig.packer.pathMap[b].textureIndex].loaded?!0:!1},getAtlasImage:function(b){b=ig.packer.pathMap[b].textureIndex;return!ig.packer.textureAtlas[b].loaded?null:ig.packer.textureAtlas[b].data},getFrameData:function(b){return ig.packer.textureJson[ig.packer.pathMap[b].textureIndex].frames[b]}}});ig.baked=!0;
ig.module("plugins.patches.user-agent-patch").defines(function(){ig.ua.touchDevice="ontouchstart"in window||window.navigator.msMaxTouchPoints||window.navigator.maxTouchPoints;ig.ua.is_mac="MacIntel"===navigator.platform;ig.ua.iOS=ig.ua.touchDevice&&ig.ua.is_mac||ig.ua.iOS;ig.ua.mobile=ig.ua.iOS||ig.ua.mobile});ig.baked=!0;
ig.module("plugins.patches.webkit-image-smoothing-patch").defines(function(){ig.System&&(ig.System.SCALE={CRISP:function(b,c){c.imageSmoothingEnabled=c.msImageSmoothingEnabled=c.mozImageSmoothingEnabled=c.oImageSmoothingEnabled=!1;b.style.imageRendering="-moz-crisp-edges";b.style.imageRendering="-o-crisp-edges";b.style.imageRendering="-webkit-optimize-contrast";b.style.imageRendering="crisp-edges";b.style.msInterpolationMode="nearest-neighbor"},SMOOTH:function(b,c){c.imageSmoothingEnabled=c.msImageSmoothingEnabled=
c.mozImageSmoothingEnabled=c.oImageSmoothingEnabled=!0;b.style.imageRendering="";b.style.msInterpolationMode=""}},ig.System.scaleMode=ig.System.SCALE.SMOOTH)});ig.baked=!0;
ig.module("plugins.patches.windowfocus-onMouseDown-patch").requires("impact.input").defines(function(){var b=!1;try{b=window.self!==window.top,!1===b&&(b=0<window.frames.length)}catch(c){b=!0}ig.Input.inject({keydown:function(c){var e=c.target.tagName;if(!("INPUT"==e||"TEXTAREA"==e))if(e="keydown"==c.type?c.keyCode:2==c.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1,b&&0>e&&window.focus(),("touchstart"==c.type||"mousedown"==c.type)&&this.mousemove(c),e=this.bindings[e])this.actions[e]=!0,this.locks[e]||(this.presses[e]=
!0,this.locks[e]=!0),c.stopPropagation(),c.preventDefault()}})});ig.baked=!0;
ig.module("plugins.patches.input-patch").requires("impact.input").defines(function(){ig.Input.inject({mousemove:function(b){var c=ig.system.scale*(ig.system.realWidth/ig.system.realWidth),d={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(d=ig.system.canvas.getBoundingClientRect());b=b.touches?b.touches[0]:b;this.mouse.x=(b.clientX-d.left)/c;this.mouse.y=(b.clientY-d.top)/c;try{ig.soundHandler.unlockWebAudio()}catch(e){}},keyup:function(b){var c=b.target.tagName;if(!("INPUT"==c||"TEXTAREA"==
c))if(c=this.bindings["keyup"==b.type?b.keyCode:2==b.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1]){this.delayedKeyup[c]=!0;b.stopPropagation();b.preventDefault();if(ig.visibilityHandler)ig.visibilityHandler.onChange("focus");try{ig.soundHandler.unlockWebAudio()}catch(d){}}}})});ig.baked=!0;
ig.module("plugins.font.font-info").requires("impact.impact").defines(function(){ig.FontInfo=ig.Class.extend({fonts:[{name:"montserrat",source:"media/fonts/montserrat"},{name:"nexabold",source:"media/fonts/nexabold"},{name:"built",source:"media/fonts/built"},{name:"mainfont",source:"media/fonts/built"}],init:function(){this.registerCssFont()},registerCssFont:function(){if(0<this.fonts.length){var b=document.createElement("style");b.type="text/css";for(var c="",d=0;d<this.fonts.length;d++)var e=this.fonts[d],
c=c+("@font-face {font-family: '"+e.name+"';src: url('"+e.source+".eot');src: url('"+e.source+".eot?#iefix') format('embedded-opentype'),url('"+e.source+".woff2') format('woff2'),url('"+e.source+".woff') format('woff'),url('"+e.source+".ttf') format('truetype'),url('"+e.source+".svg#svgFontName') format('svg')}");b.appendChild(document.createTextNode(c));document.head.appendChild(b)}},isValid:function(){for(var b=0;b<this.fonts.length;b++)if(!this._isValidName(this.fonts[b].source))return!1;return!0},
_isValidName:function(b){return-1==b.search(/^[a-z0-9-\/]+$/)?!1:!0}})});ig.baked=!0;
ig.module("plugins.font.font-loader").requires("impact.impact","plugins.font.font-info","impact.loader").defines(function(){ig.FontLoader=ig.Class.extend({fontInfo:new ig.FontInfo,onload:!1,onerror:!1,init:function(b,c){this.onload=b;this.onerror=c},load:function(){this.fontInfo.isValid()?this._loadByLib():console.error("Only lowercased alphanumeric and dash are allowed for font file name!. Please check the font path")},_loadByLib:function(){for(var b=[],c=0;c<this.fontInfo.fonts.length;c++){var d=
new FontFaceObserver(this.fontInfo.fonts[c].name);b.push(d.load())}Promise.all(b).then(this.onload).catch(this.onerror)}});ig.Loader.inject({parentLoad:!1,load:function(){this.parentLoad=this.parent;(new ig.FontLoader(this.onFontLoad.bind(this),this.onFontError.bind(this))).load()},onFontLoad:function(){this.parentLoad()},onFontError:function(){console.error("Font is not loaded");this.parentLoad()}})});ig.baked=!0;
ig.module("plugins.handlers.dom-handler").defines(function(){ig.DomHandler=ig.Class.extend({JQUERYAVAILABLE:!1,init:function(){this.JQUERYAVAILABLE=this._jqueryAvailable()},_jqueryAvailable:function(){return"undefined"!==typeof jQuery},addEvent:function(b,c,d,e){if(this.JQUERYAVAILABLE)b.on(c,d);else b.addEventListener(c,d,e)},create:function(b){return this.JQUERYAVAILABLE?$("<"+b+">"):ig.$new(b)},getElementByClass:function(b){return this.JQUERYAVAILABLE?$("."+b):document.getElementsByClassName(b)},
getElementById:function(b){return this.JQUERYAVAILABLE?0<$(b).length?$(b):null:ig.$(b)},appendChild:function(b,c){this.JQUERYAVAILABLE?b.append(c):b.appendChild(c)},appendToBody:function(b){this.JQUERYAVAILABLE?$("body").append(b):document.body.appendChild(b)},resize:function(b,c,d){if(this.JQUERYAVAILABLE)b.width(c.toFixed(2)),b.height(d.toFixed(2));else{var e=b.style.visibility;c="width:"+c.toFixed(2)+"px; height:"+d.toFixed(2)+"px;";this.attr(b,"style",c);b.style.visibility=e}},resizeOffsetLeft:function(b,
c,d,e){if(this.JQUERYAVAILABLE)b.width(c.toFixed(2)),b.height(d.toFixed(2)),b.css("left",e);else{var f=b.style.visibility;c="width:"+c.toFixed(2)+"px; height:"+d.toFixed(2)+"px; left: "+e.toFixed(2)+"px;";this.attr(b,"style",c);b.style.visibility=f}},resizeOffset:function(b,c,d,e,f){if(this.JQUERYAVAILABLE)b.width(c.toFixed(2)),b.height(d.toFixed(2)),b.css("left",e),b.css("top",f);else{var g=b.style.visibility;c="width:"+c.toFixed(2)+"px; height:"+d.toFixed(2)+"px; left: "+e.toFixed(2)+"px; top: "+
f.toFixed(2)+"px;";this.attr(b,"style",c);b.style.visibility=g}},css:function(b,c){if(this.JQUERYAVAILABLE)b.css(c);else{var d="",e;for(e in c)d+=e+":"+c[e]+";";this.attr(b,"style",d)}},getOffsets:function(b){return this.JQUERYAVAILABLE?(b=b.offset(),{left:b.left,top:b.top}):{left:b.offsetLeft,top:b.offsetTop}},attr:function(b,c,d){if("undefined"===typeof d)return this.JQUERYAVAILABLE?b.attr(c):b.getAttribute(c);this.JQUERYAVAILABLE?b.attr(c,d):b.setAttribute(c,d)},show:function(b){b&&"undefined"!==
typeof b&&(this.JQUERYAVAILABLE?(b.show(),b.css("visibility","visible")):b&&(b.style?b.style.visibility="visible":b[0]&&(b[0].style.visibility="visible")))},hide:function(b){b&&"undefined"!==typeof b&&(this.JQUERYAVAILABLE?(b.hide(),b.css("visibility","hidden")):b&&(b.style?b.style.visibility="hidden":b[0]&&(b[0].style.visibility="hidden")))},getQueryVariable:function(b){for(var c=window.location.search.substring(1).split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(decodeURIComponent(e[0])==
b)return decodeURIComponent(e[1])}},forcedDeviceDetection:function(){var b=this.getQueryVariable("device");if(b)switch(b){case "mobile":console.log("serving mobile version ...");ig.ua.mobile=!0;break;case "desktop":console.log("serving desktop version ...");ig.ua.mobile=!1;break;default:console.log("serving universal version ...")}else console.log("serving universal version ...")},forcedDeviceRotation:function(){var b=this.getQueryVariable("force-rotate");if(b)switch(b){case "portrait":console.log("force rotate to portrait");
window.orientation=0;break;case "landscape":console.log("force rotate to horizontal");window.orientation=90;break;default:alert("wrong command/type in param force-rotate. Defaulting value to portrait"),window.orientation=0}}})});ig.baked=!0;
ig.module("plugins.data.vector").defines(function(){Vector2=function(b,c){this.x=b||0;this.y=c||0};Vector2.prototype={valType:"number",neg:function(){this.x=-this.x;this.y=-this.y;return this},row:function(b){typeof b===this.valType&&(this.y=b);return this.y},col:function(b){typeof b===this.valType&&(this.x=b);return this.x},add:function(b){b instanceof Vector2?(this.x+=b.x,this.y+=b.y):(this.x+=b,this.y+=b);return this},sub:function(b){b instanceof Vector2?(this.x-=b.x,this.y-=b.y):(this.x-=b,this.y-=
b);return this},mul:function(b){b instanceof Vector2?(this.x*=b.x,this.y*=b.y):(this.x*=b,this.y*=b);return this},div:function(b){b instanceof Vector2?(0!=b.x&&(this.x/=b.x),0!=b.y&&(this.y/=b.y)):0!=b&&(this.x/=b,this.y/=b);return this},equals:function(b){return this.x==b.x&&this.y==b.y},dot:function(b){return this.x*b.x+this.y*b.y},cross:function(b){return this.x*b.y-this.y*b.x},length:function(){return Math.sqrt(this.dot(this))},norm:function(){return this.divide(this.length())},min:function(){return Math.min(this.x,
this.y)},max:function(){return Math.max(this.x,this.y)},toAngles:function(){return-Math.atan2(-this.y,this.x)},angleTo:function(b){return Math.acos(this.dot(b)/(this.length()*b.length()))},toArray:function(b){return[this.x,this.y].slice(0,b||2)},clone:function(){return new Vector2(this.x,this.y)},set:function(b,c){this.x=b;this.y=c;return this},unit:function(){var b=this.length();if(0<b)return new Vector2(this.x/b,this.y/b);throw"Divide by 0 error in unitVector function of vector:"+this;},turnRight:function(){var b=
this.x;this.x=-this.y;this.y=b;return this},turnLeft:function(){var b=this.x;this.x=this.y;this.y=-b;return this},rotate:function(b){var c=this.clone();this.x=c.x*Math.cos(b)-c.y*Math.sin(b);this.y=c.x*Math.sin(b)+c.y*Math.cos(b);return this}};Vector2.negative=function(b){return new Vector2(-b.x,-b.y)};Vector2.add=function(b,c){return c instanceof Vector2?new Vector2(b.x+c.x,b.y+c.y):new Vector2(b.x+v,b.y+v)};Vector2.subtract=function(b,c){return c instanceof Vector2?new Vector2(b.x-c.x,b.y-c.y):
new Vector2(b.x-v,b.y-v)};Vector2.multiply=function(b,c){return c instanceof Vector2?new Vector2(b.x*c.x,b.y*c.y):new Vector2(b.x*v,b.y*v)};Vector2.divide=function(b,c){return c instanceof Vector2?new Vector2(b.x/c.x,b.y/c.y):new Vector2(b.x/v,b.y/v)};Vector2.equals=function(b,c){return b.x==c.x&&b.y==c.y};Vector2.dot=function(b,c){return b.x*c.x+b.y*c.y};Vector2.cross=function(b,c){return b.x*c.y-b.y*c.x}});ig.baked=!0;
ig.module("plugins.handlers.size-handler").requires("plugins.data.vector").defines(function(){ig.SizeHandler=ig.Class.extend({portraitMode:!0,disableStretchToFitOnMobileFlag:!1,enableStretchToFitOnAntiPortraitModeFlag:!0,enableScalingLimitsOnMobileFlag:!1,minScalingOnMobile:0,maxScalingOnMobile:1,enableStretchToFitOnDesktopFlag:!1,enableScalingLimitsOnDesktopFlag:!1,minScalingOnDesktop:0,maxScalingOnDesktop:1,desktop:{actualSize:new Vector2(window.innerWidth,window.innerHeight),actualResolution:new Vector2(540,
960)},mobile:{actualSize:new Vector2(window.innerWidth,window.innerHeight),actualResolution:new Vector2(540,960)},windowSize:new Vector2(window.innerWidth,window.innerHeight),scaleRatioMultiplier:new Vector2(1,1),sizeRatio:new Vector2(1,1),scale:1,domHandler:null,dynamicClickableEntityDivs:{},coreDivsToResize:["#canvas","#play","#orientate"],adsToResize:{MobileAdInGamePreroll:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd:{"box-width":_SETTINGS.Ad.Mobile.End.Width+
2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20},MobileAdInGamePreroll2:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd2:{"box-width":_SETTINGS.Ad.Mobile.End.Width+2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20},MobileAdInGamePreroll3:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd3:{"box-width":_SETTINGS.Ad.Mobile.End.Width+2,"box-height":_SETTINGS.Ad.Mobile.End.Height+
20}},init:function(b){this.domHandler=b;if("undefined"===typeof b)throw"undefined Dom Handler for Size Handler";this.sizeCalcs();this.eventListenerSetup();this.samsungFix()},sizeCalcs:function(){this.windowSize=new Vector2(window.innerWidth,window.innerHeight);if(ig.ua.mobile){this.mobile.actualSize=new Vector2(window.innerWidth,window.innerHeight);var b=new Vector2(this.mobile.actualResolution.x,this.mobile.actualResolution.y);this.scaleRatioMultiplier=new Vector2(this.mobile.actualSize.x/b.x,this.mobile.actualSize.y/
b.y);if(this.disableStretchToFitOnMobileFlag){var c=Math.min(this.scaleRatioMultiplier.x,this.scaleRatioMultiplier.y);this.enableScalingLimitsOnMobileFlag&&(c=c.limit(this.minScalingOnMobile,this.maxScalingOnMobile));this.mobile.actualSize.x=b.x*c;this.mobile.actualSize.y=b.y*c;this.scaleRatioMultiplier.x=c;this.scaleRatioMultiplier.y=c}else this.sizeRatio.x=this.scaleRatioMultiplier.x,this.sizeRatio.y=this.scaleRatioMultiplier.y,this.scaleRatioMultiplier.x=1,this.scaleRatioMultiplier.y=1}else this.desktop.actualSize=
new Vector2(window.innerWidth,window.innerHeight),b=new Vector2(this.desktop.actualResolution.x,this.desktop.actualResolution.y),this.scaleRatioMultiplier=new Vector2(this.desktop.actualSize.x/b.x,this.desktop.actualSize.y/b.y),this.enableStretchToFitOnDesktopFlag?(this.sizeRatio.x=this.scaleRatioMultiplier.x,this.sizeRatio.y=this.scaleRatioMultiplier.y,this.scaleRatioMultiplier.x=1,this.scaleRatioMultiplier.y=1):(c=Math.min(this.scaleRatioMultiplier.x,this.scaleRatioMultiplier.y),this.enableScalingLimitsOnDesktopFlag&&
(c=c.limit(this.minScalingOnDesktop,this.maxScalingOnDesktop)),this.desktop.actualSize.x=b.x*c,this.desktop.actualSize.y=b.y*c,this.scaleRatioMultiplier.x=c,this.scaleRatioMultiplier.y=c)},resizeLayers:function(){for(var b=0;b<this.coreDivsToResize.length;b++){var c=ig.domHandler.getElementById(this.coreDivsToResize[b]);if(ig.ua.mobile)if(this.disableStretchToFitOnMobileFlag){var d=Math.floor(ig.sizeHandler.windowSize.x/2-ig.sizeHandler.mobile.actualSize.x/2),e=Math.floor(ig.sizeHandler.windowSize.y/
2-ig.sizeHandler.mobile.actualSize.y/2);0>d&&(d=0);0>e&&(e=0);ig.domHandler.resizeOffset(c,Math.floor(ig.sizeHandler.mobile.actualSize.x),Math.floor(ig.sizeHandler.mobile.actualSize.y),d,e);var f=!1;if(this.portraitMode?window.innerHeight<window.innerWidth:window.innerHeight>window.innerWidth)if(this.enableStretchToFitOnAntiPortraitModeFlag)ig.domHandler.resizeOffset(c,Math.floor(window.innerWidth),Math.floor(window.innerHeight),0,0);else{var f=new Vector2(window.innerWidth/this.mobile.actualResolution.y,
window.innerHeight/this.mobile.actualResolution.x),d=Math.min(f.x,f.y),f=this.mobile.actualResolution.y*d,g=this.mobile.actualResolution.x*d,d=Math.floor(ig.sizeHandler.windowSize.x/2-f/2),e=Math.floor(ig.sizeHandler.windowSize.y/2-g/2);0>d&&(d=0);0>e&&(e=0);ig.domHandler.resizeOffset(c,Math.floor(f),Math.floor(g),d,e)}}else ig.domHandler.resize(c,Math.floor(ig.sizeHandler.mobile.actualSize.x),Math.floor(ig.sizeHandler.mobile.actualSize.y));else this.enableStretchToFitOnDesktopFlag?ig.domHandler.resize(c,
Math.floor(ig.sizeHandler.desktop.actualSize.x),Math.floor(ig.sizeHandler.desktop.actualSize.y)):(d=Math.floor(ig.sizeHandler.windowSize.x/2-ig.sizeHandler.desktop.actualSize.x/2),e=Math.floor(ig.sizeHandler.windowSize.y/2-ig.sizeHandler.desktop.actualSize.y/2),0>d&&(d=0),0>e&&(e=0),ig.domHandler.resizeOffset(c,Math.floor(ig.sizeHandler.desktop.actualSize.x),Math.floor(ig.sizeHandler.desktop.actualSize.y),d,e))}for(var m in this.adsToResize)b=ig.domHandler.getElementById("#"+m),c=ig.domHandler.getElementById("#"+
m+"-Box"),f=(window.innerWidth-this.adsToResize[m]["box-width"])/2+"px",d=(window.innerHeight-this.adsToResize[m]["box-height"])/2+"px",b&&ig.domHandler.css(b,{width:window.innerWidth,height:window.innerHeight}),c&&ig.domHandler.css(c,{left:f,top:d});b=ig.domHandler.getElementById("#canvas");c=ig.domHandler.getOffsets(b);b=c.left;c=c.top;f=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,ig.sizeHandler.scaleRatioMultiplier.y);for(m in this.dynamicClickableEntityDivs){d=ig.domHandler.getElementById("#"+
m);if(ig.ua.mobile){var g=this.dynamicClickableEntityDivs[m].entity_pos_x,p=this.dynamicClickableEntityDivs[m].entity_pos_y,j=this.dynamicClickableEntityDivs[m].width,e=this.dynamicClickableEntityDivs[m].height;this.disableStretchToFitOnMobileFlag?(g=Math.floor(b+g*this.scaleRatioMultiplier.x)+"px",p=Math.floor(c+p*this.scaleRatioMultiplier.y)+"px",j=Math.floor(j*this.scaleRatioMultiplier.x)+"px",e=Math.floor(e*this.scaleRatioMultiplier.y)+"px"):(g=Math.floor(g*this.sizeRatio.x)+"px",p=Math.floor(p*
this.sizeRatio.y)+"px",j=Math.floor(j*this.sizeRatio.x)+"px",e=Math.floor(e*this.sizeRatio.y)+"px")}else g=this.dynamicClickableEntityDivs[m].entity_pos_x,p=this.dynamicClickableEntityDivs[m].entity_pos_y,j=this.dynamicClickableEntityDivs[m].width,e=this.dynamicClickableEntityDivs[m].height,this.enableStretchToFitOnDesktopFlag?(g=Math.floor(g*this.sizeRatio.x)+"px",p=Math.floor(p*this.sizeRatio.y)+"px",j=Math.floor(j*this.sizeRatio.x)+"px",e=Math.floor(e*this.sizeRatio.y)+"px"):(g=Math.floor(b+g*
this.scaleRatioMultiplier.x)+"px",p=Math.floor(c+p*this.scaleRatioMultiplier.y)+"px",j=Math.floor(j*this.scaleRatioMultiplier.x)+"px",e=Math.floor(e*this.scaleRatioMultiplier.y)+"px");ig.domHandler.css(d,{"float":"left",position:"absolute",left:g,top:p,width:j,height:e,"z-index":3});this.dynamicClickableEntityDivs[m]["font-size"]&&ig.domHandler.css(d,{"font-size":this.dynamicClickableEntityDivs[m]["font-size"]*f+"px"})}$("#ajaxbar").width(this.windowSize.x);$("#ajaxbar").height(this.windowSize.y)},
resize:function(){this.sizeCalcs();this.resizeLayers()},reorient:function(){console.log("changing orientation ...");if(ig.ua.mobile){var b=!1,b=this.portraitMode?window.innerHeight<window.innerWidth:window.innerHeight>window.innerWidth,c=this.domHandler.getElementById("#orientate"),d=this.domHandler.getElementById("#game");b?(this.domHandler.show(c),this.domHandler.hide(d),console.log("portrait"+window.innerWidth+","+window.innerHeight)):(this.domHandler.show(d),this.domHandler.hide(c),console.log("landscape"+
window.innerWidth+","+window.innerHeight))}ig.ua.mobile?(this.resize(),this.resizeAds()):this.resize()},resizeAds:function(){for(var b in this.adsToResize){var c=ig.domHandler.getElementById("#"+b),d=ig.domHandler.getElementById("#"+b+"-Box"),e=(window.innerWidth-this.adsToResize[b]["box-width"])/2+"px",f=(window.innerHeight-this.adsToResize[b]["box-height"])/2+"px";c&&ig.domHandler.css(c,{width:window.innerWidth,height:window.innerHeight});d&&ig.domHandler.css(d,{left:e,top:f})}},samsungFix:function(){ig.ua.android&&
!(4.2>parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8,navigator.userAgent.indexOf("Android")+11)))&&(!(0>navigator.userAgent.indexOf("GT"))&&!(0<navigator.userAgent.indexOf("Chrome"))&&!(0<navigator.userAgent.indexOf("Firefox")))&&(document.addEventListener("touchstart",function(b){b.preventDefault();return!1},!1),document.addEventListener("touchmove",function(b){b.preventDefault();return!1},!1),document.addEventListener("touchend",function(b){b.preventDefault();return!1},
!1))},orientationInterval:null,orientationTimeout:null,orientationHandler:function(){this.reorient();window.scrollTo(0,1)},orientationDelayHandler:function(){null==this.orientationInterval&&(this.orientationInterval=window.setInterval(this.orientationHandler.bind(this),100));null==this.orientationTimeout&&(this.orientationTimeout=window.setTimeout(function(){this.clearAllIntervals()}.bind(this),2E3))},clearAllIntervals:function(){window.clearInterval(this.orientationInterval);this.orientationInterval=
null;window.clearTimeout(this.orientationTimeout);this.orientationTimeout=null},eventListenerSetup:function(){ig.ua.iOS?(window.addEventListener("orientationchange",this.orientationDelayHandler.bind(this)),window.addEventListener("resize",this.orientationDelayHandler.bind(this))):(window.addEventListener("orientationchange",this.orientationHandler.bind(this)),window.addEventListener("resize",this.orientationHandler.bind(this)));document.ontouchmove=function(b){window.scrollTo(0,1);b.preventDefault()};
this.chromePullDownRefreshFix()},chromePullDownRefreshFix:function(){var b=window.chrome||navigator.userAgent.match("CriOS"),c="ontouchstart"in document.documentElement;if(b&&c){var d=b=!1,e=0,f=!1;try{CSS.supports("overscroll-behavior-y","contain")&&(b=!0)}catch(g){}try{if(b)return document.body.style.overscrollBehaviorY="contain"}catch(m){}b=document.head||document.body;c=document.createElement("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText="\n      ::-webkit-scrollbar {\n        width: 500x;\n      }\n      ::-webkit-scrollbar-thumb {\n        border-radius: 500px;\n        background-color: rgba(0, 0, 0, 0.2);\n      }\n      body {\n        -webkit-overflow-scrolling: auto!important;\n      }\n    ":
c.appendChild(document.createTextNode("\n      ::-webkit-scrollbar {\n        width: 500px;\n      }\n      ::-webkit-scrollbar-thumb {\n        border-radius: 500px;\n        background-color: rgba(0, 0, 0, 0.2);\n      }\n      body {\n        -webkit-overflow-scrolling: auto!important;\n      }\n    "));b.appendChild(c);try{addEventListener("test",null,{get passive(){d=!0}})}catch(p){}document.addEventListener("touchstart",function(b){1===b.touches.length&&(e=b.touches[0].clientY,f=0===window.pageYOffset)},
!!d&&{passive:!0});document.addEventListener("touchmove",function(b){var c;if(c=f){f=!1;c=b.touches[0].clientY;var d=c-e;c=(e=c,0<d)}if(c)return b.preventDefault()},!!d&&{passive:!1})}}})});ig.baked=!0;
ig.module("plugins.handlers.api-handler").defines(function(){ig.ApiHandler=ig.Class.extend({apiAvailable:{MJSPreroll:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS&&_SETTINGS.Ad.Mobile.Preroll.Enabled&&MobileAdInGamePreroll.Initialize()},MJSHeader:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.Header.Enabled&&MobileAdInGameHeader.Initialize()},MJSFooter:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.Footer.Enabled&&MobileAdInGameFooter.Initialize()},
MJSEnd:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.End.Enabled&&MobileAdInGameEnd.Initialize()}},run:function(b,c){if(this.apiAvailable[b])this.apiAvailable[b](c)}})});ig.baked=!0;
ig.module("plugins.audio.sound-player").defines(function(){SoundPlayer=ig.Class.extend({tagName:"SoundPlayer",stayMuteFlag:!1,debug:!1,init:function(){this.debug&&console.log(this.tagName)},play:function(b){this.debug&&console.log("play sound ",b)},stop:function(){this.debug&&console.log("stop sound ")},volume:function(){this.debug&&console.log("set volume")},mute:function(b){this.debug&&console.log("mute");"undefined"===typeof b?this.stayMuteFlag=!0:b&&(this.stayMuteFlag=!0)},unmute:function(b){this.debug&&
console.log("unmute");"undefined"===typeof b?this.stayMuteFlag=!1:b&&(this.stayMuteFlag=!1)}})});ig.baked=!0;
ig.module("plugins.audio.impact-music-player").requires("plugins.audio.sound-player").defines(function(){ImpactMusicPlayer=SoundPlayer.extend({tagName:"ImpactMusicPlayer",bgmPlaying:!1,soundList:{},init:function(b,c){this.parent(b,c);for(var d in b)this.soundList[d]=d,ig.music.add(b[d].path+".*",d);c&&c.loop&&(ig.music.loop=c.loop)},play:function(b){this.stayMuteFlag||(this.bgmPlaying=!0,"undefined"===typeof b?ig.music.play(b):ig.music.play())},stop:function(){this.bgmPlaying=!1;ig.music.pause()},
volume:function(b){console.log("impactmusic:",b);ig.music.volume=0>b?0:isNaN(b)?1:1<b?1:b},getVolume:function(){return ig.music.volume},mute:function(b){this.parent(b);this.bgmPlaying&&this.stop()},unmute:function(b){this.parent(b);this.play()}})});ig.baked=!0;
ig.module("plugins.audio.impact-sound-player").requires("plugins.audio.sound-player").defines(function(){ImpactSoundPlayer=SoundPlayer.extend({tagName:"ImpactSoundPlayer",soundList:{},init:function(b,c){this.parent(b,c);for(var d in b){var e=new ig.Sound(b[d].path+".*");this.soundList[d]=e}},play:function(b){this.stayMuteFlag||("object"===typeof b?(console.log(b+" exists"),b.play()):"string"===typeof b&&this.soundList[b].play())},stop:function(b){this.parent(b);b.stop()},volume:function(b){ig.soundManager.volume=
0>b?0:isNaN(b)?1:1<b?1:b},getVolume:function(){return ig.soundManager.volume},mute:function(b){this.parent(b);ig.Sound.enabled=!1},unmute:function(b){this.parent(b);ig.Sound.enabled=!0}})});ig.baked=!0;
ig.module("plugins.audio.howler-player").requires("plugins.audio.sound-player").defines(function(){HowlerPlayer=SoundPlayer.extend({tagName:"HowlerPlayer",soundList:{},init:function(b,c){this.parent(b,c);for(var d in b){var e=b[d].path,e=new Howl({src:[e+"."+ig.Sound.FORMAT.OGG.ext,e+"."+ig.Sound.FORMAT.MP3.ext]});this.soundList[d]=e}},play:function(b){if(Howler.ctx&&"running"!==Howler.ctx.state)return Howler.ctx.resume();this.stayMuteFlag||("object"===typeof b?b.play():"string"===typeof b&&this.soundList[b].play())},
stop:function(b){this.parent(b);"object"===typeof b?b.stop():"string"===typeof b&&this.soundList[b].stop()},volume:function(b){for(var c in this.soundList){if(0>b){this.soundList[c].volume(0);break}isNaN(b)?this.soundList[c].volume(1):1<b?this.soundList[c].volume(1):this.soundList[c].volume(b)}},getVolume:function(){for(var b in this.soundList)return this.soundList[b].volume()},mute:function(b){this.parent(b);Howler.mute(!0)},unmute:function(b){this.parent(b);Howler.mute(!1)}})});ig.baked=!0;
ig.module("plugins.audio.howler-music-player").requires("plugins.audio.sound-player").defines(function(){HowlerMusicPlayer=SoundPlayer.extend({tagName:"HowlerMusicPlayer",bgmPlaying:!1,soundList:{},init:function(b,c){this.parent(b,c);for(var d in b){var e=b[d].path,e=new Howl({src:[e+"."+ig.Sound.FORMAT.OGG.ext,e+"."+ig.Sound.FORMAT.MP3.ext],loop:!0,autoplay:!1,onend:function(){}.bind(this)});this.soundList[d]=e}},play:function(b){if(!this.stayMuteFlag&&!this.bgmPlaying)if("object"===typeof b)this.bgmPlaying=
!0,b.play();else if("string"===typeof b)this.bgmPlaying=!0,this.soundList[b].play();else for(var c in this.soundList){this.soundList[c].play();this.bgmPlaying=!0;break}},stop:function(b){this.parent(b);if(this.bgmPlaying){for(var c in this.soundList)this.soundList[c].stop();this.bgmPlaying=!1}},volume:function(b){console.log("howler",b);for(var c in this.soundList){if(0>b){this.soundList[c].volume(0);break}isNaN(b)?this.soundList[c].volume(1):1<b?this.soundList[c].volume(1):this.soundList[c].volume(b)}},
getVolume:function(){for(var b in this.soundList)return this.soundList[b].volume()},mute:function(b){this.parent(b);Howler.mute(!0)},unmute:function(b){this.parent(b);Howler.mute(!1)}})});ig.baked=!0;
ig.module("plugins.audio.jukebox-player").requires("plugins.audio.sound-player").defines(function(){JukeboxPlayer=SoundPlayer.extend({tagName:"JukeboxPlayer",bgmPlaying:!1,soundList:{},jukeboxPlayer:null,pausePosition:0,premuteVolume:0,minVolume:0.001,init:function(b,c){this.parent(b,c);for(var d in b){this.soundList[d]=d;var e=b[d].path;this.jukeboxPlayer=new jukebox.Player({resources:[e+"."+ig.Sound.FORMAT.OGG.ext,e+"."+ig.Sound.FORMAT.MP3.ext],autoplay:!1,spritemap:{music:{start:b[d].startMp3,
end:b[d].endMp3,loop:!0}}})}},play:function(){this.stayMuteFlag||(this.bgmPlaying=!0,this.pausePosition?(console.log("resume"),this.jukeboxPlayer.resume(this.pausePosition)):(console.log("play"),this.jukeboxPlayer.play(this.jukeboxPlayer.settings.spritemap.music.start,!0)),this.premuteVolume=this.getVolume())},stop:function(){this.bgmPlaying=!1;this.pausePosition=this.jukeboxPlayer.pause()},volume:function(b){console.log("jukebox:",b);0>=b?this.jukeboxPlayer.setVolume(this.minVolume):isNaN(b)?this.jukeboxPlayer.setVolume(1):
1<b?this.jukeboxPlayer.setVolume(1):this.jukeboxPlayer.setVolume(b)},getVolume:function(){return this.jukeboxPlayer.getVolume()},mute:function(b){this.parent(b);this.bgmPlaying&&(console.log("jukebox",this.premuteVolume),this.stayMuteFlag||(this.premuteVolume=this.getVolume()),this.jukeboxPlayer.pause(),this.jukeboxPlayer.setVolume(this.minVolume))},unmute:function(b){this.parent(b);this.stayMuteFlag||(console.log("jukebox",this.premuteVolume),this.jukeboxPlayer.setVolume(this.premuteVolume),this.jukeboxPlayer.resume())}})});
ig.baked=!0;
ig.module("plugins.audio.webaudio-music-player").requires("plugins.audio.sound-player").defines(function(){WebaudioMusicPlayer=SoundPlayer.extend({tagName:"WebaudioMusicPlayer",bgmPlaying:!1,isSupported:!1,muteFlag:!1,pausedTime:0,webaudio:null,useHTML5Audio:!1,audio:null,inactiveAudio:null,codecs:null,reinitOnPlay:!1,inputList:null,_volume:1,soundList:{},init:function(b,c){this.webaudio={compatibility:{},gainNode:null,buffer:null,source_loop:{},source_once:{}};this.options=c;try{Howler&&Howler.ctx?
this.webaudio.context=Howler.ctx:ig&&ig.webaudio_ctx?this.webaudio.context=ig.webaudio_ctx:(this.AudioContext=window.AudioContext||window.webkitAudioContext,this.webaudio.context=new this.AudioContext,ig.webaudio_ctx=this.webaudio.context),this.isSupported=!0}catch(d){console.log("Web Audio API not supported in this browser."),this.webaudio=null,this.useHTML5Audio=!0}if(this.useHTML5Audio)if("undefined"!==typeof Audio)try{new Audio}catch(e){this.useHTML5Audio=!1}else this.useHTML5Audio=!1;this.useHTML5Audio&&
(this.audio=new Audio,this.isSupported=!0,this.initHTML5Audio(b));if(!this.isSupported)return null;this.webaudio&&(this.inputList=b,this.initWebAudio(b))},initWebAudio:function(b){ig.ua.iOS&&this.initIOSWebAudioUnlock();this.webaudio.gainNode="undefined"===typeof this.webaudio.context.createGain?this.webaudio.context.createGainNode():this.webaudio.context.createGain();this.webaudio.gainNode.connect(this.webaudio.context.destination);this.webaudio.gainNode.gain.value=this._volume;this.webaudio.buffer=
null;var c="start",d="stop",e=this.webaudio.context.createBufferSource();"function"!==typeof e.start&&(c="noteOn");this.webaudio.compatibility.start=c;"function"!==typeof e.stop&&(d="noteOff");this.webaudio.compatibility.stop=d;for(var f in b){this.soundList[f]=f;var d=b[f].path,c=d+"."+ig.Sound.FORMAT.MP3.ext,g=d+"."+ig.Sound.FORMAT.OGG.ext;ig.ua.mobile?ig.ua.iOS&&(g=c):(d=navigator.userAgent.toLowerCase(),-1!=d.indexOf("safari")&&-1>=d.indexOf("chrome")&&(g=c),d.indexOf("win64")&&(g=c));var m=new XMLHttpRequest;
m.open("GET",g,!0);m.responseType="arraybuffer";m.onload=function(){this.webaudio.context.decodeAudioData(m.response,function(b){this.webaudio.buffer=b;this.webaudio.source_loop={};this.bgmPlaying?this.play(null,!0):this.stop()}.bind(this),function(){console.log('Error decoding audio "'+g+'".')})}.bind(this);m.send();if(4==m.readyState&&"undefined"!==typeof Audio){this.useHTML5Audio=!0;try{new Audio}catch(p){this.useHTML5Audio=!1}this.useHTML5Audio&&(console.log("Using HTML5 Audio"),this.webaudio=
null,this.audio=new Audio,this.isSupported=!0,this.initHTML5Audio(b))}break}},initIOSWebAudioUnlock:function(){if(this.webaudio){webaudio=this.webaudio;var b=function(){var c=webaudio.context,d=c.createBuffer(1,1,22050),e=c.createBufferSource();e.buffer=d;e.connect(c.destination);"undefined"===typeof e.start?e.noteOn(0):e.start(0);setTimeout(function(){(e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE)&&window.removeEventListener("touchend",b,!1)}.bind(this),0)};window.addEventListener("touchend",
b,!1)}},initHTML5Audio:function(b){if(this.useHTML5Audio&&this.audio){var c=this.audio;this.codecs={};this.codecs={mp3:!!c.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!c.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!c.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!c.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(c.canPlayType("audio/x-m4a;")||c.canPlayType("audio/m4a;")||c.canPlayType("audio/aac;")).replace(/^no$/,
""),mp4:!!(c.canPlayType("audio/x-mp4;")||c.canPlayType("audio/mp4;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")};this.is={ff:Boolean(null!=window.mozInnerScreenX&&/firefox/.test(navigator.userAgent.toLowerCase())),ie:Boolean(document.all&&!window.opera),opera:Boolean(window.opera),chrome:Boolean(window.chrome),safari:Boolean(!window.chrome&&/safari/.test(navigator.userAgent.toLowerCase())&&window.getComputedStyle&&!window.globalStorage&&
!window.opera)};this.playDelay=-60;this.stopDelay=30;this.is.chrome&&(this.playDelay=-25);this.is.chrome&&(this.stopDelay=25);this.is.ff&&(this.playDelay=-25);this.is.ff&&(this.stopDelay=85);this.is.opera&&(this.playDelay=5);this.is.opera&&(this.stopDelay=0);for(var d in b){this.soundList[d]=d;var e=b[d].path,c=e+"."+ig.Sound.FORMAT.OGG.ext,e=e+"."+ig.Sound.FORMAT.MP3.ext,f=null;this.codecs[ig.Sound.FORMAT.OGG.ext.toLowerCase()]?f=c:this.codecs[ig.Sound.FORMAT.MP3.ext.toLowerCase()]&&(f=e);if(f){ig.ua.mobile?
ig.ua.iOS&&(f=e):(b=navigator.userAgent.toLowerCase(),-1!=b.indexOf("safari")&&-1>=b.indexOf("chrome")&&(f=e));this.audio.addEventListener("error",function(){this.audio.error&&4===this.audio.error.code&&(this.isSupported=!1)},!1);this.audio.src=f;this.audio._pos=0;this.audio.preload="auto";this.audio.volume=this._volume;this.inactiveAudio=new Audio;this.inactiveAudio.src=f;this.inactiveAudio._pos=0;this.inactiveAudio.preload="auto";this.inactiveAudio.volume=this._volume;this.inactiveAudio.load();
var g=function(){this._duration=this.audio.duration;this._loaded||(this._loaded=!0);this.bgmPlaying?this.play(null,!0):this.stop();this.audio.removeEventListener("canplaythrough",g,!1)}.bind(this);this.audio.addEventListener("canplaythrough",g,!1);this.audio.load();break}}}},play:function(b,c){if(this.isSupported)if(this.bgmPlaying=!0,this.webaudio){if(!c&&this.reinitOnPlay&&this.webaudio.source_loop.buffer==this.webaudio.buffer){if(this.webaudio.source_loop._playing&&(this.webaudio.source_loop[this.webaudio.compatibility.stop](0),
this.webaudio.source_loop._playing=!1,this.pausedTime+=this.webaudio.context.currentTime-this.webaudio.source_loop._startTime,this.pausedTime%=this.webaudio.source_loop.buffer.duration,this.webaudio.source_loop._startTime=0,"noteOn"===this.webaudio.compatibility.start))this.webaudio.source_once[this.webaudio.compatibility.stop](0);try{this.webaudio.context.close();this.webaudio.context=new this.AudioContext;this.webaudio.gainNode=this.webaudio.context.createGain();this.webaudio.gainNode.connect(this.webaudio.context.destination);
this.webaudio.gainNode.gain.value=this._volume;var d="start",e="stop",f=this.webaudio.context.createBufferSource();"function"!==typeof f.start&&(d="noteOn");this.webaudio.compatibility.start=d;"function"!==typeof f.stop&&(e="noteOff");this.webaudio.compatibility.stop=e;this.webaudio.source_loop={};this.play(null,!0)}catch(g){}}if(this.webaudio.buffer){if(!this.muteFlag&&(this.bgmPlaying=!0,!this.webaudio.source_loop._playing)){this.webaudio.source_loop=this.webaudio.context.createBufferSource();this.webaudio.source_loop.buffer=
this.webaudio.buffer;this.webaudio.source_loop.loop=this.options.loop?!0:!1;this.options.onEndedEvent&&this.webaudio.source_loop.addEventListener("ended",this.options.onEndedEvent);this.webaudio.source_loop.connect(this.webaudio.gainNode);if(null==b||isNaN(b))b=0,this.pausedTime&&(b=this.pausedTime);this.webaudio.source_loop._startTime=this.webaudio.context.currentTime;if("noteOn"===this.webaudio.compatibility.start)this.webaudio.source_once=this.webaudio.context.createBufferSource(),this.webaudio.source_once.buffer=
this.webaudio.buffer,this.webaudio.source_once.connect(this.webaudio.gainNode),this.webaudio.source_once.noteGrainOn(0,b,this.webaudio.buffer.duration-b),this.webaudio.source_loop[this.webaudio.compatibility.start](this.webaudio.context.currentTime+(this.webaudio.buffer.duration-b));else this.webaudio.source_loop[this.webaudio.compatibility.start](0,b);this.webaudio.source_loop._playing=!0}}else this.bgmPlaying=!0}else if(this.audio){var m=this.audio;if(!this.muteFlag)if(this.bgmPlaying=!0,isNaN(b)&&
(b=0,this.pausedTime&&(b=this.pausedTime)),d=this._duration-b,this._onEndTimer&&(clearTimeout(this._onEndTimer),this._onEndTimer=null),this._onEndTimer=setTimeout(function(){this.audio.currentTime=0;this.audio.pause();this.pausedTime=0;if(this.inactiveAudio){var b=this.audio;this.audio=this.inactiveAudio;this.inactiveAudio=b}this.play()}.bind(this),1E3*d+this.playDelay),4===m.readyState||!m.readyState&&navigator.isCocoonJS)m.readyState=4,m.currentTime=b,m.muted=this.muteFlag||m.muted,m.volume=this._volume,
setTimeout(function(){m.play()},0);else{clearTimeout(this._onEndTimer);this._onEndTimer=null;var p=function(){typeof("function"==this.play)&&(this.play(),m.removeEventListener("canplaythrough",p,!1))}.bind(this);m.addEventListener("canplaythrough",p,!1)}}},stop:function(){this.bgmPlaying=!1;if(this.isSupported)if(this.webaudio){if(this.webaudio.source_loop._playing&&(this.webaudio.source_loop[this.webaudio.compatibility.stop](0),this.webaudio.source_loop._playing=!1,this.pausedTime+=this.webaudio.context.currentTime-
this.webaudio.source_loop._startTime,this.pausedTime%=this.webaudio.source_loop.buffer.duration,this.webaudio.source_loop._startTime=0,"noteOn"===this.webaudio.compatibility.start))this.webaudio.source_once[this.webaudio.compatibility.stop](0)}else if(this.audio){var b=this.audio;4==b.readyState&&(this.pausedTime=b.currentTime,b.currentTime=0,b.pause(),clearTimeout(this._onEndTimer),this._onEndTimer=null)}},volume:function(b){if(isNaN(b)||null==b)return this.getVolume();this.isSupported&&(this._volume=
b,0>this._volume?this._volume=0:1<this._volume&&(this._volume=1),this.webaudio?this.webaudio.gainNode&&(this.webaudio.gainNode.gain.value=this._volume):this.audio&&(this.audio.volume=this._volume,this.inactiveAudio&&(this.inactiveAudio.volume=this._volume)))},getVolume:function(){return!this.isSupported?0:this._volume},mute:function(b){this.parent(b);!1==this.muteFlag&&(this.muteFlag=!0,this.bgmPlaying&&(this.stop(),this.bgmPlaying=!0))},unmute:function(b){this.parent(b);!this.stayMuteFlag&&!0==this.muteFlag&&
(this.muteFlag=!1,this.bgmPlaying&&this.play())}})});ig.baked=!0;
ig.module("plugins.audio.sound-info").defines(function(){SoundInfo=ig.Class.extend({FORMATS:{OGG:".ogg",MP3:".mp3"},sfx:{logosplash1:{path:"media/audio/opening/logosplash1"},logosplash2:{path:"media/audio/opening/logosplash2"},staticSound:{path:"media/audio/play/static"},click:{path:"media/audio/click"},hit1:{path:"media/audio/hit-1"},hit2:{path:"media/audio/hit-2"},power:{path:"media/audio/power"},roundText:{path:"media/audio/round-text"},swing:{path:"media/audio/swing"},land:{path:"media/audio/land"},
ding:{path:"media/audio/correct-ding"},tick:{path:"media/audio/tick"},beep:{path:"media/audio/bug2"},type:{path:"media/audio/lm_button2"},bell1:{path:"media/audio/bell1"},bell3:{path:"media/audio/bell3"},bell4:{path:"media/audio/bell4"},crowd:{path:"media/audio/crowd"},boo:{path:"media/audio/boo"},win:{path:"media/audio/win"}},bgm:{background:{path:"media/audio/bgm_loop",startOgg:0,endOgg:7.994,startMp3:0,endMp3:7.994}},intro:{background:{path:"media/audio/bgm_intro",startOgg:0,endOgg:32.018,startMp3:0,
endMp3:32.018}}})});ig.baked=!0;
ig.module("plugins.audio.sound-handler").requires("plugins.audio.impact-music-player","plugins.audio.impact-sound-player","plugins.audio.howler-player","plugins.audio.howler-music-player","plugins.audio.jukebox-player","plugins.audio.webaudio-music-player","plugins.audio.sound-info").defines(function(){ig.SoundHandler=ig.Class.extend({bgmPlayer:null,sfxPlayer:null,introPlayer:null,focusBlurMute:!1,soundInfo:new SoundInfo,init:function(){console.log("Initiating sound handler");ig.ua.mobile?(this.sfxPlayer=
new HowlerPlayer(this.soundInfo.sfx),this.bgmPlayer=new WebaudioMusicPlayer(this.soundInfo.bgm,{loop:!0}),this.introPlayer=new WebaudioMusicPlayer(this.soundInfo.intro,{loop:!1,onEndedEvent:function(){this.introPlayer.webaudio.source_loop._playing&&(this.introPlayer.stop(),this.bgmPlayer.play("bgm"),ig.game.introDone=!0)}.bind(this)}),this.bgmPlayer.isSupported||(this.bgmPlayer=new JukeboxPlayer(this.soundInfo.bgm,{loop:!0}))):(this.sfxPlayer=new HowlerPlayer(this.soundInfo.sfx),this.bgmPlayer=new WebaudioMusicPlayer(this.soundInfo.bgm,
{loop:!0}),this.introPlayer=new WebaudioMusicPlayer(this.soundInfo.intro,{loop:!1,onEndedEvent:function(){this.introPlayer.webaudio.source_loop._playing&&(this.introPlayer.stop(),this.bgmPlayer.play("bgm"),ig.game.introDone=!0)}.bind(this)}),this.bgmPlayer.isSupported||(this.bgmPlayer=new ImpactMusicPlayer(this.soundInfo.bgm,{loop:!0})))},unlockWebAudio:function(){Howler&&(Howler.ctx&&"running"!==Howler.ctx.state&&Howler.ctx.resume(),Howler._audioUnlocked||"function"===typeof Howler._unlockAudio&&
Howler._unlockAudio());ig&&ig.webaudio_ctx&&ig.webaudio_ctx.state&&"running"!==ig.webaudio_ctx.state&&ig.webaudio_ctx.resume();this.bgmPlayer.webaudio&&this.bgmPlayer.webaudio.context&&this.bgmPlayer.webaudio.context.state&&"running"!==this.bgmPlayer.webaudio.context.state&&this.bgmPlayer.webaudio.context.resume()},checkBGM:function(){return this.bgmPlayer.stayMuteFlag},checkSFX:function(){return this.sfxPlayer.stayMuteFlag},muteSFX:function(b){this.sfxPlayer&&this.sfxPlayer.mute(b)},muteBGM:function(b){this.bgmPlayer&&
(this.bgmPlayer.mute(b),this.introPlayer.mute(b))},unmuteSFX:function(b){this.sfxPlayer&&this.sfxPlayer.unmute(b)},unmuteBGM:function(b){this.bgmPlayer&&(this.bgmPlayer.unmute(b),this.introPlayer.unmute(b))},muteAll:function(b){this.muteSFX(b);this.muteBGM(b)},unmuteAll:function(b){this.unlockWebAudio();this.unmuteSFX(b);this.unmuteBGM(b)},forceMuteAll:function(){this.focusBlurMute||this.muteAll(!1);this.focusBlurMute=!0},forceUnMuteAll:function(){this.focusBlurMute&&(this.unmuteAll(!1),this.focusBlurMute=
!1)},saveVolume:function(){this.sfxPlayer&&ig.game.io.storageSet("soundVolume",this.sfxPlayer.getVolume());this.bgmPlayer&&ig.game.io.storageSet("musicVolume",this.bgmPlayer.getVolume())},forceLoopBGM:function(){var b;if(!this.focusBlurMute&&this.bgmPlayer.bgmPlaying&&this.bgmPlayer){var c=this.bgmPlayer.jukeboxPlayer;if(c){null!=window.mozInnerScreenX&&/firefox/.test(navigator.userAgent.toLowerCase());b=Boolean(window.chrome);!window.chrome&&/safari/.test(navigator.userAgent.toLowerCase());var d=
0.1;ig.ua.mobile&&(d=0.115,ig.ua.android&&(d=0.45,b&&(d=0.3)));c.settings.spritemap.music&&(b=c.settings.spritemap.music.end-d,c.getCurrentTime()>=b&&(b=c.settings.spritemap.music.start,ig.ua.android?this.forcelooped||(c.play(b,!0),this.forcelooped=!0,setTimeout(function(){ig.soundHandler.forcelooped=!1},d)):c.setCurrentTime(b)))}else"ImpactMusicPlayer"==this.bgmPlayer.tagName&&(null!=window.mozInnerScreenX&&/firefox/.test(navigator.userAgent.toLowerCase()),b=Boolean(window.chrome),!window.chrome&&
/safari/.test(navigator.userAgent.toLowerCase()),d=0.1,ig.ua.mobile&&(d=0.115,ig.ua.android&&(d=0.45,b&&(d=0.3))),c=0,"mp3"==ig.soundManager.format.ext&&(c=0.05),ig.music.currentTrack&&(b=ig.music.currentTrack.duration-d,ig.music.currentTrack.currentTime>=b&&(ig.ua.android?this.forcelooped||(ig.music.currentTrack.pause(),ig.music.currentTrack.currentTime=c,ig.music.currentTrack.play(),this.forcelooped=!0,setTimeout(function(){ig.soundHandler.forcelooped=!1},d)):ig.music.currentTrack.currentTime=c)))}}})});
ig.baked=!0;
ig.module("plugins.handlers.visibility-handler").requires("plugins.audio.sound-handler").defines(function(){ig.VisibilityHandler=ig.Class.extend({version:"1.0.2",config:{allowResumeWithoutFocus:{desktop:!0,mobile:{kaios:!1,"default":!0}},handlerDelay:{desktop:0,mobile:{kaios:0,"default":0}},autoFocusOnResume:{desktop:!0,mobile:{kaios:!1,"default":!0}},autoFocusAfterResume:{desktop:!0,mobile:{kaios:!1,"default":!0}}},browserPrefixes:["o","ms","moz","webkit"],browserPrefix:null,hiddenPropertyName:null,visibilityEventName:null,
visibilityStateName:null,isShowingOverlay:!1,isFocused:!1,isPaused:!1,init:function(){this.initVisibilityHandler();this.initFocusHandler();this.initPageTransitionHandler();ig.visibilityHandler=this},pauseHandler:function(){ig.game&&ig.game.pauseGame();ig.soundHandler&&ig.soundHandler.forceMuteAll()},resumeHandler:function(){ig.game&&ig.game.resumeGame();ig.soundHandler&&ig.soundHandler.forceUnMuteAll()},initVisibilityHandler:function(){this.browserPrefix=this.getBrowserPrefix();this.hiddenPropertyName=
this.getHiddenPropertyName(this.browserPrefix);this.visibilityEventName=this.getVisibilityEventName(this.browserPrefix);this.visibilityStateName=this.getVisibilityStateName(this.browserPrefix);this.visibilityEventName&&document.addEventListener(this.visibilityEventName,this.onChange.bind(this),!0)},initFocusHandler:function(){window.addEventListener("blur",this.onChange.bind(this),!0);document.addEventListener("blur",this.onChange.bind(this),!0);document.addEventListener("focusout",this.onChange.bind(this),
!0);window.addEventListener("focus",this.onChange.bind(this),!0);document.addEventListener("focus",this.onChange.bind(this),!0);document.addEventListener("focusin",this.onChange.bind(this),!0)},initPageTransitionHandler:function(){window.addEventListener("pagehide",this.onChange.bind(this),!0);window.addEventListener("pageshow",this.onChange.bind(this),!0)},getBrowserPrefix:function(){var b=null;this.browserPrefixes.forEach(function(c){if(this.getHiddenPropertyName(c)in document)return b=c}.bind(this));
return b},getHiddenPropertyName:function(b){return b?b+"Hidden":"hidden"},getVisibilityEventName:function(b){return(b?b:"")+"visibilitychange"},getVisibilityStateName:function(b){return b?b+"VisibilityState":"visibilityState"},hasView:function(){return!(document[this.hiddenPropertyName]||"visible"!==document[this.visibilityStateName])},hasFocus:function(){return document.hasFocus()||this.isFocused},onOverlayShow:function(){this.systemPaused();this.isShowingOverlay=!0},onOverlayHide:function(){this.isShowingOverlay=
!1;this.systemResumed()},systemPaused:function(){if(this.isPaused)return!1;this.pauseHandler();return this.isPaused=!0},systemResumed:function(){if(!this.isPaused||!this.hasView()||this.isShowingOverlay)return!1;if(!this.hasFocus())if(ig.ua.mobile)if(this.isKaiOS()){if(!this.config.allowResumeWithoutFocus.mobile.kaios)return!1}else{if(!this.config.allowResumeWithoutFocus.mobile.default)return!1}else if(!this.config.allowResumeWithoutFocus.desktop)return!1;this.focusOnResume();this.resumeHandler();
this.focusAfterResume();this.isPaused=!1;return!0},isKaiOS:function(){return/KAIOS/.test(navigator.userAgent)||!1},focusOnResume:function(){return ig.ua.mobile?this.isKaiOS()?this.config.autoFocusOnResume.mobile.kaios:this.config.autoFocusOnResume.mobile.default:this.config.autoFocusOnResume.desktop},focusAfterResume:function(){return ig.ua.mobile?this.isKaiOS()?this.config.autoFocusAfterResume.mobile.kaios:this.config.autoFocusAfterResume.mobile.default:this.config.autoFocusAfterResume.desktop},
focus:function(b){window.focus&&b&&window.focus()},handleDelayedEvent:function(b){if(!this.hasView()||"pause"===b.type||"pageHide"===b.type||"blur"===b.type||"focusout"===b.type){if("blur"===b.type||"focusout"===b.type)this.isFocused=!1;return this.systemPaused(b)}if("focus"===b.type||"focusin"===b.type)this.isFocused=!0;return this.systemResumed(b)},startDelayedEventHandler:function(b){ig.ua.mobile?this.isKaiOS()?0<this.config.handlerDelay.mobile.kaios?window.setTimeout(function(b){this.handleDelayedEvent(b)}.bind(this,
b),this.config.handlerDelay.mobile):this.handleDelayedEvent(b):0<this.config.handlerDelay.mobile.default?window.setTimeout(function(b){this.handleDelayedEvent(b)}.bind(this,b),this.config.handlerDelay.mobile):this.handleDelayedEvent(b):0<this.config.handlerDelay.desktop?window.setTimeout(function(b){this.handleDelayedEvent(b)}.bind(this,b),this.config.handlerDelay.desktop):this.handleDelayedEvent(b)},onChange:function(b){this.startDelayedEventHandler(b)}})});ig.baked=!0;
ig.module("game.entities.opening-marketjs-logo").requires("impact.entity").defines(function(){EntityOpeningMarketJSLogo=ig.Entity.extend({objects:[],letterM:null,logoShield:null,text:null,localTweens:[],logoOriX:0,logoOriY:0,textOriX:0,textOriY:0,logoCanvas:null,init:function(b,c,d){this.parent(b,c,d);console.log("Opening v1.0.4");logoSize=148/960*Math.min(ig.system.width,ig.system.height);this.logoCacheSize=Math.round(2*logoSize);this.text=this.addObject("drawText",0,0,logoSize,logoSize);this.cover=
this.addObject("drawCover",0,0,logoSize,logoSize);this.logoShield=this.addObject("drawLogoShield",0,0,logoSize,logoSize);this.letterM=this.addObject("drawLetterM",0,0,logoSize,logoSize);this.logoOriX=0-2.2*logoSize;this.logoOriY=0;this.textOriX=0-1.378*logoSize;this.textOriY=0-0.5*logoSize;this.logoShield.x=0;this.logoShield.y=0;this.logoShield.scaleX=0;this.logoShield.scaleY=0;this.logoShield.alpha=0;this.letterM.x=this.logoShield.x;this.letterM.y=this.logoShield.y;this.letterM.scaleX=0;this.letterM.scaleY=
0;this.letterM.alpha=0;this.text.x=4.6*-logoSize;this.text.y=this.textOriY;this.cover.x=this.logoShield.x;this.cover.y=0;this.addLocalDelayedCall(0.6,function(){this.addLocalTweenTo(this.logoShield,{scaleX:2,scaleY:2},0.5,this.backOut);this.addLocalTweenTo(this.logoShield,{alpha:1},0.2,this.quadOut);ig.soundHandler.sfxPlayer.play("logosplash1");this.addLocalDelayedCall(0.4,function(){this.addLocalTweenTo(this.letterM,{scaleX:2,scaleY:2},0.5,this.backOut);this.addLocalTweenTo(this.letterM,{alpha:1},
0.2,this.quadOut);ig.soundHandler.sfxPlayer.play("logosplash1");this.addLocalDelayedCall(0.2,function(){ig.soundHandler.sfxPlayer.play("logosplash2")}.bind(this));this.addLocalDelayedCall(0.6,function(){this.addLocalTweenTo(this.logoShield,{scaleX:1,scaleY:1},0.4,this.quartOut);this.addLocalTweenTo(this.logoShield,{x:this.logoOriX,y:this.logoOriY},0.4,this.quadOut);this.addLocalTweenTo(this.letterM,{scaleX:1,scaleY:1},0.4,this.quartOut);this.addLocalTweenTo(this.letterM,{x:this.logoOriX,y:this.logoOriY},
0.4,this.quadOut);this.addLocalTweenTo(this.text,{x:this.textOriX},0.8,this.backOut);this.addLocalDelayedCall(2,function(){this.addLocalTweenTo(this.logoShield,{alpha:0},0.6,this.quadOut);this.addLocalTweenTo(this.text,{alpha:0},0.6,this.quadOut);this.addLocalDelayedCall(1.3,function(){this.playBgm();ig.game.director.nextLevel()}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))},addObject:function(b,c,d,e,f){b={x:c,y:d,width:e,height:f,scaleX:1,scaleY:1,alpha:1,drawFunctionName:b};
this.objects.push(b);return b},update:function(){this.parent();if(!ig.wm){this.unlockWebAudio();var b=ig.system.tick;b>1/60&&(b=1/60);this.updateLocalTween(b);this.cover.x=this.logoShield.x;_SETTINGS.DeveloperBranding.Splash.Enabled||(this.playBgm(),ig.game.director.nextLevel(),this.kill())}},playBgm:function(){ig.soundHandler.bgmPlayer.play(ig.soundHandler.bgmPlayer.soundList.background)},unlockWebAudio:function(){if(ig.input.released("click"))try{ig.soundHandler.unlockWebAudio()}catch(b){}},addLocalDelayedCall:function(b,
c){this.addLocalTweenTo(null,{},b,this.easeNone,0,c)},addLocalTweenTo:function(b,c,d,e,f,g){"undefined"==typeof f&&(f=0);"undefined"==typeof e&&(e=this.easeNone);"undefined"==typeof g&&(g=null);d={obj:b,endProperties:c,duration:d,easing:e,delay:f,elapsed:0,deltaProperties:{},startProperties:{},onComplete:g};for(var j in c)Object.hasOwnProperty.call(c,j)&&(d.startProperties[j]=b[j],d.deltaProperties[j]=c[j]-b[j]);this.localTweens.push(d)},updateLocalTween:function(b){for(var c=0;c<this.localTweens.length;c++){var d=
this.localTweens[c];if(0<d.delay)d.delay-=b;else{d.elapsed+=b;for(var e in d.deltaProperties)if(Object.hasOwnProperty.call(d.deltaProperties,e)){var f=d.deltaProperties[e],g=d.startProperties[e],j=d.easing,m=d.elapsed/d.duration;1<m&&(m=1);m=j(m);d.obj[e]=g+f*m}if(d.elapsed>=d.duration&&(this.localTweens.splice(c,1),c--,d.onComplete))d.onComplete()}}},quadOut:function(b){return-b*(b-2)},quartOut:function(b){return-(--b*b*b*b-1)},backOut:function(b){return(b-=1)*b*(2.70158*b+1.70158)+1},easeNone:function(b){return b},
draw:function(){this.parent();if(!ig.global.wm){var b=ig.system.context;b.fillStyle="#ffffff";b.fillRect(0,0,ig.system.width,ig.system.height);for(b=0;b<this.objects.length;b++){var c=this.objects[b];1<c.alpha&&(c.alpha=1);if(0!=c.scaleX&&0!=c.scaleY&&0<c.alpha)this[c.drawFunctionName](c)}}},drawLogoShield:function(b){if(!this.logoCanvas){this.logoCanvas=ig.$new("canvas");this.logoCanvas.width=this.logoCacheSize;this.logoCanvas.height=this.logoCacheSize;var c=this.logoCanvas.getContext("2d"),d=this.logoCacheSize,
e=this.logoCacheSize,f=0,g=0;c.clearRect(0,0,this.logoCanvas.width,this.logoCanvas.height);c.save();c.fillStyle="#e35026";c.beginPath();c.moveTo(f+0.06*d,g);c.lineTo(f+0.94*d,g);c.lineTo(f+0.86*d,g+0.89*e);c.lineTo(f+0.5*d,g+e);c.lineTo(f+0.14*d,g+0.89*e);c.closePath();c.fill();c.fillStyle="#ee652b";c.beginPath();c.moveTo(f+0.5*d,g+0.07*e);c.lineTo(f+0.86*d,g+0.07*e);c.lineTo(f+0.79*d,g+0.84*e);c.lineTo(f+0.5*d,g+0.92*e);c.closePath();c.fill();c.restore()}d=b.width*b.scaleX;e=b.height*b.scaleY;f=
ig.system.width/2+b.x-d/2;g=ig.system.height/2+b.y-e/2;c=ig.system.context;c.globalAlpha=b.alpha;c.drawImage(this.logoCanvas,0,0,this.logoCacheSize,this.logoCacheSize,f,g,d,e);c.globalAlpha=1},drawLetterM:function(b){if(!this.mCanvas){this.mCanvas=ig.$new("canvas");this.mCanvas.width=this.logoCacheSize;this.mCanvas.height=this.logoCacheSize;var c=this.mCanvas.getContext("2d"),d=this.logoCacheSize,e=this.logoCacheSize,f=0,g=0;c.save();c.fillStyle="#ffffff";c.beginPath();c.moveTo(f+0.25*d,g+0.2*e);
c.lineTo(f+0.4*d,g+0.2*e);c.lineTo(f+0.5*d,g+0.37*e);c.lineTo(f+0.6*d,g+0.2*e);c.lineTo(f+0.75*d,g+0.2*e);c.lineTo(f+0.75*d,g+0.7*e);c.lineTo(f+0.6*d,g+0.7*e);c.lineTo(f+0.6*d,g+0.45*e);c.lineTo(f+0.5*d,g+0.63*e);c.lineTo(f+0.4*d,g+0.45*e);c.lineTo(f+0.4*d,g+0.7*e);c.lineTo(f+0.25*d,g+0.7*e);c.closePath();c.fill();c.restore()}c=ig.system.context;d=b.width*b.scaleX;e=b.height*b.scaleY;f=ig.system.width/2+b.x-d/2;g=ig.system.height/2+b.y-e/2;c.globalAlpha=b.alpha;c.drawImage(this.mCanvas,0,0,this.logoCacheSize,
this.logoCacheSize,f,g,d,e);c.globalAlpha=1},drawText:function(b){if(ig.splashLogoFontLoaded){var c=ig.system.context,d=b.height*b.scaleY,e=ig.system.width/2+b.x,f=ig.system.height/2+b.y;c.save();c.globalAlpha=b.alpha;b=Math.round(115/152*d);var g=Math.round(62/152*d);c.textAlign="left";c.fillStyle="#316198";c.font=b+"px logofont";c.fillText("MarketJS",e-0.06*b,f+0.66*b);c.font=g+"px logofont";c.fillText("HTML5 gaming solutions",e-0.02*g,f+d-0.1*g);c.globalAlpha=1;c.restore()}},drawCover:function(b){var c=
ig.system.context,d=ig.system.width/2+b.x,e=ig.system.height/2+b.y;c.save();c.globalAlpha=b.alpha;c.fillStyle="#ffffff";c.fillRect(d-ig.system.width/2,e-this.logoCacheSize/2,ig.system.width/2,this.logoCacheSize);c.globalAlpha=1;c.restore()}});if("undefined"==typeof window.FontFaceObserver){var b=function(b,c){document.addEventListener?b.addEventListener("scroll",c,!1):b.attachEvent("scroll",c)},c=function(b){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(b));
this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)},d=function(b,c){b.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+c+";"},e=function(b){var c=b.a.offsetWidth,d=c+100;b.f.style.width=d+"px";
b.c.scrollLeft=d;b.b.scrollLeft=b.b.scrollWidth+100;return b.g!==c?(b.g=c,!0):!1},f=function(c,d){function f(){var b=g;e(b)&&b.a.parentNode&&d(b.g)}var g=c;b(c.b,f);b(c.c,f);e(c)},g=function(b,c){var d=c||{};this.family=b;this.style=d.style||"normal";this.weight=d.weight||"normal";this.stretch=d.stretch||"normal"},m=function(){null===s&&(s=!!document.fonts);return s},p=function(){if(null===q){var b=document.createElement("div");try{b.style.font="condensed 100px sans-serif"}catch(c){}q=""!==b.style.font}return q},
j=function(b,c){return[b.style,b.weight,p()?b.stretch:"","100px",c].join(" ")},n=null,r=null,q=null,s=null;g.prototype.load=function(b,e){var g=this,p=b||"BESbswy",q=0,s=e||3E3,L=(new Date).getTime();return new Promise(function(b,e){var t;if(t=m())null===r&&(m()&&/Apple/.test(window.navigator.vendor)?(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),r=!!t&&603>parseInt(t[1],10)):r=!1),t=!r;if(t){t=new Promise(function(b,c){function d(){(new Date).getTime()-L>=
s?c(Error(""+s+"ms timeout exceeded")):document.fonts.load(j(g,'"'+g.family+'"'),p).then(function(c){1<=c.length?b():setTimeout(d,25)},c)}d()});var u=new Promise(function(b,c){q=setTimeout(function(){c(Error(""+s+"ms timeout exceeded"))},s)});Promise.race([u,t]).then(function(){clearTimeout(q);b(g)},e)}else{var R=function(){function m(){var c;if(c=-1!=S&&-1!=T||-1!=S&&-1!=U||-1!=T&&-1!=U)(c=S!=T&&S!=U&&T!=U)||(null===n&&(c=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),n=!!c&&
(536>parseInt(c[1],10)||536===parseInt(c[1],10)&&11>=parseInt(c[2],10))),c=n&&(S==R&&T==R&&U==R||S==O&&T==O&&U==O||S==Z&&T==Z&&U==Z)),c=!c;c&&(H.parentNode&&H.parentNode.removeChild(H),clearTimeout(q),b(g))}function r(){if((new Date).getTime()-L>=s)H.parentNode&&H.parentNode.removeChild(H),e(Error(""+s+"ms timeout exceeded"));else{var b=document.hidden;if(!0===b||void 0===b)S=t.a.offsetWidth,T=u.a.offsetWidth,U=z.a.offsetWidth,m();q=setTimeout(r,50)}}var t=new c(p),u=new c(p),z=new c(p),S=-1,T=-1,
U=-1,R=-1,O=-1,Z=-1,H=document.createElement("div");H.dir="ltr";d(t,j(g,"sans-serif"));d(u,j(g,"serif"));d(z,j(g,"monospace"));H.appendChild(t.a);H.appendChild(u.a);H.appendChild(z.a);document.body.appendChild(H);R=t.a.offsetWidth;O=u.a.offsetWidth;Z=z.a.offsetWidth;r();f(t,function(b){S=b;m()});d(t,j(g,'"'+g.family+'",sans-serif'));f(u,function(b){T=b;m()});d(u,j(g,'"'+g.family+'",serif'));f(z,function(b){U=b;m()});d(z,j(g,'"'+g.family+'",monospace'))};document.body?R():document.addEventListener?
document.addEventListener("DOMContentLoaded",function Q(){document.removeEventListener("DOMContentLoaded",Q);R()}):document.attachEvent("onreadystatechange",function Y(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",Y),R()})}})};"object"===typeof module?module.exports=g:(window.FontFaceObserver=g,window.FontFaceObserver.prototype.load=g.prototype.load);console.log("font loader not exist : create new instance of font loader")}g=document.createElement("style");
g.type="text/css";g.appendChild(document.createTextNode("@font-face {font-family: 'logofont';src: url('media/fonts/logofont.woff2') format('woff2'),url('media/fonts/logofont.woff') format('woff'),url('media/fonts/logofont.ttf') format('truetype')}"));document.head.appendChild(g);ig.splashLogoFontLoaded=!1;(new FontFaceObserver("logofont")).load().then(function(){ig.splashLogoFontLoaded=!0}).catch(function(){console.log("Splash font failed to load :","media/fonts/logofont")})});ig.baked=!0;
ig.module("plugins.audio.bgm-intro-loop").requires("impact.game","plugins.audio.sound-handler","game.entities.opening-marketjs-logo").defines(function(){ig.Game.inject({introDone:!1,introInit:function(){ig.soundHandler.introPlayer.volume(ig.soundHandler.bgmPlayer.getVolume());ig.soundHandler.bgmPlayer.stop();ig.game.introDone||(ig.soundHandler.bgmPlayer.isSupported?ig.game.introDone||(ig.soundHandler.introPlayer.play("intro"),console.log("Playing intro..."),ig.game.introDone=!0):(console.warn("WebAudio not supported, intro skipped."),
document.body.addEventListener("click",function(){ig.soundHandler.bgmPlayer.play(ig.soundHandler.bgmPlayer.soundList.background)})))}});EntityOpeningMarketJSLogo.inject({playBgm:function(){ig.game.introInit()}})});ig.baked=!0;
ig.module("plugins.io.storage").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(b){return null!==this.get(b)},initUnset:function(b,c){null===this.get(b)&&this.set(b,c)},get:function(b){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(b))}catch(c){return window.localStorage.getItem(b)}},
getInt:function(b){return~~this.get(b)},getFloat:function(b){return parseFloat(this.get(b))},getBool:function(b){return!!this.get(b)},key:function(b){return this.isCapable()?window.localStorage.key(b):null},set:function(b,c){if(!this.isCapable())return null;try{window.localStorage.setItem(b,JSON.stringify(c))}catch(d){console.log(d)}},setHighest:function(b,c){c>this.getFloat(b)&&this.set(b,c)},remove:function(b){if(!this.isCapable())return null;window.localStorage.removeItem(b)},clear:function(){if(!this.isCapable())return null;
window.localStorage.clear()}})});ig.baked=!0;
ig.module("plugins.io.mouse").defines(function(){Mouse=ig.Class.extend({pos:new Vector2(0,0),bindings:{click:[ig.KEY.MOUSE1]},init:function(){ig.input.initMouse();for(var b in this.bindings){this[b]=b;for(var c=0;c<this.bindings[b].length;c++)ig.input.bind(this.bindings[b][c],b)}},getPos:function(){this.pos.set(ig.input.mouse.x/ig.sizeHandler.sizeRatio.x/ig.sizeHandler.scaleRatioMultiplier.x,ig.input.mouse.y/ig.sizeHandler.sizeRatio.y/ig.sizeHandler.scaleRatioMultiplier.y);return this.pos}})});
ig.baked=!0;ig.module("plugins.io.keyboard").defines(function(){Keyboard=ig.Class.extend({bindings:{jump:[ig.KEY.W,ig.KEY.UP_ARROW],moveright:[ig.KEY.D,ig.KEY.RIGHT_ARROW],moveleft:[ig.KEY.A,ig.KEY.LEFT_ARROW],shoot:[ig.KEY.S,ig.KEY.DOWN_ARROW,ig.KEY.SPACE]},init:function(){for(var b in this.bindings){this[b]=b;for(var c=0;c<this.bindings[b].length;c++)ig.input.bind(this.bindings[b][c],b)}}})});ig.baked=!0;
ig.module("plugins.io.gamepad-input").defines(function(){ig.PADKEY={BUTTON_0:0,PADBUTTON_1:1,BUTTON_2:2,BUTTON_3:3,BUTTON_LEFT_BUMPER:4,BUTTON_RIGHT_BUMPER:5,BUTTON_LEFT_TRIGGER:6,BUTTON_RIGHT_TRIGGER:7,BUTTON_LEFT_JOYSTICK:10,BUTTON_RIGHT_JOYSTICK:11,BUTTON_DPAD_UP:12,BUTTON_DPAD_DOWN:13,BUTTON_DPAD_LEFT:14,BUTTON_DPAD_RIGHT:15,BUTTON_MENU:16,AXIS_LEFT_JOYSTICK_X:0,AXIS_LEFT_JOYSTICK_Y:1,AXIS_RIGHT_JOYSTICK_X:2,AXIS_RIGHT_JOYSTICK_Y:3};ig.GamepadInput=ig.Class.extend({isInit:!1,isSupported:!1,list:[],
bindings:{},states:{},presses:{},releases:{},downLocks:{},upLocks:{},leftStick:{x:0,y:0},rightStick:{x:0,y:0},start:function(){if(!this.isInit){this.isInit=!0;var b=navigator.getGamepads||navigator.webkitGetGamepads;b&&(!navigator.getGamepads&&navigator.webkitGetGamepads&&(navigator.getGamepads=navigator.webkitGetGamepads),this.list=navigator.getGamepads());this.isSupported=b}},isAvailable:function(){return this.isInit&&this.isSupported},buttonPressed:function(b){return"object"==typeof b?b.pressed:
1==b},buttonDown:function(b){if(b=this.bindings[b])this.states[b]=!0,this.downLocks[b]||(this.presses[b]=!0,this.downLocks[b]=!0)},buttonUp:function(b){if((b=this.bindings[b])&&this.downLocks[b]&&!this.upLocks[b])this.states[b]=!1,this.releases[b]=!0,this.upLocks[b]=!0},clearPressed:function(){for(var b in this.releases)this.states[b]=!1,this.downLocks[b]=!1;this.releases={};this.presses={};this.upLocks={}},bind:function(b,c){this.bindings[b]=c},unbind:function(b){this.releases[this.bindings[b]]=
!0;this.bindings[b]=null},unbindAll:function(){this.bindings={};this.states={};this.presses={};this.releases={};this.downLocks={};this.upLocks={}},state:function(b){return this.states[b]},pressed:function(b){return this.presses[b]},released:function(b){return this.releases[b]},clamp:function(b,c,d){return b<c?c:b>d?d:b},pollGamepads:function(){if(this.isSupported){this.leftStick.x=0;this.leftStick.y=0;this.rightStick.x=0;this.rightStick.y=0;this.list=navigator.getGamepads();for(var b in this.bindings){for(var c=
!1,d=0;d<this.list.length;d++){var e=this.list[d];if(e&&e.buttons&&this.buttonPressed(e.buttons[b])){c=!0;break}}c?this.buttonDown(b):this.buttonUp(b)}for(d=0;d<this.list.length;d++)if((e=this.list[d])&&e.axes){b=e.axes[ig.GAMEPADINPUT.AXIS_LEFT_JOYSTICK_X];var c=e.axes[ig.GAMEPADINPUT.AXIS_LEFT_JOYSTICK_Y],f=e.axes[ig.GAMEPADINPUT.AXIS_RIGHT_JOYSTICK_X],e=e.axes[ig.GAMEPADINPUT.AXIS_RIGHT_JOYSTICK_Y];this.leftStick.x+=isNaN(b)?0:b;this.leftStick.y+=isNaN(c)?0:c;this.rightStick.x+=isNaN(f)?0:f;this.rightStick.y+=
isNaN(e)?0:e}0<this.list.length&&(this.leftStick.x=this.clamp(this.leftStick.x,-1,1),this.leftStick.y=this.clamp(this.leftStick.y,-1,1),this.rightStick.x=this.clamp(this.rightStick.x,-1,1),this.rightStick.y=this.clamp(this.rightStick.y,-1,1))}}})});ig.baked=!0;
ig.module("plugins.io.gamepad").requires("plugins.io.gamepad-input").defines(function(){Gamepad=ig.Class.extend({bindings:{padJump:[ig.PADKEY.BUTTON_0]},init:function(){ig.gamepadInput.start();for(var b in this.bindings)for(var c=0;c<this.bindings[b].length;c++)ig.gamepadInput.bind(this.bindings[b][c],b)},press:function(){},held:function(){},release:function(){}})});ig.baked=!0;
ig.module("plugins.io.multitouch").defines(function(){Multitouch=ig.Class.extend({init:function(){ig.multitouchInput.start()},getTouchesPos:function(){if(ig.ua.mobile){if(0<ig.multitouchInput.touches.length){for(var b=[],c=0;c<ig.multitouchInput.touches.length;c++){var d=ig.multitouchInput.touches[c];b.push({x:d.x,y:d.y})}return b}return null}}})});ig.baked=!0;
ig.module("plugins.io.multitouch-input").defines(function(){ig.MultitouchInput=ig.Class.extend({isStart:!1,touches:[],multitouchCapable:!1,lastEventUp:null,start:function(){this.isStart||(this.isStart=!0,navigator.maxTouchPoints&&1<navigator.maxTouchPoints&&(this.multitouchCapable=!0),ig.ua.touchDevice&&(window.navigator.msPointerEnabled&&(ig.system.canvas.addEventListener("MSPointerDown",this.touchdown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.touchup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",
this.touchmove.bind(this),!1),ig.system.canvas.style.msContentZooming="none",ig.system.canvas.style.msTouchAction="none"),ig.system.canvas.addEventListener("touchstart",this.touchdown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.touchup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.touchmove.bind(this),!1)))},touchmove:function(b){if(ig.ua.touchDevice){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||
ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight);if(b.touches){for(;0<this.touches.length;)this.touches.pop();!this.multitouchCapable&&1<b.touches.length&&(this.multitouchCapable=!0);var e={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(e=ig.system.canvas.getBoundingClientRect());for(var f=0;f<b.touches.length;f++){var g=b.touches[f];g&&this.touches.push({x:(g.clientX-e.left)/c,y:(g.clientY-e.top)/d})}}else this.windowMove(b)}try{ig.soundHandler.unlockWebAudio()}catch(m){}},
touchdown:function(b){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight);if(window.navigator.msPointerEnabled)this.windowKeyDown(b);else if(ig.ua.touchDevice&&b.touches){for(;0<this.touches.length;)this.touches.pop();!this.multitouchCapable&&1<b.touches.length&&(this.multitouchCapable=!0);var e={left:0,top:0};ig.system.canvas.getBoundingClientRect&&
(e=ig.system.canvas.getBoundingClientRect());for(var f=0;f<b.touches.length;f++){var g=b.touches[f];g&&this.touches.push({x:(g.clientX-e.left)/c,y:(g.clientY-e.top)/d})}}},touchup:function(b){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth;parseInt(ig.system.canvas.offsetHeight);c=ig.system.scale*(c/ig.system.realWidth);if(window.navigator.msPointerEnabled)this.windowKeyUp(b);else{this.lastEventUp=b;var d={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(d=ig.system.canvas.getBoundingClientRect());
if(ig.ua.touchDevice){b=(b.changedTouches[0].clientX-d.left)/c;for(c=0;c<this.touches.length;c++)this.touches[c].x>=b-40&&this.touches[c].x<=b+40&&this.touches.splice(c,1)}}ig.visibilityHandler.onChange("focus");try{ig.soundHandler.unlockWebAudio()}catch(e){}},windowKeyDown:function(b){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight);
if(window.navigator.msPointerEnabled){var e={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(e=ig.system.canvas.getBoundingClientRect());b=b.changedTouches?b.changedTouches:[b];for(var f=0;f<b.length;++f){for(var g=b[f],m="undefined"!=typeof g.identifier?g.identifier:"undefined"!=typeof g.pointerId?g.pointerId:1,p=(g.clientX-e.left)/c,g=(g.clientY-e.top)/d,j=0;j<this.touches.length;++j)this.touches[j].identifier==m&&this.touches.splice(j,1);this.touches.push({x:p,y:g,identifier:m})}for(c=0;c<
this.touches.length;c++);}},windowKeyUp:function(b){b="undefined"!=typeof b.identifier?b.identifier:"undefined"!=typeof b.pointerId?b.pointerId:1;for(var c=0;c<this.touches.length;++c)this.touches[c].identifier==b&&this.touches.splice(c,1);for(;0<this.touches.length;)this.touches.pop();ig.visibilityHandler.onChange("focus");try{ig.soundHandler.unlockWebAudio()}catch(d){}},windowMove:function(b){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||
ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight),e={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(e=ig.system.canvas.getBoundingClientRect());if(window.navigator.msPointerEnabled)for(var f="undefined"!=typeof b.identifier?b.identifier:"undefined"!=typeof b.pointerId?b.pointerId:1,g=0;g<this.touches.length;++g)if(this.touches[g].identifier==f){var m=(b.clientY-e.top)/d;this.touches[g].x=(b.clientX-e.left)/c;this.touches[g].y=m}try{ig.soundHandler.unlockWebAudio()}catch(p){}}})});
ig.baked=!0;
ig.module("plugins.io.fake-storage").requires("impact.game").defines(function(){ig.FakeStorage=ig.Class.extend({tempData:{},init:function(){ig.FakeStorage.instance=this},initUnset:function(b,c){null===this.get(b)&&this.set(b,c)},set:function(b,c){this.tempData[b]=JSON.stringify(c)},setHighest:function(b,c){c>this.getFloat(b)&&this.set(b,c)},get:function(b){return"undefined"==typeof this.tempData[b]?null:JSON.parse(this.tempData[b])},getInt:function(b){return~~this.get(b)},getFloat:function(b){return parseFloat(this.get(b))},getBool:function(b){return!!this.get(b)},
isSet:function(b){return null!==this.get(b)},remove:function(b){delete this.tempData[b]},clear:function(){this.tempData={}}})});ig.baked=!0;
ig.module("plugins.io.io-manager").requires("plugins.io.storage","plugins.io.mouse","plugins.io.keyboard","plugins.io.gamepad","plugins.io.multitouch","plugins.io.multitouch-input","plugins.io.gamepad-input","plugins.io.fake-storage").defines(function(){IoManager=ig.Class.extend({version:"1.0.0",storage:null,localStorageSupport:!1,mouse:null,keyboard:null,multitouch:null,gamepad:null,init:function(){ig.multitouchInput=new ig.MultitouchInput;ig.gamepadInput=new ig.GamepadInput;this.unbindAll();this.initStorage();
this.initMouse();this.initKeyboard()},unbindAll:function(){ig.input.unbindAll();ig.gamepadInput.unbindAll()},initStorage:function(){try{window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),this.storage=new ig.Storage}catch(b){console.log("using fake storage"),this.storage=new ig.FakeStorage}},initMouse:function(){this.mouse=new Mouse},initKeyboard:function(){this.keyboard=new Keyboard},initMultitouch:function(){this.multitouch=new Multitouch},initGamepad:function(){this.gamepad=
new Gamepad},press:function(b){return ig.input.pressed(b)||this.gamepad&&this.gamepad.press(b)?!0:!1},held:function(b){return ig.input.state(b)||this.gamepad&&this.gamepad.state(b)?!0:!1},release:function(b){return ig.input.released(b)||this.gamepad&&this.gamepad.released(b)?!0:!1},getClickPos:function(){return this.mouse.getPos()},getTouchesPos:function(){return this.multitouch.getTouchesPos()},checkOverlap:function(b,c,d,e,f){return b.x>c+e||b.x<c||b.y>d+f||b.y<d?!1:!0},_supportsLocalStorage:function(){try{return localStorage.setItem("test",
"test"),localStorage.removeItem("test"),this.localStorageSupport="localStorage"in window&&null!==window.localStorage}catch(b){return this.localStorageSupport}},storageIsSet:function(b){return"function"===typeof this.storage.isSet?this.storage.isSet(b):null},storageGet:function(b){return"function"===typeof this.storage.get?this.storage.get(b):null},storageSet:function(b,c){return"function"===typeof this.storage.set?this.storage.set(b,c):null},assert:function(b,c,d){if(c!==d)throw"actualValue:"+c+" not equal to testValue:"+
d+" at "+b;}})});ig.baked=!0;
ig.module("plugins.io.storage-manager").requires("impact.game","plugins.io.io-manager").defines(function(){ig.Game.prototype.name="MJS-Game";ig.Game.prototype.version="1.0.0";ig.Game.prototype.sessionData={};ig.Game.prototype.initData=function(){return this.sessionData={sound:0.5,music:0.5,level:1,score:0}};ig.Game.prototype.setupStorageManager=function(){"undefined"===typeof this.name?console.error("Cannot found Game Name, Storage Manager Cancelled."):"undefined"===typeof this.version?console.error("Cannot found Game Version, Storage Manager Cancelled."):
(this.io||(this.io=new IoManager,console.log("IO Manager doesn't existed. Initialize...")),console.log("Plug in Storage Manager"),this.storage=this.io.storage,this.storageName=this.name+"-v"+this.version,this.loadAll())};ig.Game.prototype.loadAll=function(){var b=this.storage.get(this.storageName);if(null===b||"undefined"===typeof b)b=this.initData();for(var c in b)this.sessionData[c]=b[c];this.storage.set(this.storageName,b)};ig.Game.prototype.saveAll=function(){var b=this.storage.get(this.storageName),
c;for(c in b)b[c]=this.sessionData[c];this.storage.set(this.storageName,b)};ig.Game.prototype.load=function(b){var c=this.storage.get(this.storageName);this.sessionData[b]=c[b];return c[b]};ig.Game.prototype.save=function(b,c){var d=this.storage.get(this.storageName);d[b]=c;this.sessionData[b]=c;this.storage.set(this.storageName,d)}});ig.baked=!0;
ig.module("plugins.responsive.responsive-utils").requires("impact.system").defines(function(){ig.responsive={width:0,height:0,halfWidth:0,halfHeight:0,originalWidth:0,originalHeight:0,fillScale:1,scaleX:1,scaleY:1,toAnchor:function(b,c,d){switch(d){case "top-left":case "left-top":return this.toAnchorTopLeft(b,c);case "top-center":case "center-top":case "top":return this.toAnchorTopCenter(b,c);case "top-right":case "right-top":return this.toAnchorTopRight(b,c);case "left-middle":case "middle-left":case "left":return this.toAnchorLeftMiddle(b,
c);case "center-middle":case "middle-center":case "middle":case "center":return this.toAnchorCenterMiddle(b,c);case "right-middle":case "middle-right":case "right":return this.toAnchorRightMiddle(b,c);case "bottom-left":case "left-bottom":return this.toAnchorBottomLeft(b,c);case "bottom-center":case "center-bottom":case "bottom":return this.toAnchorBottomCenter(b,c);case "bottom-right":case "right-bottom":return this.toAnchorBottomRight(b,c);default:return this.toAnchorDefault(b,c)}},toAnchorDefault:function(b,
c){return{x:b+(this.width-this.originalWidth)/2,y:c+(this.height-this.originalHeight)/2}},toAnchorCenterMiddle:function(b,c){return{x:b+this.halfWidth,y:c+this.halfHeight}},toAnchorLeftMiddle:function(b,c){return{x:b,y:c+this.halfHeight}},toAnchorTopCenter:function(b,c){return{x:b+this.halfWidth,y:c}},toAnchorRightMiddle:function(b,c){return{x:b+this.width,y:c+this.halfHeight}},toAnchorBottomCenter:function(b,c){return{x:b+this.halfWidth,y:c+this.height}},toAnchorTopLeft:function(b,c){return{x:b,
y:c}},toAnchorBottomLeft:function(b,c){return{x:b,y:c+this.height}},toAnchorTopRight:function(b,c){return{x:b+this.width,y:c}},toAnchorBottomRight:function(b,c){return{x:b+this.width,y:c+this.height}},drawScaledImage:function(b,c,d,e,f,g,m){g||(g=0);m||(m=0);var p=ig.system.context;p.save();p.translate(c,d);(1!=e||1!=f)&&p.scale(e,f);b.draw(-b.width*g,-b.height*m);p.restore()}}});ig.baked=!0;
ig.module("plugins.responsive.responsive-plugin").requires("impact.system","impact.entity","plugins.handlers.size-handler","plugins.responsive.responsive-utils").defines(function(){ig.SizeHandler.inject({resize:function(){this.parent()},sizeCalcs:function(){this.originalResolution||(this.originalResolution=new Vector2(this.desktop.actualResolution.x,this.desktop.actualResolution.y),ig.responsive.originalWidth=this.desktop.actualResolution.x,ig.responsive.originalHeight=this.desktop.actualResolution.y);
var b=window.innerWidth,c=window.innerHeight,d=b/c,e=this.originalResolution.x/this.originalResolution.y,f=0,g=0;this.windowSize=new Vector2(b,c);d<e?(f=this.originalResolution.x,g=f/d,ig.responsive.scaleX=1,ig.responsive.scaleY=g/this.originalResolution.y):(g=this.originalResolution.y,f=g*d,ig.responsive.scaleX=f/this.originalResolution.x,ig.responsive.scaleY=1);this.scaleRatioMultiplier=new Vector2(b/f,c/g);this.desktop.actualResolution=new Vector2(f,g);this.mobile.actualResolution=new Vector2(f,
g);this.desktop.actualSize=new Vector2(b,c);this.mobile.actualSize=new Vector2(b,c);ig.responsive.width=f;ig.responsive.height=g;ig.responsive.halfWidth=f/2;ig.responsive.halfHeight=g/2;ig.responsive.fillScale=Math.max(ig.responsive.scaleX,ig.responsive.scaleY)},resizeLayers:function(){ig.system.resize(ig.sizeHandler.desktop.actualResolution.x,ig.sizeHandler.desktop.actualResolution.y);for(var b=0;b<this.coreDivsToResize.length;b++){var c=ig.domHandler.getElementById(this.coreDivsToResize[b]),d=Math.floor(ig.sizeHandler.windowSize.x/
2-ig.sizeHandler.desktop.actualSize.x/2),e=Math.floor(ig.sizeHandler.windowSize.y/2-ig.sizeHandler.desktop.actualSize.y/2);0>d&&(d=0);0>e&&(e=0);ig.domHandler.resizeOffset(c,Math.floor(ig.sizeHandler.desktop.actualSize.x),Math.floor(ig.sizeHandler.desktop.actualSize.y),d,e)}for(var f in this.adsToResize)b=ig.domHandler.getElementById("#"+f),c=ig.domHandler.getElementById("#"+f+"-Box"),d=(window.innerWidth-this.adsToResize[f]["box-width"])/2+"px",e=(window.innerHeight-this.adsToResize[f]["box-height"])/
2+"px",b&&ig.domHandler.css(b,{width:window.innerWidth,height:window.innerHeight}),c&&ig.domHandler.css(c,{left:d,top:e});b=ig.domHandler.getElementById("#canvas");c=ig.domHandler.getOffsets(b);b=c.left;c=c.top;d=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,ig.sizeHandler.scaleRatioMultiplier.y);for(f in this.dynamicClickableEntityDivs)e=ig.domHandler.getElementById("#"+f),ig.domHandler.css(e,{"float":"left",position:"absolute",left:Math.floor(b+this.dynamicClickableEntityDivs[f].entity_pos_x*this.scaleRatioMultiplier.x)+
"px",top:Math.floor(c+this.dynamicClickableEntityDivs[f].entity_pos_y*this.scaleRatioMultiplier.y)+"px",width:Math.floor(this.dynamicClickableEntityDivs[f].width*this.scaleRatioMultiplier.x)+"px",height:Math.floor(this.dynamicClickableEntityDivs[f].height*this.scaleRatioMultiplier.y)+"px","z-index":3}),this.dynamicClickableEntityDivs[f]["font-size"]&&ig.domHandler.css(e,{"font-size":this.dynamicClickableEntityDivs[f]["font-size"]*d+"px"});$("#ajaxbar").width(this.windowSize.x);$("#ajaxbar").height(this.windowSize.y)},
reorient:function(){ig.ua.mobile?(this.resize(),this.resizeAds()):this.resize();"undefined"!=typeof BABYLON&&this.resizeBabylon();ig.game&&(ig.game.update(),ig.game.draw())},resizeBabylon:function(){var b=window.innerWidth,c=window.innerHeight,d=b/c,e=ig.responsive.originalWidth,f=ig.responsive.originalHeight,g=e/f,m=Math.max(e,f);ig.ua.mobile&&(m=640);minSize=Math.min(e,f);d>g?(c>f&&(c=f),b=Math.floor(window.innerWidth/window.innerHeight*c),b>m&&(b=m),c=Math.floor(window.innerHeight/window.innerWidth*
b)):(b>e&&(b=e),c=Math.floor(window.innerHeight/window.innerWidth*b),c>m&&(c=m),b=Math.floor(window.innerWidth/window.innerHeight*c));e=d=1;window.innerWidth>m&&(d=window.innerWidth/m);window.innerHeight>m&&(e=window.innerHeight/m);wgl.system.engine.setSize(b,c);wgl.system.engine.resize();wgl.system.engine.setHardwareScalingLevel(Math.max(d,e));ig.gameScene.zoomFactor=1;ig.ua.mobile&&minSize<m&&(ig.gameScene.zoomFactor=m/minSize);ig.wglW=b;ig.wglH=c;ig.wglInnerW=window.innerWidth;ig.wglInnerH=window.innerHeight;
console.log("babylon renderSize : ",wgl.system.engine.getRenderWidth(),wgl.system.engine.getRenderHeight(),"hwScalingLevel : ",wgl.system.engine.getHardwareScalingLevel())}});ig.Entity.inject({init:function(b,c,d){this.parent(b,c,d);this.anchorType="none";this.anchoredPositionX=b;this.anchoredPositionY=c},setAnchoredPosition:function(b,c,d){d||(d="default");this.anchorType=d;this.anchoredPositionX=b;this.anchoredPositionY=c},update:function(){this.parent();if(""!=this.anchorType&&"none"!=this.anchorType){var b=
ig.responsive.toAnchor(this.anchoredPositionX,this.anchoredPositionY,this.anchorType);this.pos.x=b.x;this.pos.y=b.y}}})});ig.baked=!0;
ig.module("plugins.splash-loader").requires("impact.impact","impact.loader","impact.animation","plugins.responsive.responsive-plugin").defines(function(){LoaderInject=ig.Loader.inject({load:function(){this.parent();arena.onload();title.onload();loadingFill.onload();loadingBG.onload()}});LoaderImage=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(b){return ig.Image.cache[b.src]||null},init:function(b){this.path=b.src;this.imgElement=
b;this.load()},load:function(b){this.loaded=!0;this.loadCallback=b||null;this.data=this.imgElement;this.data.onload=this.onload.bind(this);this.data.onerror=this.onerror.bind(this);if(this.data.failed)this.data.onerror();else this.data.onload();this.loaded?b&&b(this.path,!0):(!this.loaded&&ig.ready?(this.loadCallback=b||null,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.addResource(this),ig.Image.cache[this.path]=
this)},reload:function(){this.loaded=!1;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.src=this.path+"?"+Date.now()},onload:function(){this.width=this.data.width;this.height=this.data.height;this.loaded=!0;"undefined"!=typeof ig.system&&1!=ig.system.scale&&(console.log("RESIZING"),this.resize(ig.system.scale));this.loadCallback&&this.loadCallback(this.path,!0)},onerror:function(){this.failed=!0;this.loadCallback&&this.loadCallback(this.path,!1)},resize:function(b){var c=ig.getImagePixels(this.data,
0,0,this.width,this.height),d=this.width*b,e=this.height*b,f=ig.$new("canvas");f.width=d;f.height=e;for(var g=f.getContext("2d"),m=g.getImageData(0,0,d,e),p=0;p<e;p++)for(var j=0;j<d;j++){var n=4*(Math.floor(p/b)*this.width+Math.floor(j/b)),r=4*(p*d+j);m.data[r]=c.data[n];m.data[r+1]=c.data[n+1];m.data[r+2]=c.data[n+2];m.data[r+3]=c.data[n+3]}g.putImageData(m,0,0);this.data=f},draw:function(b,c,d,e,f,g){if(this.loaded){var m=ig.system.scale;f=(f?f:this.width)*m;g=(g?g:this.height)*m;ig.system.context.drawImage(this.data,
d?d*m:0,e?e*m:0,f,g,ig.system.getDrawPos(b),ig.system.getDrawPos(c),f,g);ig.Image.drawCount++}},drawImage:function(b,c,d,e,f,g,m,p){b=b?b:0;c=c?c:0;2>=arguments.length?this.draw(b,c):4>=arguments.length?(d=d?d:this.width,e=e?e:this.height,this.draw(b,c,0,0,this.width,this.height,d,e)):(d=d?d:this.width,e=e?e:this.height,m=m?m:this.width,p=p?p:this.height,this.draw(f?f:0,g?g:0,b,c,d,e,m,p))},drawTile:function(b,c,d,e,f,g,m){f=f?f:e;if(this.loaded&&!(e>this.width||f>this.height)){var p=ig.system.scale,
j=Math.floor(e*p),n=Math.floor(f*p),r=g?-1:1,q=m?-1:1;if(g||m)ig.system.context.save(),ig.system.context.scale(r,q);ig.system.context.drawImage(this.data,Math.floor(d*e)%this.width*p,Math.floor(d*e/this.width)*f*p,j,n,ig.system.getDrawPos(b)*r-(g?j:0),ig.system.getDrawPos(c)*q-(m?n:0),j,n);(g||m)&&ig.system.context.restore();ig.Image.drawCount++}}});ig.SplashLoader=ig.Loader.extend({tapToStartDivId:"tap-to-start",bgImg:new LoaderImage(arena),title:new LoaderImage(title),frameFill:new LoaderImage(loadingFill),
frameBG:new LoaderImage(loadingBG),tmpScale:1,init:function(b,c){this.parent(b,c);this.ctx=ig.system.context;ig.apiHandler.run("MJSPreroll")},end:function(){this.parent();this._drawStatus=1;_SETTINGS.TapToStartAudioUnlock.Enabled?this.tapToStartDiv(function(){ig.system.setGame(MyGame)}):ig.system.setGame(MyGame);this.draw()},tapToStartDiv:function(b){this.desktopCoverDIV=document.getElementById(this.tapToStartDivId);if(!this.desktopCoverDIV){this.desktopCoverDIV=document.createElement("div");this.desktopCoverDIV.id=
this.tapToStartDivId;this.desktopCoverDIV.setAttribute("class","play");this.desktopCoverDIV.setAttribute("style","position: absolute; display: block; z-index: 999999; background-color: rgba(23, 32, 53, 0.7); visibility: visible; font-size: 10vmin; text-align: center; vertical-align: middle; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;");this.desktopCoverDIV.innerHTML="<div style='color:white;background-color: rgba(255, 255, 255, 0.3); border: 2px solid #fff; font-size:20px; border-radius: 5px; position: relative; float: left; top: 50%; left: 50%; transform: translate(-50%, -50%);'><div style='padding:20px 50px; font-family: montserrat;'>"+
_STRINGS.Splash.TapToStart+"</div></div>";(document.getElementById("play").parentNode||document.getElementById("ajaxbar")).appendChild(this.desktopCoverDIV);try{"undefined"!==typeof ig.sizeHandler?"undefined"!==typeof ig.sizeHandler.coreDivsToResize&&(ig.sizeHandler.coreDivsToResize.push("#"+this.tapToStartDivId),"function"===typeof ig.sizeHandler.reorient&&ig.sizeHandler.reorient()):"undefined"!==typeof coreDivsToResize&&(coreDivsToResize.push(this.tapToStartDivId),"function"===typeof sizeHandler&&
sizeHandler())}catch(c){console.log(c)}this.desktopCoverDIV.addEventListener("click",function(){ig.soundHandler.unlockWebAudio();this.setAttribute("style","visibility: hidden;");"function"===typeof b&&b()})}},drawCheck:0,draw:function(){this.getScale();this._drawStatus+=(this.status-this._drawStatus)/5;this.drawBg();this.ctx.save();var b=ig.responsive.toAnchor(0,200,"center").y;this.frameBG.drawImage(0.5*(ig.system.width-this.frameBG.width),b,this.frameBG.width,this.frameBG.height);0>=this._drawStatus?
this._drawStatus:1<this._drawStatus&&(this._drawStatus=1);var c=this._drawStatus*this.frameFill.width,d=this.frameFill.height;!(0>=c)&&!(0>=d)&&(this.frameFill.drawImage(0,0,c,d,0.5*(ig.system.width-this.frameFill.width),b+(this.frameBG.height-this.frameFill.height)/2,c,d),this.ctx.restore(),ig.system.context.save(),ig.system.context.font="27px mainfont",ig.system.context.fillStyle="#ffcb88",ig.system.context.strokeStyle="#b74509",ig.system.context.textAlign="center",ig.system.context.fillText("LOADING",
ig.system.width/2,b+this.frameBG.height/2+11),ig.system.context.strokeText("LOADING",ig.system.width/2,b+this.frameBG.height/2+11),ig.system.context.restore(),ig.system.context.save(),ig.system.context.font="27px nexabold",ig.system.context.fillText("preload nexabold",-100,-100),ig.system.context.restore(),this.drawVersion())},drawVersion:function(){if("undefined"!==typeof _SETTINGS.Versioning&&null!==_SETTINGS.Versioning&&_SETTINGS.Versioning.DrawVersion){var b=ig.system.context;fontSize=_SETTINGS.Versioning.FontSize;
fontFamily=_SETTINGS.Versioning.FontFamily;fillStyle=_SETTINGS.Versioning.FillStyle;b.save();b.textBaseline="bottom";b.textAlign="left";b.font=fontSize+" "+fontFamily||"10px Arial";b.fillStyle=fillStyle||"#ffffff";b.fillText("v"+_SETTINGS.Versioning.Version+"+build."+_SETTINGS.Versioning.Build,10,ig.system.height-10);b.restore()}},drawBg:function(){this.ctx.save();ig.responsive.width>this.bgImg.width?(console.log("landscape"),this.ctx.drawImage(this.bgImg.data,0,0,ig.responsive.width,ig.responsive.height)):
(console.log("portrait",ig.responsive.height),this.ctx.drawImage(this.bgImg.data,ig.system.width/2-this.bgImg.width/2,0,this.bgImg.width,ig.responsive.height));this.ctx.restore();this.ctx.save();this.ctx.scale(this.tmpScale,this.tmpScale);var b=ig.responsive.toAnchor(0,0,"center");this.title.draw((b.x-this.title.width*this.tmpScale/2)/this.tmpScale,(b.y-this.title.height*this.tmpScale/2)/this.tmpScale);this.ctx.restore()},getScale:function(){this.tmpScale=ig.responsive.scaleX;ig.responsive.scaleY>
this.tmpScale&&(this.tmpScale=ig.responsive.scaleY);var b=1,b=ig.responsive.originalWidth>ig.responsive.originalHeight?ig.responsive.originalWidth/ig.responsive.originalHeight:ig.responsive.originalHeight/ig.responsive.originalWidth;this.tmpScale>b&&(2.98<=this.tmpScale?(this.tmpScale=b,ig.ua.mobile&&(this.tmpScale=0.8*b)):2.4<=this.tmpScale?(this.tmpScale=0.8*b,ig.ua.mobile&&(this.tmpScale=0.7*b)):2.2<=this.tmpScale?(this.tmpScale=0.7*b,ig.ua.mobile&&(this.tmpScale=0.6*b)):this.tmpScale=1);ig.responsive.originalWidth>
ig.responsive.originalHeight?ig.responsive.width>ig.responsive.height&&(this.tmpScale=1):ig.responsive.width<ig.responsive.height&&(this.tmpScale=1)}})});ig.baked=!0;
ig.module("plugins.tween").requires("impact.entity").defines(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(b){for(var c=0;c<this.length;++c)if(this[c]===b)return c;return-1});ig.Entity.prototype.tweens=[];ig.Entity.prototype._preTweenUpdate=ig.Entity.prototype.update;ig.Entity.prototype.update=function(){this._preTweenUpdate();if(0<this.tweens.length){for(var b=[],c=0;c<this.tweens.length;c++)this.tweens[c].update(),this.tweens[c].complete||b.push(this.tweens[c]);this.tweens=
b}};ig.Entity.prototype.tween=function(b,c,d){b=new ig.Tween(this,b,c,d);this.tweens.push(b);return b};ig.Entity.prototype.pauseTweens=function(){for(var b=0;b<this.tweens.length;b++)this.tweens[b].pause()};ig.Entity.prototype.resumeTweens=function(){for(var b=0;b<this.tweens.length;b++)this.tweens[b].resume()};ig.Entity.prototype.stopTweens=function(b){for(var c=0;c<this.tweens.length;c++)this.tweens[c].stop(b)};ig.Tween=function(b,c,d,e){var f={},g={},m={},p=0,j=!1,n=!1,r=!1;this.duration=d;this.paused=
this.complete=!1;this.easing=ig.Tween.Easing.Linear.EaseNone;this.onComplete=!1;this.loop=this.delay=0;this.loopCount=-1;ig.merge(this,e);this.loopNum=this.loopCount;this.chain=function(b){r=b};this.initEnd=function(b,c,d){if("object"!==typeof c[b])d[b]=c[b];else for(subprop in c[b])d[b]||(d[b]={}),this.initEnd(subprop,c[b],d[b])};this.initStart=function(b,c,d,e){if("object"!==typeof d[b])"undefined"!==typeof c[b]&&(e[b]=d[b]);else for(subprop in d[b])e[b]||(e[b]={}),"undefined"!==typeof c[b]&&this.initStart(subprop,
c[b],d[b],e[b])};this.start=function(){this.paused=this.complete=!1;this.loopNum=this.loopCount;p=0;-1==b.tweens.indexOf(this)&&b.tweens.push(this);n=!0;j=new ig.Timer;for(var d in c)this.initEnd(d,c,g);for(d in g)this.initStart(d,g,b,f),this.initDelta(d,m,b,g)};this.initDelta=function(b,c,d,e){if("object"!==typeof e[b])c[b]=e[b]-d[b];else for(subprop in e[b])c[b]||(c[b]={}),this.initDelta(subprop,c[b],d[b],e[b])};this.propUpdate=function(b,c,d,e,f){if("object"!==typeof d[b])c[b]="undefined"!=typeof d[b]?
d[b]+e[b]*f:c[b];else for(subprop in d[b])this.propUpdate(subprop,c[b],d[b],e[b],f)};this.propSet=function(b,c,d){if("object"!==typeof c[b])d[b]=c[b];else for(subprop in c[b])d[b]||(d[b]={}),this.propSet(subprop,c[b],d[b])};this.update=function(){if(!n)return!1;if(this.delay){if(j.delta()<this.delay)return;this.delay=0;j.reset()}if(this.paused||this.complete)return!1;var c=(j.delta()+p)/this.duration,c=1<c?1:c,d=this.easing(c);for(property in m)this.propUpdate(property,b,f,m,d);if(1<=c){if(0==this.loopNum||
!this.loop){this.complete=!0;if(this.onComplete)this.onComplete();r&&r.start();return!1}if(this.loop==ig.Tween.Loop.Revert){for(property in f)this.propSet(property,f,b);p=0;j.reset();-1!=this.loopNum&&this.loopNum--}else if(this.loop==ig.Tween.Loop.Reverse){c={};d={};ig.merge(c,g);ig.merge(d,f);ig.merge(f,c);ig.merge(g,d);for(property in g)this.initDelta(property,m,b,g);p=0;j.reset();-1!=this.loopNum&&this.loopNum--}}};this.pause=function(){this.paused=!0;j&&j.delta&&(p+=j.delta())};this.resume=function(){this.paused=
!1;j&&j.reset&&j.reset()};this.stop=function(b){b&&(this.loop=this.complete=this.paused=!1,p+=d,this.update());this.complete=!0}};ig.Tween.Loop={Revert:1,Reverse:2};ig.Tween.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};ig.Tween.Easing.Linear.EaseNone=function(b){return b};ig.Tween.Easing.Quadratic.EaseIn=function(b){return b*b};ig.Tween.Easing.Quadratic.EaseOut=function(b){return-b*(b-2)};ig.Tween.Easing.Quadratic.EaseInOut=
function(b){return 1>(b*=2)?0.5*b*b:-0.5*(--b*(b-2)-1)};ig.Tween.Easing.Cubic.EaseIn=function(b){return b*b*b};ig.Tween.Easing.Cubic.EaseOut=function(b){return--b*b*b+1};ig.Tween.Easing.Cubic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b:0.5*((b-=2)*b*b+2)};ig.Tween.Easing.Quartic.EaseIn=function(b){return b*b*b*b};ig.Tween.Easing.Quartic.EaseOut=function(b){return-(--b*b*b*b-1)};ig.Tween.Easing.Quartic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b*b:-0.5*((b-=2)*b*b*b-2)};ig.Tween.Easing.Quintic.EaseIn=
function(b){return b*b*b*b*b};ig.Tween.Easing.Quintic.EaseOut=function(b){return(b-=1)*b*b*b*b+1};ig.Tween.Easing.Quintic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b*b*b:0.5*((b-=2)*b*b*b*b+2)};ig.Tween.Easing.Sinusoidal.EaseIn=function(b){return-Math.cos(b*Math.PI/2)+1};ig.Tween.Easing.Sinusoidal.EaseOut=function(b){return Math.sin(b*Math.PI/2)};ig.Tween.Easing.Sinusoidal.EaseInOut=function(b){return-0.5*(Math.cos(Math.PI*b)-1)};ig.Tween.Easing.Exponential.EaseIn=function(b){return 0==b?0:Math.pow(2,
10*(b-1))};ig.Tween.Easing.Exponential.EaseOut=function(b){return 1==b?1:-Math.pow(2,-10*b)+1};ig.Tween.Easing.Exponential.EaseInOut=function(b){return 0==b?0:1==b?1:1>(b*=2)?0.5*Math.pow(2,10*(b-1)):0.5*(-Math.pow(2,-10*(b-1))+2)};ig.Tween.Easing.Circular.EaseIn=function(b){return-(Math.sqrt(1-b*b)-1)};ig.Tween.Easing.Circular.EaseOut=function(b){return Math.sqrt(1- --b*b)};ig.Tween.Easing.Circular.EaseInOut=function(b){return 1>(b/=0.5)?-0.5*(Math.sqrt(1-b*b)-1):0.5*(Math.sqrt(1-(b-=2)*b)+1)};ig.Tween.Easing.Elastic.EaseIn=
function(b){var c,d=0.1,e=0.4;if(0==b)return 0;if(1==b)return 1;e||(e=0.3);!d||1>d?(d=1,c=e/4):c=e/(2*Math.PI)*Math.asin(1/d);return-(d*Math.pow(2,10*(b-=1))*Math.sin(2*(b-c)*Math.PI/e))};ig.Tween.Easing.Elastic.EaseOut=function(b){var c,d=0.1,e=0.4;if(0==b)return 0;if(1==b)return 1;e||(e=0.3);!d||1>d?(d=1,c=e/4):c=e/(2*Math.PI)*Math.asin(1/d);return d*Math.pow(2,-10*b)*Math.sin(2*(b-c)*Math.PI/e)+1};ig.Tween.Easing.Elastic.EaseInOut=function(b){var c,d=0.1,e=0.4;if(0==b)return 0;if(1==b)return 1;
e||(e=0.3);!d||1>d?(d=1,c=e/4):c=e/(2*Math.PI)*Math.asin(1/d);return 1>(b*=2)?-0.5*d*Math.pow(2,10*(b-=1))*Math.sin(2*(b-c)*Math.PI/e):0.5*d*Math.pow(2,-10*(b-=1))*Math.sin(2*(b-c)*Math.PI/e)+1};ig.Tween.Easing.Back.EaseIn=function(b){return b*b*(2.70158*b-1.70158)};ig.Tween.Easing.Back.EaseOut=function(b){return(b-=1)*b*(2.70158*b+1.70158)+1};ig.Tween.Easing.Back.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*(3.5949095*b-2.5949095):0.5*((b-=2)*b*(3.5949095*b+2.5949095)+2)};ig.Tween.Easing.Bounce.EaseIn=
function(b){return 1-ig.Tween.Easing.Bounce.EaseOut(1-b)};ig.Tween.Easing.Bounce.EaseOut=function(b){return(b/=1)<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375};ig.Tween.Easing.Bounce.EaseInOut=function(b){return 0.5>b?0.5*ig.Tween.Easing.Bounce.EaseIn(2*b):0.5*ig.Tween.Easing.Bounce.EaseOut(2*b-1)+0.5};ig.Tween.Interpolation={Linear:function(b,c){var d=b.length-1,e=d*c,f=Math.floor(e),g=TWEEN.Interpolation.Utils.Linear;
return 0>c?g(b[0],b[1],e):1<c?g(b[d],b[d-1],d-e):g(b[f],b[f+1>d?d:f+1],e-f)}}});ig.baked=!0;
ig.module("plugins.patches.entity-patch").requires("impact.entity").defines(function(){ig.Entity.inject({handleMovementTrace:function(b){this.standing=!1;b.collision.y&&(0<this.bounciness&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(0<this.vel.y&&(this.standing=!0),this.vel.y=0));b.collision.x&&(this.vel.x=0<this.bounciness&&Math.abs(this.vel.x)>this.minBounceVelocity?this.vel.x*-this.bounciness:0);if(b.collision.slope){var c=b.collision.slope;if(0<this.bounciness){var d=
this.vel.x*c.nx+this.vel.y*c.ny;this.vel.x=(this.vel.x-2*c.nx*d)*this.bounciness;this.vel.y=(this.vel.y-2*c.ny*d)*this.bounciness}else d=(this.vel.x*c.x+this.vel.y*c.y)/(c.x*c.x+c.y*c.y),this.vel.x=c.x*d,this.vel.y=c.y*d,c=Math.atan2(c.x,c.y),c>this.slopeStanding.min&&c<this.slopeStanding.max&&(this.standing=!0)}this.pos.x=b.pos.x;this.pos.y=b.pos.y}})});ig.baked=!0;
ig.module("plugins.tweens-handler").requires("impact.entity","plugins.tween","plugins.patches.entity-patch").defines(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(b){for(var d=0;d<this.length;++d)if(this[d]===b)return d;return-1});ig.TweensHandler=ig.Class.extend({_tweens:[],_systemPausedTweens:[],init:function(){},getAll:function(){return this._tweens},removeAll:function(){this._tweens=[]},add:function(b){this._tweens.push(b)},remove:function(b){b=this._tweens.indexOf(b);
-1!==b&&this._tweens.splice(b,1)},onSystemPause:function(){if(0===this._tweens.length)return!1;for(var b=0,d=null;b<this._tweens.length;)d=this._tweens[b],d._isPlaying&&(this._systemPausedTweens.push(d),d.pause()),b++;return!0},onSystemResume:function(){if(0===this._systemPausedTweens.length)return!1;for(var b=0;b<this._systemPausedTweens.length;)this._systemPausedTweens[b].resume(),b++;this._systemPausedTweens=[];return!0},update:function(b,d){if(0===this._tweens.length)return!1;var e=0;for(b=void 0!==
b?b:ig.game.tweens.now();e<this._tweens.length;)this._tweens[e].update(b)||d?e++:this._tweens.splice(e,1);return!0},now:function(){return Date.now()}});ig.TweenDef=ig.Class.extend({_ent:null,_valuesStart:{},_valuesEnd:{},_valuesStartRepeat:{},_duration:1E3,_repeat:0,_yoyo:!1,_isPlaying:!1,_reversed:!1,_delayTime:0,_startTime:null,_pauseTime:null,_easingFunction:ig.Tween.Easing.Linear.EaseNone,_interpolationFunction:ig.Tween.Interpolation.Linear,_chainedTweens:[],_onStartCallback:null,_onStartCallbackFired:!1,
_onUpdateCallback:null,_onCompleteCallback:null,_onStopCallback:null,_onPauseCallback:null,_onResumeCallback:null,_currentElapsed:0,init:function(b){this._object=b},to:function(b,d){this._valuesEnd=b;void 0!==d&&(this._duration=d);return this},start:function(b){if(this._isPlaying)return this;ig.game.tweens.add(this);this._isPlaying=!0;this._onStartCallbackFired=!1;this._startTime=void 0!==b?b:ig.game.tweens.now();this._startTime+=this._delayTime;for(var d in this._valuesEnd){if(this._valuesEnd[d]instanceof
Array){if(0===this._valuesEnd[d].length)continue;this._valuesEnd[d]=[this._object[d]].concat(this._valuesEnd[d])}void 0!==this._object[d]&&(this._valuesStart[d]=this._object[d],!1===this._valuesStart[d]instanceof Array&&(this._valuesStart[d]*=1),this._valuesStartRepeat[d]=this._valuesStart[d]||0)}return this},stop:function(){if(!this._isPlaying)return this;ig.game.tweens.remove(this);this._isPlaying=!1;null!==this._onStopCallback&&this._onStopCallback.call(this._object,this._object);this.stopChainedTweens();
return this},pause:function(){if(!this._isPlaying)return this;ig.game.tweens.remove(this);this._isPlaying=!1;this._pauseTime=ig.game.tweens.now();null!==this._onPauseCallback&&this._onPauseCallback.call(this._object,this._object);return this},resume:function(){if(this._isPlaying||!this._pauseTime)return this;var b=ig.game.tweens.now()-this._pauseTime;this._startTime+=b;ig.game.tweens.add(this);this._isPlaying=!0;null!==this._onResumeCallback&&this._onResumeCallback.call(this._object,this._object);
this._pauseTime=null;return this},end:function(){this.update(this._startTime+this._duration);return this},stopChainedTweens:function(){for(var b=0,d=this._chainedTweens.length;b<d;b++)this._chainedTweens[b].stop()},delay:function(b){this._delayTime=b;return this},repeat:function(b){this._repeat=b;return this},repeatDelay:function(b){this._repeatDelayTime=b;return this},yoyo:function(b){this._yoyo=b;return this},easing:function(b){this._easingFunction=b;return this},interpolation:function(b){this._interpolationFunction=
b;return this},chain:function(){this._chainedTweens=arguments;return this},onStart:function(b){this._onStartCallback=b;return this},onUpdate:function(b){this._onUpdateCallback=b;return this},onComplete:function(b){this._onCompleteCallback=b;return this},onStop:function(b){this._onStopCallback=b;return this},onPause:function(b){this._onPauseCallback=b;return this},onResume:function(b){this._onResumeCallback=b;return this},update:function(b){var d,e,f;if(b<this._startTime)return!0;!1===this._onStartCallbackFired&&
(null!==this._onStartCallback&&this._onStartCallback.call(this._object,this._object),this._onStartCallbackFired=!0);e=(b-this._startTime)/this._duration;this._currentElapsed=e=1<e?1:e;f=this._easingFunction(e);for(d in this._valuesEnd)if(void 0!==this._valuesStart[d]){var g=this._valuesStart[d]||0,m=this._valuesEnd[d];m instanceof Array?this._object[d]=this._interpolationFunction(m,f):("string"===typeof m&&(m="+"===m.charAt(0)||"-"===m.charAt(0)?g+parseFloat(m):parseFloat(m)),"number"===typeof m&&
(this._object[d]=g+(m-g)*f))}null!==this._onUpdateCallback&&this._onUpdateCallback.call(this._object,this._object,f);if(1===e)if(0<this._repeat){isFinite(this._repeat)&&this._repeat--;for(d in this._valuesStartRepeat)"string"===typeof this._valuesEnd[d]&&(this._valuesStartRepeat[d]=_valuesStartRepeat[d]+parseFloat(_valuesEnd[d])),this._yoyo&&(e=this._valuesStartRepeat[d],this._valuesStartRepeat[d]=this._valuesEnd[d],this._valuesEnd[d]=e),this._valuesStart[d]=this._valuesStartRepeat[d];this._yoyo&&
(this._reversed=!this._reversed);this._startTime=void 0!==this._repeatDelayTime?b+this._repeatDelayTime:b+this._delayTime}else{null!==this._onCompleteCallback&&this._onCompleteCallback.call(this._object,this._object);b=0;for(d=this._chainedTweens.length;b<d;b++)this._chainedTweens[b].start(this._startTime+this._duration);return!1}return!0}});var b=[1];ig.Tween.Interpolation={Linear:function(b,d){var e=b.length-1,f=e*d,g=Math.floor(f),m=ig.Tween.Interpolation.Utils.Linear;return 0>d?m(b[0],b[1],f):
1<d?m(b[e],b[e-1],e-f):m(b[g],b[g+1>e?e:g+1],f-g)},Bezier:function(b,d){for(var e=0,f=b.length-1,g=Math.pow,m=ig.Tween.Interpolation.Utils.Bernstein,p=0;p<=f;p++)e+=g(1-d,f-p)*g(d,p)*b[p]*m(f,p);return e},CatmullRom:function(b,d){var e=b.length-1,f=e*d,g=Math.floor(f),m=ig.Tween.Interpolation.Utils.CatmullRom;return b[0]===b[e]?(0>d&&(g=Math.floor(f=e*(1+d))),m(b[(g-1+e)%e],b[g],b[(g+1)%e],b[(g+2)%e],f-g)):0>d?b[0]-(m(b[0],b[0],b[1],b[1],-f)-b[0]):1<d?b[e]-(m(b[e],b[e],b[e-1],b[e-1],f-e)-b[e]):m(b[g?
g-1:0],b[g],b[e<g+1?e:g+1],b[e<g+2?e:g+2],f-g)},Utils:{Linear:function(b,d,e){return(d-b)*e+b},Bernstein:function(b,d){var e=ig.Tween.Interpolation.Utils.Factorial;return e(b)/e(d)/e(b-d)},Factorial:function(c){var d=1;if(b[c])return b[c];for(var e=c;1<e;e--)d*=e;return b[c]=d},CatmullRom:function(b,d,e,f,g){b=0.5*(e-b);f=0.5*(f-d);var m=g*g;return(2*d-2*e+b+f)*g*m+(-3*d+3*e-2*b-f)*m+b*g+d}}}});ig.baked=!0;
ig.module("plugins.url-parameters").defines(function(){ig.UrlParameters=ig.Class.extend({init:function(){switch(getQueryVariable("iphone")){case "true":ig.ua.iPhone=!0,console.log("iPhone mode")}var b=getQueryVariable("webview");if(b)switch(b){case "true":ig.ua.is_uiwebview=!0,console.log("webview mode")}if(b=getQueryVariable("debug"))switch(b){case "true":ig.game.showDebugMenu(),console.log("debug mode")}switch(getQueryVariable("view")){case "stats":ig.game.resetPlayerStats(),ig.game.endGame()}getQueryVariable("ad")}})});
ig.baked=!0;
ig.module("plugins.director").requires("impact.impact").defines(function(){ig.Director=ig.Class.extend({init:function(b,c){this.game=b;this.levels=[];this.currentLevel=0;this.append(c)},loadLevel:function(b){for(var c in ig.sizeHandler.dynamicClickableEntityDivs){var d=ig.domHandler.getElementById("#"+c);ig.domHandler.hide(d)}this.currentLevel=b;this.game.loadLevel(this.levels[b]);return!0},loadLevelWithoutEntities:function(b){this.currentLevel=b;this.game.loadLevelWithoutEntities(this.levels[b]);return!0},
append:function(b){newLevels=[];return"object"===typeof b?(b.constructor===[].constructor?newLevels=b:newLevels[0]=b,this.levels=this.levels.concat(newLevels),!0):!1},nextLevel:function(){return this.currentLevel+1<this.levels.length?this.loadLevel(this.currentLevel+1):!1},previousLevel:function(){return 0<=this.currentLevel-1?this.loadLevel(this.currentLevel-1):!1},jumpTo:function(b){var c=null;for(i=0;i<this.levels.length;i++)this.levels[i]==b&&(c=i);return 0<=c?this.loadLevel(c):!1},firstLevel:function(){return this.loadLevel(0)},
lastLevel:function(){return this.loadLevel(this.levels.length-1)},reloadLevel:function(){return this.loadLevel(this.currentLevel)}})});ig.baked=!0;
ig.module("plugins.impact-storage").requires("impact.game").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(b){return null!==this.get(b)},initUnset:function(b,c){null===this.get(b)&&this.set(b,c)},get:function(b){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(b))}catch(c){return window.localStorage.getItem(b)}},
getInt:function(b){return~~this.get(b)},getFloat:function(b){return parseFloat(this.get(b))},getBool:function(b){return!!this.get(b)},key:function(b){return this.isCapable()?window.localStorage.key(b):null},set:function(b,c){if(!this.isCapable())return null;try{window.localStorage.setItem(b,JSON.stringify(c))}catch(d){console.log(d)}},setHighest:function(b,c){c>this.getFloat(b)&&this.set(b,c)},remove:function(b){if(!this.isCapable())return null;window.localStorage.removeItem(b)},clear:function(){if(!this.isCapable())return null;
window.localStorage.clear()}})});ig.baked=!0;
ig.module("plugins.fullscreen").requires("impact.entity","plugins.handlers.size-handler","plugins.director").defines(function(){ig.Fullscreen={enableFullscreenButton:!0,_isEnabled:"notChecked",isEnabled:function(){"notChecked"==this._isEnabled&&(this._isEnabled=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled?!0:!1);return this._isEnabled},isFullscreen:function(){return ig.Fullscreen.isEnabled()&&(document.fullscreenElement||
document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)?!0:!1},toggleFullscreen:function(){ig.Fullscreen.isFullscreen()?ig.Fullscreen.exitFullscreen():ig.Fullscreen.requestFullscreen();ig.sizeHandler.orientationDelayHandler();if(ig&&ig.visibilityHandler)ig.visibilityHandler.onChange("focus");try{ig.soundHandler.unlockWebAudio()}catch(b){}},requestFullscreen:function(){var b=document.documentElement;b.requestFullscreen?b.requestFullscreen():b.webkitRequestFullscreen?
b.webkitRequestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.msRequestFullscreen?b.msRequestFullscreen():console.log("no request fullscreen method available")},exitFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():console.log("no exit fullscreen method available")},divs:{}};ig.Director.inject({loadLevel:function(b){var c=
ig.Fullscreen.divs,d;for(d in c)c=ig.domHandler.getElementById("#"+d),ig.domHandler.hide(c);return this.parent(b)}});ig.SizeHandler.inject({resize:function(){this.parent();var b=ig.Fullscreen.divs,c;for(c in b){var d=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,ig.sizeHandler.scaleRatioMultiplier.y),e=ig.domHandler.getElementById("#"+c),f=b[c].entity_pos_x,g=b[c].entity_pos_y,m=b[c].width,p=b[c].height,j=ig.domHandler.getElementById("#canvas"),n=ig.domHandler.getOffsets(j);ig.ua.mobile?(j=n.left,
n=n.top,ig.sizeHandler.disableStretchToFitOnMobileFlag?(f=Math.floor(j+f*ig.sizeHandler.scaleRatioMultiplier.x)+"px",g=Math.floor(n+g*ig.sizeHandler.scaleRatioMultiplier.y)+"px",m=Math.floor(m*ig.sizeHandler.scaleRatioMultiplier.x)+"px",p=Math.floor(p*ig.sizeHandler.scaleRatioMultiplier.y)+"px"):(f=Math.floor(f*ig.sizeHandler.sizeRatio.x)+"px",g=Math.floor(g*ig.sizeHandler.sizeRatio.y)+"px",m=Math.floor(m*ig.sizeHandler.sizeRatio.x)+"px",p=Math.floor(p*ig.sizeHandler.sizeRatio.y)+"px")):(j=n.left,
n=n.top,f=Math.floor(j+f*d)+"px",g=Math.floor(n+g*d)+"px",m=Math.floor(m*d)+"px",p=Math.floor(p*d)+"px");ig.domHandler.css(e,{"float":"left",position:"absolute",left:f,top:g,width:m,height:p,"z-index":3});b[c]["font-size"]&&ig.domHandler.css(e,{"font-size":b[c]["font-size"]*d+"px"})}}});ig.FullscreenButton=ig.Entity.extend({enterImage:null,exitImage:null,isReady:!1,zIndex:999999,identifier:null,prevPos:{x:0,y:0},invisImagePath:"media/graphics/misc/invisible.png",init:function(b,c,d){this.parent(b,
c,d);ig.Fullscreen.isEnabled()&&ig.Fullscreen.enableFullscreenButton?this.enterImage.loaded?this.initSize():this.enterImage.loadCallback=function(){this.initSize()}.bind(this):this.kill()},kill:function(){this.parent()},destroy:function(){this.parent();console.log("destroy")},initSize:function(){this.size.x=this.enterImage.width;this.size.y=this.enterImage.height;this.createClickableLayer();this.isReady=!0},createClickableLayer:function(){this.identifier="fullscreen-button-layer";var b=ig.domHandler.getElementById("#"+
this.identifier);b?(ig.domHandler.show(b),ig.domHandler.attr(b,"onclick","ig.Fullscreen.toggleFullscreen()")):this.createClickableOutboundLayer()},update:function(b,c){b=this.pos.x;c=this.pos.y;this.isReady&&!(this.prevPos.x===b&&this.prevPos.y===c)&&(ig.Fullscreen.divs[this.identifier]={},ig.Fullscreen.divs[this.identifier].width=this.size.x,ig.Fullscreen.divs[this.identifier].height=this.size.y,ig.Fullscreen.divs[this.identifier].entity_pos_x=this.pos.x,ig.Fullscreen.divs[this.identifier].entity_pos_y=
this.pos.y,this.prevPos.x=b,this.prevPos.y=c)},draw:function(){this.isReady&&(ig.Fullscreen.isFullscreen()?this.exitImage.draw(this.pos.x,this.pos.y):this.enterImage.draw(this.pos.x,this.pos.y))},createClickableOutboundLayer:function(){var b=this.identifier,c=this.invisImagePath,d=ig.domHandler.create("div");ig.domHandler.attr(d,"id",b);ig.domHandler.attr(d,"onclick","ig.Fullscreen.toggleFullscreen()");var e=ig.domHandler.create("a"),f=ig.domHandler.create("img");ig.domHandler.css(f,{width:"100%",
height:"100%"});ig.domHandler.attr(f,"src",c);c=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,ig.sizeHandler.scaleRatioMultiplier.y);if(ig.ua.mobile){var g=ig.domHandler.getElementById("#canvas"),g=ig.domHandler.getOffsets(g),m=g.left,p=g.top;console.log(g.left);ig.sizeHandler.disableStretchToFitOnMobileFlag?(g=Math.floor(m+this.pos.x*ig.sizeHandler.scaleRatioMultiplier.x)+"px",p=Math.floor(p+this.pos.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px",m=Math.floor(this.size.x*ig.sizeHandler.scaleRatioMultiplier.x)+
"px",c=Math.floor(this.size.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px"):(g=Math.floor(this.pos.x*ig.sizeHandler.sizeRatio.x)+"px",p=Math.floor(this.pos.y*ig.sizeHandler.sizeRatio.y)+"px",m=Math.floor(this.size.x*ig.sizeHandler.sizeRatio.x)+"px",c=Math.floor(this.size.y*ig.sizeHandler.sizeRatio.y)+"px")}else g=ig.domHandler.getElementById("#canvas"),g=ig.domHandler.getOffsets(g),m=g.left,p=g.top,ig.sizeHandler.enableStretchToFitOnDesktopFlag?(g=Math.floor(m+this.pos.x*ig.sizeHandler.sizeRatio.x)+
"px",p=Math.floor(p+this.pos.y*ig.sizeHandler.sizeRatio.y)+"px",m=Math.floor(this.size.x*ig.sizeHandler.sizeRatio.x)+"px",c=Math.floor(this.size.y*ig.sizeHandler.sizeRatio.y)+"px"):(g=Math.floor(m+this.pos.x*c)+"px",p=Math.floor(p+this.pos.y*c)+"px",m=Math.floor(this.size.x*c)+"px",c=Math.floor(this.size.y*c)+"px");ig.domHandler.css(d,{"float":"left",position:"absolute",left:g,top:p,width:m,height:c,"z-index":3});ig.domHandler.addEvent(d,"mousemove",ig.input.mousemove.bind(ig.input),!1);ig.domHandler.appendChild(e,
f);ig.domHandler.appendChild(d,e);ig.domHandler.appendToBody(d);ig.Fullscreen.divs[b]={};ig.Fullscreen.divs[b].width=this.size.x;ig.Fullscreen.divs[b].height=this.size.y;ig.Fullscreen.divs[b].entity_pos_x=this.pos.x;ig.Fullscreen.divs[b].entity_pos_y=this.pos.y}})});ig.baked=!0;
ig.module("plugins.spriter.structure.animation").requires("impact.impact").defines(function(){SpriterAnimationLooping={NO_LOOPING:0,LOOPING:1};SpriterAnimation=ig.Class.extend({id:0,name:null,length:0,loopType:0,mainLineKeys:[],timelines:null,init:function(b,c,d,e){this.id=b;this.name=c;this.length=d;this.loopType=e;this.timelines=new SpriterIdNameMap},addMainLineKey:function(b){this.mainLineKeys.push(b)},addTimeline:function(b){this.timelines.add(b,b.id,b.name)},getTimelineById:function(b){return this.timelines.getById(b)},
getTimelineByName:function(b){return this.timelines.getByName(b)},updateCurve:function(){for(var b=0;b<this.mainLineKeys.length;b++){var c=this.mainLineKeys[b];if(c.curveType!=ig.SpriterCurveType.LINEAR){for(var d=0;d<c.boneRefs.length;d++){var e=c.boneRefs[d];this.timelines.getById(e.timeline).keys[e.key].setCurve(c.curveType,c.c1,c.c2,c.c3,c.c4)}for(d=0;d<c.objectRefs.length;d++)e=c.objectRefs[d],this.timelines.getById(e.timeline).keys[e.key].setCurve(c.curveType,c.c1,c.c2,c.c3,c.c4)}}}})});
ig.baked=!0;ig.module("plugins.spriter.structure.timeline-key").requires("impact.impact").defines(function(){SpriterTimelineKey=ig.Class.extend({id:0,time:0,spin:0,curveType:0,c1:0,c2:0,c3:0,c4:0,init:function(b,c,d){this.id=b;this.time=c;this.spin=d;this.setCurve(ig.SpriterCurveType.LINEAR)},setCurve:function(b,c,d,e,f){void 0===b&&(b=ig.SpriterCurveType.LINEAR);void 0===c&&(c=0);void 0===d&&(d=0);void 0===e&&(e=0);void 0===f&&(f=0);this.curveType=b;this.c1=c;this.c2=d;this.c3=e;this.c4=f}})});
ig.baked=!0;ig.module("plugins.spriter.structure.spatial-timeline-key").requires("plugins.spriter.structure.timeline-key").defines(function(){SpriterSpatialTimelineKey=SpriterTimelineKey.extend({info:null,init:function(b,c,d){this.parent(b,c,d);this.info=new SpriterSpatialInfo}})});ig.baked=!0;
ig.module("plugins.spriter.structure.bone-timeline-key").requires("plugins.spriter.structure.spatial-timeline-key").defines(function(){SpriterBoneTimelineKey=SpriterSpatialTimelineKey.extend({init:function(b,c,d){this.parent(b,c,d)}})});ig.baked=!0;
ig.module("plugins.spriter.structure.curve-type").requires("impact.impact").defines(function(){ig.SpriterCurveType={LINEAR:0,INSTANT:1,QUADRATIC:2,CUBIC:3};ig.SpriterCurveType.getCurveTypeForName=function(b){if("linear"===b)return ig.SpriterCurveType.LINEAR;if("instant"===b)return ig.SpriterCurveType.INSTANT;if("quadratic"===b)return ig.SpriterCurveType.QUADRATIC;if("cubic"===b)return ig.SpriterCurveType.CUBIC;console.warn("Unknown curve type: "+b);return ig.SpriterCurveType.LINEAR}});ig.baked=!0;
ig.module("plugins.spriter.structure.entity").requires("impact.impact").defines(function(){SpriterEntity=ig.Class.extend({id:0,name:"",objectInfos:null,animations:null,init:function(b,c){this.id=b;this.name=c;this.objectInfos=new SpriterIdNameMap;this.animations=new SpriterIdNameMap},addObjectInfo:function(b){this.objectInfos.add(b,b.id,b.name)},getObjectInfoById:function(b){return this.objectInfos.getById(b)},getObjectInfoByName:function(b){return this.objectInfos.getByName(b)},addAnimation:function(b){this.animations.add(b,
b.id,b.name)},getAnimationById:function(b){return this.animations.getById(b)},getAnimationByName:function(b){return this.animations.getByName(b)},getAnimationsCount:function(){return this.animations.getLength()}})});ig.baked=!0;ig.module("plugins.spriter.structure.file").requires("impact.impact").defines(function(){SpriterFile=ig.Class.extend({id:0,name:"",anchorX:0,anchorY:0,init:function(b,c,d,e){this.id=b;this.name=c;this.anchorX=d;this.anchorY=e}})});ig.baked=!0;
ig.module("plugins.spriter.structure.folder").requires("impact.impact").defines(function(){SpriterFolder=ig.Class.extend({id:0,name:"",files:null,init:function(b,c){this.id=b;this.name=c;this.files=new SpriterIdNameMap},addFile:function(b){this.files.add(b,b.id,b.name)},getFileById:function(b){return this.files.getById(b)},getFileByName:function(b){return this.files.getByName(b)}})});ig.baked=!0;
ig.module("plugins.spriter.structure.main-line-key").requires("impact.impact").defines(function(){SpriterMainLineKey=ig.Class.extend({time:0,curveType:0,c1:0,c2:0,c3:0,c4:0,boneRefs:[],objectRefs:[],init:function(b){this.time=b;this.setCurve(ig.SpriterCurveType.LINEAR)},addBoneRef:function(b){this.boneRefs.push(b)},addObjectRef:function(b){this.objectRefs.push(b)},setCurve:function(b,c,d,e,f){void 0===b&&(b=ig.SpriterCurveType.LINEAR);void 0===c&&(c=0);void 0===d&&(d=0);void 0===e&&(e=0);void 0===
f&&(f=0);this.curveType=b;this.c1=c;this.c2=d;this.c3=e;this.c4=f}})});ig.baked=!0;ig.module("plugins.spriter.structure.object-info").requires("impact.impact").defines(function(){SpriterObjectInfo=ig.Class.extend({id:0,type:0,name:"",width:0,height:0,init:function(b,c,d,e,f){this.id=b;this.type=d;this.name=c;this.width=e;this.height=f}})});ig.baked=!0;
ig.module("plugins.spriter.structure.object-timeline-key").requires("plugins.spriter.structure.spatial-timeline-key").defines(function(){SpriterObjectTimelineKey=SpriterSpatialTimelineKey.extend({folder:0,file:0,init:function(b,c,d){this.parent(b,c,d)},setFolderAndFile:function(b,c){this.folder=b;this.file=c}})});ig.baked=!0;
ig.module("plugins.spriter.structure.object-type").requires("impact.impact").defines(function(){SpriterObjectType={SPRITE:0,BONE:1,getObjectTypeForName:function(b){if("sprite"===b)return SpriterObjectType.SPRITE;if("bone"===b)return SpriterObjectType.BONE}}});ig.baked=!0;
ig.module("plugins.spriter.structure.ref").requires("impact.impact").defines(function(){SpriterRef=ig.Class.extend({id:0,parentId:0,timeline:0,key:0,z:0,init:function(b,c,d,e,f){this.id=b;this.parentId=c;this.timeline=d;this.key=e;this.z=f}})});ig.baked=!0;ig.module("plugins.spriter.structure.spatial-info").requires("impact.impact").defines(function(){SpriterSpatialInfo=ig.Class.extend({x:0,y:0,scaleX:1,scaleY:1,pivotX:0,pivotY:0,alpha:1,angle:0})});ig.baked=!0;
ig.module("plugins.spriter.structure.timeline").requires("impact.impact").defines(function(){SpriterTimeline=ig.Class.extend({id:0,name:"",type:0,objectRef:0,keys:[],init:function(b,c,d,e){this.id=b;this.name=c;this.type=d;this.objectRef=e},addKey:function(b){this.keys.push(b)}})});ig.baked=!0;
ig.module("plugins.spriter.id-name-map").requires("impact.impact").defines(function(){SpriterIdNameMap=ig.Class.extend({items:[],itemNames:[],add:function(b,c,d){void 0===c&&(c=this.items.length);if(void 0===d||null===d)d="item_"+c;this.items[c]=b;this.itemNames[d]=c},getById:function(b){return this.items[b]},getByName:function(b){return this.getById(this.itemNames[b])},getLength:function(){return this.items.length}})});ig.baked=!0;
ig.module("plugins.spriter.loader").requires("impact.impact").defines(function(){SpriterLoader=ig.Class.extend({spriter:null,getFileNameWithoutExtension:function(b){return b.split("\\").pop().split("/").pop().split(".")[0]},getDirectoryPath:function(b){b=b.split("\\").pop().split("/");b.pop();return b.join("/")+"/"},parseInt:function(b,c,d){void 0===d&&(d=0);b=b.getAttribute(c);return null!==b?parseInt(b):d},parseFloat:function(b,c,d){void 0===d&&(d=0);b=b.getAttribute(c);return null!==b?parseFloat(b):
d},parseString:function(b,c,d){void 0===d&&(d="");b=b.getAttribute(c);return null!==b?b:d},load:function(b){ig.spriterHasPrint||(ig.spriterHasPrint=!0,console.log("Spriter plugin version 1.0.2"));var c=$.parseXML(b.data);this.spriter=new Spriter;this.spriter.path=this.getDirectoryPath(b.path);b=c.getElementsByTagName("folder");this.loadFolders(this.spriter,b);c=c.getElementsByTagName("entity");this.loadEntities(this.spriter,c);return this.spriter},loadFolders:function(b,c){for(var d=0;d<c.length;d++){var e=
c.item(d),f=new SpriterFolder(this.parseInt(e,"id"),e.getAttribute("name")),e=e.getElementsByTagName("file");this.loadFiles(f,e);b.addFolder(f)}},loadFiles:function(b,c){for(var d=0;d<c.length;d++){var e=c[d],e=new SpriterFile(this.parseInt(e,"id"),this.getFileNameWithoutExtension(e.getAttribute("name")),this.parseFloat(e,"pivot_x"),1-this.parseFloat(e,"pivot_y"));b.addFile(e);new ig.Image(this.spriter.path+b.name+"/"+e.name+".png")}},loadEntities:function(b,c){for(var d=0;d<c.length;d++){var e=c.item(d),
f=new SpriterEntity(this.parseInt(e,"id"),e.getAttribute("name")),g=e.getElementsByTagName("obj_info");this.loadBones(f,g);e=e.getElementsByTagName("animation");this.loadAnimations(f,e);b.addEntity(f)}},loadBones:function(b,c){for(var d=0;d<c.length;d++){var e=c.item(d),e=new SpriterObjectInfo(d,e.getAttribute("name"),SpriterObjectType.getObjectTypeForName(e.getAttribute("type")),this.parseFloat(e,"w"),this.parseFloat(e,"h"));b.addObjectInfo(e)}},loadAnimations:function(b,c){for(var d=0;d<c.length;d++){var e=
c.item(d),f=new SpriterAnimation(this.parseInt(e,"id"),e.getAttribute("name"),this.parseFloat(e,"length"),"true"===this.parseString(e,"looping","true")?SpriterAnimationLooping.LOOPING:SpriterAnimationLooping.NO_LOOPING),g=e.getElementsByTagName("mainline")[0].getElementsByTagName("key");this.loadMainLineKeys(f,g);e=e.getElementsByTagName("timeline");this.loadTimelines(f,e);f.updateCurve();b.addAnimation(f)}},loadMainLineKeys:function(b,c){for(var d=0;d<c.length;d++){var e=c.item(d),f=new SpriterMainLineKey(this.parseFloat(e,
"time")),g=this.parseString(e,"curve_type","linear");"linear"!==g&&f.setCurve(ig.SpriterCurveType.getCurveTypeForName(g),this.parseFloat(e,"c1",0),this.parseFloat(e,"c2",0),this.parseFloat(e,"c3",0),this.parseFloat(e,"c4",0));for(var g=e.getElementsByTagName("bone_ref"),m=0;m<g.length;m++)f.addBoneRef(this.loadRef(g.item(m)));e=e.getElementsByTagName("object_ref");for(g=0;g<e.length;g++)f.addObjectRef(this.loadRef(e.item(g)));b.addMainLineKey(f)}},loadRef:function(b){return new SpriterRef(this.parseInt(b,
"id"),this.parseInt(b,"parent",-1),this.parseInt(b,"timeline"),this.parseInt(b,"key"),this.parseInt(b,"z_index"))},loadTimelines:function(b,c){for(var d=0;d<c.length;d++){var e=c.item(d),f=new SpriterTimeline(this.parseInt(e,"id"),e.getAttribute("name"),"bone"===e.getAttribute("object_type")?SpriterObjectType.BONE:SpriterObjectType.SPRITE,this.parseInt(e,"obj",-1)),e=e.getElementsByTagName("key");this.loadTimelineKeys(f,e);b.addTimeline(f)}},loadTimelineKeys:function(b,c){for(var d=0;d<c.length;d++){var e=
c.item(d),f=null,g=e.firstElementChild,m=this.parseInt(e,"time"),p=this.parseInt(e,"spin",1),j=!1;"bone"===g.tagName?f=new SpriterBoneTimelineKey(d,m,p):"object"===g.tagName?(f=new SpriterObjectTimelineKey(d,m,p),j=!0):console.warn("Unknown key type: "+g.tagName);m=this.parseString(e,"curve_type","linear");"linear"!==m&&f.setCurve(ig.SpriterCurveType.getCurveTypeForName(m),this.parseFloat(e,"c1",0),this.parseFloat(e,"c2",0),this.parseFloat(e,"c3",0),this.parseFloat(e,"c4",0));e=f.info;e.x=this.parseFloat(g,
"x");e.y=-this.parseFloat(g,"y");e.scaleX=this.parseFloat(g,"scale_x",1);e.scaleY=this.parseFloat(g,"scale_y",1);e.angle=360-this.parseFloat(g,"angle");e.alpha=this.parseFloat(g,"a",1);j&&(j=this.parseInt(g,"folder"),m=this.parseInt(g,"file"),f.setFolderAndFile(j,m),j=this.spriter.getFolderById(j).getFileById(m),e.pivotX=this.parseFloat(g,"pivot_x",j.anchorX),e.pivotY=this.parseFloat(g,"pivot_y",j.anchorY));b.addKey(f)}}})});ig.baked=!0;
ig.module("plugins.spriter.scml").requires("impact.impact").defines(function(){SpriterScml=ig.Class.extend({data:null,spriter:null,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(b){return SpriterScml.cache[b]||null},init:function(b){ig.global.wm||(this.path=b,this.load())},load:function(b){this.loaded?b&&b(this.path,!0):(!this.loaded&&ig.ready?(this.loadCallback=b||null,$.ajax(ig.prefix+this.path+ig.nocache,{dataType:"text",success:function(c){this.loaded=!0;this.data=c;
this.spriter=(new SpriterLoader).load(this);this.loadCallback&&b(this.path,!0)}.bind(this),error:function(){this.failed=!0;this.loadCallback&&this.loadCallback(this.path,!1)}.bind(this)})):ig.addResource(this),SpriterScml.cache[this.path]=this)}});SpriterScml.cache={}});ig.baked=!0;
ig.module("plugins.spriter.spriter-bone").requires("impact.impact").defines(function(){SpriterBone=ig.Class.extend({UPDATE_X:1,UPDATE_Y:2,UPDATE_SCALE_X:4,UPDATE_SCALE_Y:8,UPDATE_PIVOT_X:16,UPDATE_PIVOT_Y:32,UPDATE_ANGLE:64,UPDATE_ALPHA:128,on:!1,parentId:0,timelineKey:-1,key:null,timeFrom:0,timeTo:0,from:null,to:null,transformed:null,updateMask:0,init:function(){this.transformed=new SpriterSpatialInfo},setOn:function(b){this.on=b},setKey:function(b,c,d){this.timelineKey=d;var e=b.getTimelineById(c).keys;
c=e[d];var f=(d+1)%e.length;0===f&&b.loopType===SpriterAnimationLooping.NO_LOOPING&&(f=d);d=e[f];this.key=c;this.timeFrom=c.time;this.timeTo=d.time;this.timeTo<this.timeFrom&&(this.timeTo=b.length);this.from=c.info;this.to=d.info;this.updateMask=0;1E-6<Math.abs(this.from.x-this.to.x)&&(this.updateMask+=this.UPDATE_X);1E-6<Math.abs(this.from.y-this.to.y)&&(this.updateMask+=this.UPDATE_Y);1E-6<Math.abs(this.from.scaleX-this.to.scaleX)&&(this.updateMask+=this.UPDATE_SCALE_X);1E-6<Math.abs(this.from.scaleY-
this.to.scaleY)&&(this.updateMask+=this.UPDATE_SCALE_Y);1E-6<Math.abs(this.from.pivotX-this.to.pivotX)&&(this.updateMask+=this.UPDATE_PIVOT_X);1E-6<Math.abs(this.from.pivotY-this.to.pivotY)&&(this.updateMask+=this.UPDATE_PIVOT_Y);1E-6<Math.abs(this.from.alpha-this.to.alpha)&&(this.updateMask+=this.UPDATE_ALPHA);1E-6<Math.abs(this.from.angle-this.to.angle)&&(this.updateMask+=this.UPDATE_ANGLE);this.transformed.x=this.from.x;this.transformed.y=this.from.y;this.transformed.scaleX=this.from.scaleX;this.transformed.scaleY=
this.from.scaleY;this.transformed.pivotX=this.from.pivotX;this.transformed.pivotY=this.from.pivotY;this.transformed.angle=this.from.angle;this.transformed.alpha=this.from.alpha},tween:function(b){b=0<this.updateMask?this.getTweenTime(b):0;this.transformed.x=0<(this.updateMask&this.UPDATE_X)?this.linear(this.from.x,this.to.x,b):this.from.x;this.transformed.y=0<(this.updateMask&this.UPDATE_Y)?this.linear(this.from.y,this.to.y,b):this.from.y;this.transformed.scaleX=0<(this.updateMask&this.UPDATE_SCALE_X)?
this.linear(this.from.scaleX,this.to.scaleX,b):this.from.scaleX;this.transformed.scaleY=0<(this.updateMask&this.UPDATE_SCALE_Y)?this.linear(this.from.scaleY,this.to.scaleY,b):this.from.scaleY;this.transformed.pivotX=0<(this.updateMask&this.UPDATE_PIVOT_X)?this.linear(this.from.pivotX,this.to.pivotX,b):this.from.pivotX;this.transformed.pivotY=0<(this.updateMask&this.UPDATE_PIVOT_Y)?this.linear(this.from.pivotY,this.to.pivotY,b):this.from.pivotY;this.transformed.alpha=0<(this.updateMask&this.UPDATE_ALPHA)?
this.linear(this.from.alpha,this.to.alpha,b):this.from.alpha;this.transformed.angle=0<(this.updateMask&this.UPDATE_ANGLE)?this.angleLinear(this.from.angle,this.to.angle,this.key.spin,b):this.from.angle},update:function(b){this.transformed.angle*=this.sign(b.scaleX)*this.sign(b.scaleY);this.transformed.angle+=b.angle;this.transformed.scaleX*=b.scaleX;this.transformed.scaleY*=b.scaleY;this.scalePosition(b.scaleX,b.scaleY);this.rotatePosition(b.angle);this.translatePosition(b.x,b.y);this.transformed.alpha*=
b.alpha},scalePosition:function(b,c){this.transformed.x*=b;this.transformed.y*=c},rotatePosition:function(b){var c=this.transformed.x,d=this.transformed.y;if(0!==c||0!==d){var e=b*(Math.PI/180);b=Math.cos(e);e=Math.sin(e);this.transformed.x=c*b-d*e;this.transformed.y=c*e+d*b}},translatePosition:function(b,c){this.transformed.x+=b;this.transformed.y+=c},getTweenTime:function(b){if(this.key.curveType===ig.SpriterCurveType.INSTANT)return 0;b=this.clamp((b-this.timeFrom)/(this.timeTo-this.timeFrom),0,
1);switch(this.key.curveType){case ig.SpriterCurveType.LINEAR:return b;case ig.SpriterCurveType.QUADRATIC:return this.quadratic(0,this.key.c1,1,b);case ig.SpriterCurveType.CUBIC:return this.cubic(0,this.key.c1,this.key.c2,1,b)}return 0},linear:function(b,c,d){return(c-b)*d+b},quadratic:function(b,c,d,e){return this.linear(this.linear(b,c,e),this.linear(c,d,e),e)},cubic:function(b,c,d,e,f){return this.linear(this.quadratic(b,c,d,f),this.quadratic(c,d,e,f),f)},angleLinear:function(b,c,d,e){if(0===d)return b;
0<d?c>b&&(c-=360):c<b&&(c+=360);return this.linear(b,c,e)},sign:function(b){return 0>b?-1:0<b?1:0},clamp:function(b,c,d){return b<c?c:d<b?d:b}})});ig.baked=!0;
ig.module("plugins.spriter.spriter-display").requires("impact.entity").defines(function(){SpriterDisplay=ig.Entity.extend({scml:null,spriter:null,entityName:"",currentAnimationName:"",animation:null,animationSpeed:0,bones:[],objects:[],time:0,nextTime:0,keyIndex:0,root:null,pause:!1,finished:!1,init:function(b,c,d){this.parent(b,c,d);null==this.scml?console.error("scml is null, please provide one"):(this.spriter=this.scml.spriter,this.entityName=this.spriter.getEntityById(0).name,this.root=new SpriterSpatialInfo,
this.setAnimationSpeedPercent(100),this.setAnimationById(0))},getAnimationCount:function(){return this.spriter.getEntityByName(this.entityName).getAnimationsCount()},setAnimationSpeedPercent:function(b){void 0===b&&(b=100);this.animationSpeed=b/100},setAnimationById:function(b,c){var d=this.spriter.getEntityByName(this.entityName).getAnimationById(b);void 0===d||null===d?console.warn("Animation "+b+" for entity "+this.entityName+" does not exist!"):this.setAnimation(d,c)},setAnimationByName:function(b,
c){var d=this.spriter.getEntityByName(this.entityName).getAnimationByName(b);void 0===d||null===d?console.warn("Animation "+b+" for entity "+this.entityName+" does not exist!"):this.setAnimation(d,c)},setAnimation:function(b,c){void 0===c&&(c=!0);this.animation=b;this.finished=!1;if(c||this.currentAnimationName!=b.name)this.clearTime(),this.currentAnimationName=b.name,this.loadKeys(0,!0)},clearTime:function(){this.time=0;this.keyIndex=-1},getNextMainLineKeyTime:function(){var b=this.animation.mainLineKeys,
c=(this.keyIndex+1)%b.length;this.nextTime=0!==c?b[c].time:this.animation.length},setBones:function(b,c){void 0===c&&(c=!1);for(var d=0;d<this.bones.length;d++)void 0!==this.bones[d]&&this.bones[d].setOn(!1);for(d=0;d<b.length;d++){var e=b[d];void 0===this.bones[e.id]&&(this.bones[e.id]=new SpriterBone);var f=this.bones[e.id];f.setOn(!0);f.parentId=e.parentId;(f.timelineKey!=e.key||c)&&f.setKey(this.animation,e.timeline,e.key)}},setObjects:function(b,c){void 0===c&&(c=!1);for(var d=0;d<this.objects.length;d++)void 0!==
this.objects[d]&&this.objects[d].setOn(!1);for(d=0;d<b.length;d++){var e=b[d],f=null;void 0===this.objects[e.id]?(f=new SpriterObject(this.spriter),this.objects[e.id]=f):f=this.objects[e.id];f.setOn(!0);f.parentId=e.parentId;(f.timelineKey!=e.key||c)&&f.setKey(this.animation,e.timeline,e.key)}},loadKeys:function(b,c){void 0===c&&(c=!0);this.setBones(this.animation.mainLineKeys[b].boneRefs,c);this.setObjects(this.animation.mainLineKeys[b].objectRefs,c)},update:function(){this.parent()},draw:function(){this.parent();
var b=ig.system,c=b.context;c.save();c.translate(b.getDrawPos(this.pos.x),b.getDrawPos(this.pos.y));this.scale?(1!=this.scale.x||1!=this.scale.y)&&c.scale(this.scale.x,this.scale.y):(this.scale={},this.scale.x=1,this.scale.y=1);this.updateAnimation();c.restore()},updateAnimation:function(){if(this.nextTime<this.animation.length||this.animation.loopType===SpriterAnimationLooping.LOOPING){if(-1===this.keyIndex||this.time>this.nextTime){this.keyIndex=(this.keyIndex+1)%this.animation.mainLineKeys.length;
if(this.time>this.animation.length){if(this.animation.loopType===SpriterAnimationLooping.NO_LOOPING){for(;0!==this.keyIndex;)this.getNextMainLineKeyTime(this.time),this.loadKeys(this.keyIndex),this.updateCharacter(),this.keyIndex=(this.keyIndex+1)%this.animation.mainLineKeys.length;this.finished=!0;return}this.keyIndex=this.time=0}this.getNextMainLineKeyTime(this.time);this.loadKeys(this.keyIndex)}this.updateCharacter();!this.pause&&!this.finished&&(this.time+=1E3*ig.system.tick*this.animationSpeed)}else this.time=
this.animation.length,this.finished=!0,this.updateCharacter()},updateCharacter:function(){for(var b=0;b<this.bones.length;b++){var c=this.bones[b];if(c.on){var d=-1===c.parentId?this.root:this.bones[c.parentId].transformed;c.tween(this.time);c.update(d)}}for(b=0;b<this.objects.length;b++)c=this.objects[b],c.on&&(d=-1===c.parentId?this.root:this.bones[c.parentId].transformed,c.tween(this.time),c.update(d))}})});ig.baked=!0;
ig.module("plugins.spriter.spriter-object").requires("plugins.spriter.spriter-bone").defines(function(){SpriterObject=SpriterBone.extend({spriter:null,sprite:null,image:null,degToRad:Math.PI/180,init:function(b){this.parent();this.spriter=b},setOn:function(b){this.parent(b)},setKey:function(b,c,d){this.parent(b,c,d);c=this.key;b=this.spriter.getFolderById(c.folder);c=b.getFileById(c.file);b=this.spriter.path+b.name+"/"+c.name+".png";if(null==this.image||this.image.path!=b)this.image=new ig.Image(b)},
update:function(b){this.parent(b);this.updateSprite()},updateSprite:function(){var b=this.transformed,c=this.image;if(this.on&&c){var d=ig.system,e=d.context,f=c.width,g=c.height;e.save();1>b.alpha&&(e.globalAlpha=b.alpha);e.translate(d.getDrawPos(b.x),d.getDrawPos(b.y));e.rotate(b.angle*this.degToRad);e.scale(b.scaleX,b.scaleY);c.draw(-f*b.pivotX,-g*b.pivotY,0,0,f,g);e.restore();1>b.alpha&&(e.globalAlpha=1)}}})});ig.baked=!0;
ig.module("plugins.spriter.spriter").requires("impact.impact","plugins.spriter.structure.animation","plugins.spriter.structure.bone-timeline-key","plugins.spriter.structure.curve-type","plugins.spriter.structure.entity","plugins.spriter.structure.file","plugins.spriter.structure.folder","plugins.spriter.structure.main-line-key","plugins.spriter.structure.object-info","plugins.spriter.structure.object-timeline-key","plugins.spriter.structure.object-type","plugins.spriter.structure.ref","plugins.spriter.structure.spatial-info",
"plugins.spriter.structure.spatial-timeline-key","plugins.spriter.structure.timeline-key","plugins.spriter.structure.timeline","plugins.spriter.id-name-map","plugins.spriter.loader","plugins.spriter.scml","plugins.spriter.spriter-bone","plugins.spriter.spriter-display","plugins.spriter.spriter-object").defines(function(){Spriter=ig.Class.extend({folders:null,entities:null,path:"",init:function(){this.folders=new SpriterIdNameMap;this.entities=new SpriterIdNameMap},addFolder:function(b){this.folders.add(b,
b.id,b.name)},getFolderById:function(b){return this.folders.getById(b)},getFolderByName:function(b){return this.folders.getByName(b)},addEntity:function(b){this.entities.add(b,b.id,b.name)},getEntityById:function(b){return this.entities.getById(b)},getEntityByName:function(b){return this.entities.getByName(b)}})});ig.baked=!0;
ig.module("plugins.data.color-rgb").defines(function(){ColorRGB=function(b,c,d,e){this.r=b||0;this.g=c||0;this.b=d||0;this.a=e||0};ColorRGB.prototype={setRandomColor:function(){this.r=Math.round(255*Math.random());this.g=Math.round(255*Math.random());this.b=Math.round(255*Math.random())},getStyle:function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"},getHex:function(){for(var b=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);2>b.length;)b="0"+b;for(;2>c.length;)c="0"+
c;for(;2>d.length;)d="0"+d;return"#"+b+c+d},getInvertedColor:function(){return new ColorRGB(255-this.r,255-this.g,255-this.b,255-this.a)},clone:function(){return new ColorRGB(this.r,this.g,this.b,this.a)}}});this.START_BRANDING_SPLASH;ig.baked=!0;
ig.module("plugins.branding.splash").requires("impact.impact","impact.entity").defines(function(){ig.BrandingSplash=ig.Class.extend({init:function(){ig.game.spawnEntity(EntityBranding,0,0);console.log("spawn branding")}});EntityBranding=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},splash:new ig.Image("branding/splash1.png"),init:function(b,c,d){this.parent(b,c,d);320>=ig.system.width?(this.size.x=320,this.size.y=200):(this.size.x=480,this.size.y=240);this.pos.x=(ig.system.width-this.size.x)/
2;this.pos.y=-this.size.y-200;this.endPosY=(ig.system.height-this.size.y)/2;b=this.tween({pos:{y:this.endPosY}},0.5,{easing:ig.Tween.Easing.Bounce.EaseIn});c=this.tween({},2.5,{onComplete:function(){ig.game.director.loadLevel(ig.game.director.currentLevel)}});b.chain(c);b.start();this.currentAnim=this.anims.idle},createClickableLayer:function(){console.log("Build clickable layer");this.checkClickableLayer("branding-splash",_SETTINGS.Branding.Logo.Link,_SETTINGS.Branding.Logo.NewWindow)},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==
b)return!0;return!1},checkClickableLayer:function(b,c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",c)):this.createClickableOutboundLayer(b,c,"media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,e){var f=ig.$new("div");f.id=b;document.body.appendChild(f);f=$("#"+f.id);f.css("float","left");f.css("position","absolute");if(ig.ua.mobile){var g=window.innerHeight/mobileHeight,m=window.innerWidth/
mobileWidth;f.css("left",this.pos.x*m);f.css("top",this.pos.y*g);f.css("width",this.size.x*m);f.css("height",this.size.y*g)}else g=w/2-destW/2,m=h/2-destH/2,console.log(g,m),f.css("left",g+this.pos.x*multiplier),f.css("top",m+this.pos.y*multiplier),f.css("width",this.size.x*multiplier),f.css("height",this.size.y*multiplier);e?f.html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):f.html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");
dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=this.size.x*multiplier;dynamicClickableEntityDivs[b].height=this.size.y*multiplier;dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y},draw:function(){ig.system.context.fillStyle="#ffffff";ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);ig.system.context.fillStyle="#000";ig.system.context.font="12px Arial";ig.system.context.textAlign="left";320>=ig.system.width?
ig.system.context.fillText("powered by MarketJS.com",ig.system.width-150,ig.system.height-15):ig.system.context.fillText("powered by MarketJS.com",ig.system.width-160,ig.system.height-15);this.parent();this.splash&&ig.system.context.drawImage(this.splash.data,0,0,this.splash.data.width,this.splash.data.height,this.pos.x,this.pos.y,this.size.x,this.size.y)}})});this.END_BRANDING_SPLASH;ig.baked=!0;
ig.module("game.entities.buttons.button").requires("impact.entity","plugins.data.vector").defines(function(){EntityButton=ig.Entity.extend({collides:ig.Entity.COLLIDES.NEVER,type:ig.Entity.TYPE.A,size:new Vector2(48,48),fillColor:null,zIndex:95E3,init:function(b,c,d){this.parent(b,c,d);!ig.global.wm&&!isNaN(d.zIndex)&&(this.zIndex=d.zIndex);b=Math.floor(256*Math.random());c=Math.floor(256*Math.random());d=Math.floor(256*Math.random());this.fillColor="rgba("+b+","+d+","+c+",1)"},clicked:function(){throw"no implementation on clicked()";
},clicking:function(){throw"no implementation on clicking()";},released:function(){throw"no implementation on released()";}})});ig.baked=!0;
ig.module("plugins.clickable-div-layer").requires("plugins.data.vector").defines(function(){ClickableDivLayer=ig.Class.extend({pos:new Vector2(0,0),size:new Vector2(0,0),identifier:null,invisImagePath:"media/graphics/misc/invisible.png",init:function(b){this.pos=new Vector2(b.pos.x,b.pos.y);this.size=new Vector2(b.size.x,b.size.y);var c="more-games",d="www.google.com",e=!1;b.div_layer_name&&(c=b.div_layer_name);b.link&&(d=b.link);b.newWindow&&(e=b.newWindow);this.createClickableLayer(c,d,e)},createClickableLayer:function(b,
c,d){this.identifier=b;var e=ig.domHandler.getElementById("#"+b);e?(ig.domHandler.show(e),ig.domHandler.attr(e,"href",c)):this.createClickableOutboundLayer(b,c,this.invisImagePath,d)},update:function(b,c){this.pos.x===b&&this.pos.y===c||(ig.sizeHandler.dynamicClickableEntityDivs[this.identifier]={},ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].width=this.size.x,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].height=this.size.y,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].entity_pos_x=
this.pos.x,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].entity_pos_y=this.pos.y)},update2:function(b,c,d,e){this.pos.x==b&&this.pos.y==c||(this.pos.x=b,this.pos.y=c,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier]={},ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].width=d,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].height=e,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].entity_pos_x=b,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].entity_pos_y=
c,ig.sizeHandler.resize())},createClickableOutboundLayer:function(b,c,d,e){var f=ig.domHandler.create("div");ig.domHandler.attr(f,"id",b);var g=ig.domHandler.create("a");ig.domHandler.addEvent(f,"mousedown",function(b){b.preventDefault()});e?(ig.domHandler.attr(g,"href",c),ig.domHandler.attr(g,"target","_blank")):ig.domHandler.attr(g,"href",c);c=ig.domHandler.create("img");ig.domHandler.css(c,{width:"100%",height:"100%"});ig.domHandler.attr(c,"src",d);d=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,
ig.sizeHandler.scaleRatioMultiplier.y);if(ig.ua.mobile){e=ig.domHandler.getElementById("#canvas");e=ig.domHandler.getOffsets(e);var m=e.left,p=e.top;console.log(e.left);ig.sizeHandler.disableStretchToFitOnMobileFlag?(e=Math.floor(m+this.pos.x*ig.sizeHandler.scaleRatioMultiplier.x)+"px",p=Math.floor(p+this.pos.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px",m=Math.floor(this.size.x*ig.sizeHandler.scaleRatioMultiplier.x)+"px",d=Math.floor(this.size.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px"):(e=Math.floor(this.pos.x*
ig.sizeHandler.sizeRatio.x)+"px",p=Math.floor(this.pos.y*ig.sizeHandler.sizeRatio.y)+"px",m=Math.floor(this.size.x*ig.sizeHandler.sizeRatio.x)+"px",d=Math.floor(this.size.y*ig.sizeHandler.sizeRatio.y)+"px")}else e=ig.domHandler.getElementById("#canvas"),e=ig.domHandler.getOffsets(e),m=e.left,p=e.top,ig.sizeHandler.enableStretchToFitOnDesktopFlag?(e=Math.floor(m+this.pos.x*ig.sizeHandler.sizeRatio.x)+"px",p=Math.floor(p+this.pos.y*ig.sizeHandler.sizeRatio.y)+"px",m=Math.floor(this.size.x*ig.sizeHandler.sizeRatio.x)+
"px",d=Math.floor(this.size.y*ig.sizeHandler.sizeRatio.y)+"px"):(e=Math.floor(m+this.pos.x*d)+"px",p=Math.floor(p+this.pos.y*d)+"px",m=Math.floor(this.size.x*d)+"px",d=Math.floor(this.size.y*d)+"px");ig.domHandler.css(f,{"float":"left",position:"absolute",left:e,top:p,width:m,height:d,"z-index":3});ig.domHandler.addEvent(f,"mousemove",ig.input.mousemove.bind(ig.input),!1);ig.domHandler.appendChild(g,c);ig.domHandler.appendChild(f,g);ig.domHandler.appendToBody(f);ig.sizeHandler.dynamicClickableEntityDivs[b]=
{};ig.sizeHandler.dynamicClickableEntityDivs[b].width=this.size.x;ig.sizeHandler.dynamicClickableEntityDivs[b].height=this.size.y;ig.sizeHandler.dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;ig.sizeHandler.dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y;console.log(ig.sizeHandler.dynamicClickableEntityDivs[b])},show:function(){document.getElementById("more-games").style.visibility="visible"},hide:function(){document.getElementById("more-games").style.visibility="hidden"}})});
ig.baked=!0;
ig.module("game.entities.buttons.button-branding-logo").requires("game.entities.buttons.button","plugins.clickable-div-layer").defines(function(){EntityButtonBrandingLogo=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,logo:new ig.AnimationSheet("branding/logo.png",_SETTINGS.Branding.Logo.Width,_SETTINGS.Branding.Logo.Height),zIndex:10001,size:{x:64,y:66},clickableLayer:null,link:null,newWindow:!1,div_layer_name:"branding-logo",name:"brandinglogo",init:function(b,c,d){this.parent(b,c,d);
if(!ig.global.wm){if("undefined"==typeof wm)if(_SETTINGS.Branding.Logo.Enabled)this.size.x=_SETTINGS.Branding.Logo.Width,this.size.y=_SETTINGS.Branding.Logo.Height,this.anims.idle=new ig.Animation(this.logo,0,[0],!0),this.currentAnim=this.anims.idle,d&&d.centralize&&(this.pos.x=ig.system.width/2-this.size.x/2,console.log("centralize true ... centering branded logo ...")),_SETTINGS.Branding.Logo.LinkEnabled&&(this.link=_SETTINGS.Branding.Logo.Link,this.newWindow=_SETTINGS.Branding.Logo.NewWindow,this.clickableLayer=
new ClickableDivLayer(this));else{this.kill();return}this.div_layer_name=d.div_layer_name?d.div_layer_name:"branding-logo"}},show:function(){var b=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.show(b)},hide:function(){var b=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.hide(b)},clicked:function(){},clicking:function(){},released:function(){}})});ig.baked=!0;
ig.module("game.entities.branding-logo-placeholder").requires("impact.entity","game.entities.buttons.button-branding-logo").defines(function(){EntityBrandingLogoPlaceholder=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",init:function(b,c,d){this.parent(b,c,d);if(d)switch(console.log("settings found ... using that div layer name"),b=d.div_layer_name,console.log("settings.centralize:",d.centralize),d.centralize){case "true":console.log("centralize true");
centralize=!0;break;case "false":console.log("centralize false");centralize=!1;break;default:console.log("default ... centralize false"),centralize=!1}else b="branding-logo",centralize=!1;if("undefined"==typeof wm){if(_SETTINGS.Branding.Logo.Enabled)try{ig.game.spawnEntity(EntityButtonBrandingLogo,this.pos.x,this.pos.y,{div_layer_name:b,centralize:centralize})}catch(e){console.log(e)}this.kill()}}})});ig.baked=!0;
ig.module("game.entities.buttons.button-more-games").requires("game.entities.buttons.button","plugins.clickable-div-layer").defines(function(){EntityButtonMoreGames=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,logo:new ig.AnimationSheet("media/graphics/sprites/btn_more_games.png",64,66),size:{x:64,y:66},zIndex:750,clickableLayer:null,link:null,newWindow:!1,div_layer_name:"more-games",name:"moregames",init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.div_layer_name=d.div_layer_name?
d.div_layer_name:"more-games",_SETTINGS.MoreGames.Enabled?(this.anims.idle=new ig.Animation(this.logo,0,[0],!0),this.currentAnim=this.anims.idle,_SETTINGS.MoreGames.Link&&(this.link=_SETTINGS.MoreGames.Link),_SETTINGS.MoreGames.NewWindow&&(this.newWindow=_SETTINGS.MoreGames.NewWindow),this.clickableLayer=new ClickableDivLayer(this)):this.kill())},show:function(){var b=ig.domHandler.getElementById("#"+this.div_layer_name);b&&ig.domHandler.show(b)},hide:function(){var b=ig.domHandler.getElementById("#"+
this.div_layer_name);b&&ig.domHandler.hide(b)},clicked:function(){},clicking:function(){},released:function(){}})});ig.baked=!0;
ig.module("game.entities.pointer").requires("impact.entity").defines(function(){EntityPointer=ig.Entity.extend({checkAgainst:ig.Entity.TYPE.BOTH,size:new Vector2(1,1),isFirstPressed:!1,isPressed:!1,isReleased:!1,isHovering:!1,hoveringItem:null,objectArray:[],clickedObjectList:[],ignorePause:!0,zIndex:5500,check:function(b){this.objectArray.push(b)},clickObject:function(b){this.isFirstPressed&&"function"==typeof b.clicked&&(b.clicked(),this.addToClickedObjectList(b));this.isPressed&&!this.isReleased&&
"function"==typeof b.clicking&&b.clicking();this.isReleased&&"function"==typeof b.released&&(b.released(),this.removeFromClickedObjectList(b))},refreshPos:function(){this.pos=ig.game.io.getClickPos()},update:function(){this.parent();this.refreshPos();var b=null,c=-1;for(a=this.objectArray.length-1;-1<a;a--)this.objectArray[a].zIndex>c&&(c=this.objectArray[a].zIndex,b=this.objectArray[a]);if(null!=b)null!=this.hoveringItem?this.hoveringItem!=b&&("function"==typeof this.hoveringItem.leave&&this.hoveringItem.leave(),
"function"==typeof b.over&&b.over()):"function"==typeof b.over&&b.over(),this.hoveringItem=b,this.clickObject(b),this.objectArray=[];else if(null!=this.hoveringItem&&"function"==typeof this.hoveringItem.leave&&(this.hoveringItem.leave(),this.hoveringItem=null),this.isReleased){for(b=0;b<this.clickedObjectList.length;b++)c=this.clickedObjectList[b],"function"==typeof c.releasedOutside&&c.releasedOutside();this.clickedObjectList=[]}this.isFirstPressed=ig.input.pressed("click");this.isReleased=ig.input.released("click");
this.isPressed=ig.input.state("click")},addToClickedObjectList:function(b){this.clickedObjectList.push(b)},removeFromClickedObjectList:function(b){for(var c=[],d=0;d<this.clickedObjectList.length;d++){var e=this.clickedObjectList[d];e!=b&&c.push(e)}this.clickedObjectList=c}})});ig.baked=!0;
ig.module("game.entities.pointer-selector").requires("game.entities.pointer").defines(function(){EntityPointerSelector=EntityPointer.extend({zIndex:1E3,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},init:function(b,c,d){this.parent(b,c,d)}})});ig.baked=!0;
ig.module("game.entities.select").requires("impact.entity").defines(function(){EntitySelect=ig.Entity.extend({type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,canSelect:!1,canSelectTimerDuration:0.35,zIndex:99999,isHovering:!1,isSelected:!1,init:function(b,c,d){this.parent(b,c,d);this.canSelectTimer=new ig.Timer(this.canSelectTimerDuration)},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==b)return!0;return!1},checkClickableLayer:function(b,
c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",c)):this.createClickableOutboundLayer(b,c,"media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,e){var f=ig.$new("div");f.id=b;document.body.appendChild(f);$("#"+f.id).css("float","left");$("#"+f.id).css("width",this.size.x*multiplier);$("#"+f.id).css("height",this.size.y*multiplier);$("#"+f.id).css("position","absolute");var g=w/2-destW/2,m=h/
2-destH/2;w==mobileWidth?($("#"+f.id).css("left",this.pos.x),$("#"+f.id).css("top",this.pos.y)):($("#"+f.id).css("left",g+this.pos.x*multiplier),$("#"+f.id).css("top",m+this.pos.y*multiplier));e?$("#"+f.id).html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):$("#"+f.id).html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=$("#"+f.id).width();dynamicClickableEntityDivs[b].height=
$("#"+f.id).height();dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y},hovered:function(){this.isHovering=!0;this.dehoverOthers()},dehoverOthers:function(){var b=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<b.length;i++)b[i]!=this&&(b[i].isHovering=!1)},deselectOthers:function(){var b=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<b.length;i++)b[i]!=this&&(b[i].isSelected=!1)},update:function(){this.parent();this.canSelectTimer&&0<
this.canSelectTimer.delta()&&(this.canSelect=!0,this.canSelectTimer=null)}})});ig.baked=!0;ig.module("game.levels.opening").requires("impact.image","game.entities.opening-marketjs-logo").defines(function(){LevelOpening={entities:[{type:"EntityOpeningMarketJSLogo",x:520,y:212}],layer:[]}});ig.baked=!0;
ig.module("game.entities.games.hit-effect").requires("impact.entity").defines(function(){EntityHitEffect=ig.Entity.extend({hitEffectSheet:new ig.AnimationSheet("media/graphics/game/hit-effect.png",130,130),size:{x:130,y:130},inverted:!1,opacity:1,isFading:!1,init:function(b,c,d){this.parent(b,c,d);b=0.4;this.isSpecialAction?(this.anim=new ig.Animation(this.hitEffectSheet,0.1,[0,1,2],!0),b=1.5):this.anim=new ig.Animation(this.hitEffectSheet,0.1,[0,1,2],!0);this.tween({},b,{onComplete:function(){this.kill()}.bind(this)}).start();
this.zIndex=this.manager.zIndex+2;this.pos.x=this.inverted?this.pos.x+this.size.x/2:this.pos.x-this.size.x/2;this.pos.y-=this.size.y/2;ig.game.sortEntitiesDeferred()},update:function(){this.parent();this.anim.update();this.manager.killed&&this.kill()},draw:function(){this.parent();2==this.anim.frame&&!this.isFading&&(this.isFading=!0,this.tween({opacity:0},0.25).start());ig.system.context.save();ig.system.context.globalAlpha=this.opacity;ig.system.context.scale(ig.game.tmpScale,ig.game.tmpScale);
this.anim.draw(this.pos.x/ig.game.tmpScale,this.pos.y/ig.game.tmpScale);ig.system.context.restore()}})});ig.baked=!0;
ig.module("game.entities.games.character").requires("impact.entity","plugins.spriter.spriter-display","plugins.spriter.scml","game.entities.games.hit-effect").defines(function(){EntityCharacter=ig.Entity.extend({scmlArr:[new SpriterScml("media/graphics/animation/boxer1/chara.scml"),new SpriterScml("media/graphics/animation/boxer2/chara.scml"),new SpriterScml("media/graphics/animation/boxer3/chara.scml"),new SpriterScml("media/graphics/animation/boxer4/chara.scml"),new SpriterScml("media/graphics/animation/boxer5/chara.scml")],
"char":null,ctx:null,manager:null,initPos:{x:0,y:0},initSize:{x:0,y:0},anchor:"bottom",actions:[],playingAction:!1,needDoAction:!1,receivingDamage:!1,charaName:"boxer-1",health:100,energy:10,energyIncrement:2,damage:10,specialDamage:20,killed:!1,isSpecialAction:!1,isDoingSpecial:!1,specialActionCounter:0,receivedDamage:0,willReceiveDamage:!1,shadow:new ig.Image("media/graphics/game/shadow.png"),init:function(b,c,d){this.parent(b,c,d);this.zIndex=this.manager.player?this.manager.player.zIndex-1:this.manager.zIndex+
1;this.size.x=208;this.size.y=333;this.pos.x=-this.size.x+25;this.pos.y=-this.size.y-this.size.y;this.initPos.x=this.pos.x;this.initPos.y=this.pos.y;this.initSize.x=this.size.x;this.initSize.y=this.size.y;this.ctx=ig.system.context;this.initAnimations();this.chara=ig.game.spawnEntity(SpriterDisplay,this.pos.x,this.pos.y,{scml:this.scml});this.chara.entityName="boxer-1";this.chara.setAnimationSpeedPercent(this.actionIdle.speed);this.chara.setAnimationByName(this.actionIdle.name);this.chara.zIndex=
this.zIndex+2;ig.game.sortEntitiesDeferred()},draw:function(){this.parent();if(!this.killed){this.ctx.save();this.ctx.globalAlpha=this.chara.root.alpha;this.ctx.scale(ig.game.drawScale,ig.game.drawScale);var b=this.shadow.height;this.shadow.drawImage(0,0,this.shadow.width,this.shadow.height,this.pos.x/ig.game.drawScale+15,(this.pos.y+this.size.y-b*ig.game.drawScale/2-5)/ig.game.drawScale+0.7*this.initSize.y,this.shadow.width,b);this.ctx.restore()}},randRange:function(b,c){return Math.floor(Math.random()*
(c-b+1))+b},update:function(){this.parent();var b=this.initPos.x,c=this.initPos.y,d=this.initSize.x,e=this.initSize.y;ig.ua.mobile&&(c=ig.responsive.width>ig.responsive.height?c-this.manager.keyboard.fixedSizeY+120:c-this.manager.keyboard.size.y+50);var f=ig.game.drawScale*this.manager.effectScale,b=ig.responsive.toAnchor(b*ig.game.drawScale,c*ig.game.drawScale,this.anchor);this.size.x=d*f;this.size.y=e*f;this.pos.x=b.x-this.size.x/2*(this.manager.effectScale-ig.game.drawScale);this.pos.y=ig.ua.mobile?
ig.system.width<ig.system.height?b.y+100-this.size.y/2*(this.manager.effectScale-ig.game.drawScale):b.y-25-this.size.y/2*(this.manager.effectScale-ig.game.drawScale):ig.system.width>ig.system.height?b.y-this.size.y/2*(this.manager.effectScale-ig.game.drawScale)-this.size.y/2*(this.manager.effectScale-1):b.y-this.size.y/2*(this.manager.effectScale-ig.game.drawScale);this.updateCharPos();this.needDoAction&&!this.playingAction&&(this.needDoAction=!1,this.doAction());this.chara.scale={x:ig.game.drawScale*
this.manager.effectScale,y:ig.game.drawScale*this.manager.effectScale};this.isDoingSpecial&&(this.actionSpecials[0].damageAtArr[this.specialActionCounter]<=this.chara.time&&("number"!=typeof this._enemyHP&&(this._enemyHP=this.enemy.health,2.75>this.enemy.health&&(this._enemyHP=2.75),this.isEnemy&&(this._enemyHP/=2)),this.enemy.receiveDamage(0,(this._enemyHP+1)/this.actionSpecials[0].damageAtArr.length,this.actionSpecials[0],this.specialActionCounter==this.actionSpecials[0].damageAtArr.length-1),this.energy-=
100/this.actionSpecials[0].damageAtArr.length,this.specialActionCounter++),this.specialActionCounter>=this.actionSpecials[0].damageAtArr.length&&(this.energy=0,this.isDoingSpecial=!1,this.specialActionCounter=0,this._enemyHP=null))},updateCharPos:function(){this.chara.pos.x=this.pos.x+this.size.x/2;this.chara.pos.y=this.pos.y+this.size.y;if(this.receivingDamage&&!this.killed){var b=this.randRange(-2,2),c=this.randRange(-2,2);this.chara.pos.x+=b;this.chara.pos.y+=c}},move:function(){this.chara.setAnimationSpeedPercent(this.actionMove.speed);
this.chara.setAnimationByName(this.actionMove.name)},idle:function(){this.killed||(this.chara.setAnimationSpeedPercent(this.actionIdle.speed),this.chara.setAnimationByName(this.actionIdle.name))},doAction:function(){if(!this.killed&&!this.enemy.killed&&!(this.enemy.willReceiveDamage&&0>=this.enemy.health-this.enemy.receivedDamage))if(this.playingAction)this.needDoAction=!0;else{var b={},c;this.isSpecialAction=!1;100<=this.energy?(this.isSpecialAction=!0,this.isEnemy&&(this.isDoingSpecial=!0),b=JSON.parse(JSON.stringify(this.actionSpecials[Math.floor(Math.random()*
this.actionSpecials.length)])),c=this.specialDamage):(b=JSON.parse(JSON.stringify(this.actions[Math.floor(Math.random()*this.actions.length)])),c=this.damage);if(!this.isEnemy){for(var d=this.enemy.health,e=this.manager.phraseBox.text.length-this.manager.phraseBox.currentIndex,f=0;f<this.manager.texts.length;f++)e+=this.manager.texts[f].text.length;f=0;0<e&&(f=this.enemy.health/e);2.5>f&&(f=2.5);this.isSpecialAction&&(this.manager.phraseBox.isLastChar&&this.manager.phraseBox.correct?(c=d+1,b.isSpecialAction=
!0,ig.game.playSfx("power"),b.duration=1E3+(100*b.duration-3E4)/100,this.tween({},1,{onComplete:function(){this.chara.setAnimationSpeedPercent(100);this.enemy.chara.setAnimationSpeedPercent(100)}.bind(this)}).start(),this.chara.setAnimationSpeedPercent(30),this.manager.zoomIn(0.7,0.3),this.tween({},0.1,{onComplete:function(){this.manager.phraseBox.hide()}.bind(this)}).start(),this.manager.powerUpText.show(),this.enemy.chara.setAnimationSpeedPercent(30),this.enemy.stopAi(),this.enemy.stopTweens(),
this.enemy.chara.setAnimationByName(this.enemy.actionIdle.name),this.enemy.playingAction=!1,this.isDoingSpecial=!0):(this.isSpecialAction=!1,b=JSON.parse(JSON.stringify(this.actions[Math.floor(Math.random()*this.actions.length)]))));this.isSpecialAction||0!=f&&(c=f);this.manager.phraseBox.isLastChar&&this.manager.phraseBox.correct&&0==this.manager.texts.length&&(c=d+1)}this.energy+=this.energyIncrement;this.playingAction=!0;this.isSpecialAction||this.chara.setAnimationSpeedPercent(b.speed);this.chara.setAnimationByName(b.name,
!1);this.actionTween=this.tween({},b.duration/1E3,{onComplete:function(){!this.receivingDamage&&!this.killed&&(this.playingAction=!1,this.chara.setAnimationSpeedPercent(this.actionIdle.speed),this.chara.setAnimationByName(this.actionIdle.name,!1))}.bind(this)});this.actionTween.start();(this.isEnemy||!this.isSpecialAction)&&!this.enemy.killed&&!this.isDoingSpecial&&this.enemy.receiveDamage(b.damageAt,c,b)}},receiveDamage:function(b,c,d,e){this.killed||(this.willReceiveDamage=!0,this.receivedDamage=
c,this.tween({},b/1E3,{onComplete:function(){d.isSpecialAction&&!e&&c>=this.health&&(c=0);this.health-=c;this.willReceiveDamage=!1;ig.game.playSfx("hit"+(Math.floor(2*Math.random())+1));this.isEnemy?(0>=this.health&&!d.isSpecialAction&&(0<this.manager.texts.length?this.health=3*this.damage:this.manager.phraseBox.isLastChar||(this.health=this.damage)),ig.game.spawnEntity(EntityHitEffect,this.pos.x+d.effectPos.x*ig.game.drawScale,this.pos.y+d.effectPos.y*ig.game.drawScale,{manager:this,isSpecialAction:this.enemy.isSpecialAction})):
(this.manager.phraseBox.isLastChar&&!this.manager.phraseBox.correct&&(0==this.manager.texts.length?(this.manager.prepareTexts(0),this.manager.setText(),this.enemy.health<2*this.damage&&(this.enemy.health=2*this.damage)):this.manager.setText()),ig.game.spawnEntity(EntityHitEffect,this.pos.x+d.effectPos.x*ig.game.drawScale,this.pos.y+d.effectPos.y*ig.game.drawScale,{manager:this,isSpecialAction:this.enemy.isSpecialAction,inverted:d.inverted}));!this.playingAction&&!this.enemy.killed&&(this.chara.setAnimationSpeedPercent(this.actionDamage.speed),
this.chara.setAnimationByName(this.actionDamage.name),this.receivingDamage=!0);this.damageTween=this.tween({},this.actionDamage.duration/1E3,{onComplete:function(){this.receivingDamage=!1;!this.playingAction&&!this.killed&&(this.chara.setAnimationSpeedPercent(this.actionIdle.speed),this.chara.setAnimationByName(this.actionIdle.name,!1))}.bind(this)});this.damageTween.start();this.isEnemy&&!d.isSpecialAction&&(0<this.manager.texts.length&&this.manager.phraseBox.isLastChar&&this.manager.phraseBox.correct&&
!this.manager.player.needDoAction)&&this.bounceBack();this.isEnemy&&0>=this.health&&(this.manager.phraseBox.isLastChar&&this.manager.phraseBox.correct)&&this.killEnemy()}.bind(this)}).start())},kill:function(){this.stopTweens();this.chara.kill();this.parent()},win:function(){this.stopTweens();this.playingAction=!0;this.chara.setAnimationSpeedPercent(this.actionWin.speed);this.chara.setAnimationByName(this.actionWin.name,!1)},initAnimations:function(){this.actions=[{name:"jab",duration:300,damageAt:35,
speed:100,effectPos:{x:100,y:295},inverted:!1},{name:"uppercut",duration:300,damageAt:199,speed:100,effectPos:{x:65,y:295},inverted:!0},{name:"cross",duration:500,damageAt:350,speed:100,effectPos:{x:105,y:295},inverted:!1},{name:"hook",duration:300,damageAt:98,speed:100,effectPos:{x:95,y:295},inverted:!1}];this.actionSpecials=[{name:"powerup",duration:1700,damageAt:98,damageAtArr:[98,298,477,657,815,977,1097,1217,1317,1460],speed:100,effectPos:{x:100,y:295},inverted:!1,isSpecialAction:!0}];this.actionKO=
{name:"Idle",duration:500,speed:100};this.actionDamage={name:"Idle",duration:300,speed:100};this.actionWin={name:"Idle",duration:1500,speed:100};this.actionIdle={name:"Idle",duration:1500,speed:100};this.actionMove={name:"walk",duration:600,speed:100};this.actionDef={name:"guard",duration:600,speed:100};switch(this.charaName){case "boxer-1":this.scml=this.scmlArr[0];break;case "boxer-2":this.scml=this.scmlArr[1];break;case "boxer-3":this.scml=this.scmlArr[2];break;case "boxer-4":this.scml=this.scmlArr[3];
break;case "boxer-5":this.scml=this.scmlArr[4]}}})});ig.baked=!0;
ig.module("game.entities.games.player").requires("game.entities.games.character").defines(function(){EntityPlayer=EntityCharacter.extend({collides:ig.Entity.COLLIDES.NEVER,type:ig.Entity.TYPE.A,checkAgainst:ig.Entity.TYPE.B,targetPosX:0,playerIsIn:!0,init:function(b,c,d){this.parent(b,c,d);this.pos.x=-this.size.x+25;this.initPos.x=this.pos.x;this.targetPosX=-this.size.x+25;this.chara.setAnimationSpeedPercent(this.actionMove.speed)},update:function(){this.parent();this.killed||(this.initPos.x=-this.initSize.x-
5);!this.playerIsIn&&!this.manager.isPaused&&(this.initPos.x+=200*ig.system.tick,this.initPos.x>=this.targetPosX&&(this.playerIsIn=!0,this.chara.setAnimationSpeedPercent(this.actionIdle.speed),this.chara.setAnimationByName(this.actionIdle.name)))},check:function(b){null==this.enemy&&b instanceof EntityEnemy&&b.pos.x<=ig.responsive.width/2-25&&0<b.pos.x?(this.enemy=b,this.enemy.meetPlayer(this),this.idle(),this.manager.meetEnemy()):null!=this.enemy&&this.enemy.moveForward&&(b instanceof EntityEnemy&&
b.pos.x<=ig.responsive.width/2-25&&0<b.pos.x)&&(this.enemy.moveForward=!1,this.enemy.chara.setAnimationByName(this.actionIdle.name),this.enemy.performAttackTimer=!0,this.manager.meetEnemy())},disappear:function(){this.stopTweens();this.needDoAction=!1;this.tween({chara:{root:{alpha:0}}},0.5,{easing:ig.Tween.Easing.Cubic.EaseOut}).start()},kill:function(){this.killed||(ig.game.playSfx("swing"),ig.game.playSfx("bell3"),this.killed=!0,this.needDoAction=!1,this.enemy.stopAi(),this.manager.showKO(),this.enemy.hideHealthbar(),
this.stopTweens(!0),this.chara.setAnimationByName(this.actionDef.name,!1),this.tween({initPos:{x:this.initPos.x-750}},0.4,{onComplete:function(){}.bind(this)}).start(),this.chara.setAnimationSpeedPercent(this.actionKO.speed),this.manager.gameOver(),this.tween({},1,{onComplete:function(){this.enemy.win();this.stopTweens();this.tween({},this.actionWin.duration/1E3,{onComplete:function(){this.stopTweens();this.enemy.disappear();this.disappear();this.tween({},0.5,{onComplete:function(){}.bind(this)}).start()}.bind(this)}).start()}.bind(this)}).start())}})});
ig.baked=!0;
ig.module("impact.entity-pool").requires("impact.game").defines(function(){ig.EntityPool={pools:{},mixin:{staticInstantiate:function(b,c,d){return ig.EntityPool.getFromPool(this.classId,b,c,d)},erase:function(){ig.EntityPool.putInPool(this)}},enableFor:function(b){b.inject(this.mixin)},getFromPool:function(b,c,d,e){b=this.pools[b];if(!b||!b.length)return null;b=b.pop();b.reset(c,d,e);return b},putInPool:function(b){this.pools[b.classId]?this.pools[b.classId].push(b):this.pools[b.classId]=[b]},drainPool:function(b){delete this.pools[b]},
drainAllPools:function(){this.pools={}}};ig.Game.inject({loadLevel:function(b){ig.EntityPool.drainAllPools();this.parent(b)}})});ig.baked=!0;
ig.module("game.entities.games.particle").requires("impact.entity","impact.entity-pool").defines(function(){EntityParticle=ig.Entity.extend({controller:null,angle:0,speed:0,lifeTime:0,radius:0,timer:null,image:null,init:function(b,c,d){this.parent(b,c,d);this.setup()},reset:function(b,c,d){this.parent(b,c,d);this.setup()},setup:function(){this.timer=new ig.Timer(this.lifeTime);this.vel.x=this.speed*Math.cos(this.angle*Math.PI/180)*ig.game.tmpScale;this.vel.y=this.speed*Math.sin(this.angle*Math.PI/
180)*ig.game.tmpScale;this.zIndex=this.controller.zIndex;ig.game.sortEntitiesDeferred()},update:function(){this.parent();0<=this.timer.delta()&&this.kill()},draw:function(){this.parent();var b=ig.system.context;b.save();b.scale(ig.game.tmpScale,ig.game.tmpScale);this.image.drawImage((this.pos.x-this.radius)/ig.game.tmpScale,(this.pos.y-this.radius)/ig.game.tmpScale,2*this.radius,2*this.radius);b.restore()},kill:function(){this.parent();this.controller.particleDead()}});ig.EntityPool.enableFor(EntityParticle)});
ig.baked=!0;
ig.module("game.entities.games.particle-effect").requires("impact.entity","game.entities.games.particle").defines(function(){EntityParticleEffect=ig.Entity.extend({minAngle:0,maxAngle:0,minSpeed:0,maxSpeed:0,minLifeTime:0,maxLifeTime:0,duration:0,minCount:0,maxCount:0,emission:0,minRadius:0,maxRadius:0,colors:[],loop:!1,timer:null,particles:0,elapsedTime:0,emissionCount:0,particle:null,paused:!1,init:function(b,c,d){this.parent(b,c,d);this.loop||(this.timer=new ig.Timer(this.duration));this.emissionCount=
this.emission/40;1>this.emissionCount&&(this.emissionCount=1)},update:function(){if(!this.paused){this.parent();this.elapsedTime+=ig.system.tick;for(var b=0;b<this.emissionCount;b++)if(this.particles+1<=this.maxCount)this.particles++,this.createParticle();else break;for(b=0;b<this.minCount-this.particles;b++)this.particles++,this.createParticle();!this.loop&&0<=this.timer.delta()&&this.kill()}},createParticle:function(){var b={};b.angle=this.randomIntFromInterval(this.minAngle,this.maxAngle);b.speed=
this.randomIntFromInterval(this.minSpeed,this.maxSpeed);b.lifeTime=this.randomIntFromInterval(this.minLifeTime,this.maxLifeTime);b.radius=this.randomIntFromInterval(this.minRadius,this.maxRadius);b.controller=this;b.image=this.colors[Math.floor(Math.random()*this.colors.length)];ig.game.spawnEntity(EntityParticle,this.pos.x,this.pos.y,b)},particleDead:function(){this.particles--},randomIntFromInterval:function(b,c){return parseFloat((Math.random()*(c-b)+b).toFixed(4))},pause:function(){this.paused=
!0;this.timer.pause()},resume:function(){this.paused=!1;this.timer.unpause()}})});ig.baked=!0;
ig.module("game.entities.games.enemy").requires("game.entities.games.character","plugins.spriter.spriter-display","plugins.spriter.scml","game.entities.games.particle-effect").defines(function(){EntityEnemy=EntityCharacter.extend({collides:ig.Entity.COLLIDES.NEVER,type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,id:1,charaName:"boxer-2",isEnemy:!0,damage:5,healthBarBg:new ig.Image("media/graphics/game/enemy-hp-bar-bg.png"),healthBarFg:new ig.Image("media/graphics/game/enemy-hp-bar-fg.png"),healthBarValue:100,
healthBarAlpha:0,healthBarVisible:!1,attackInterval:5,attackIntervalMin:1,attackTimer:0,performAttackTimer:!1,energyIncrement:20,specialDamage:15,moveForward:!1,dust:new ig.Image("media/graphics/game/dust.png"),init:function(b,c,d){this.parent(b,c,d);this.actionIdle={name:"Idle",duration:600};this.pos.x=-25;this.initPos.x=this.pos.x;this.chara.scale={x:-1,y:1};this.chara.setAnimationSpeedPercent(125);this.chara.setAnimationByName(this.actionMove.name);this.attackInterval<this.attackIntervalMin&&(this.attackInterval=
this.attackIntervalMin)},draw:function(){this.parent();var b=ig.game.drawScale*this.manager.effectScale;this.ctx.save();this.ctx.scale(b,b);this.killed&&(this.ctx.translate(this.size.x/2,this.size.y/2),this.ctx.rotate(90*Math.PI/180));this.ctx.globalAlpha=this.healthBarAlpha;this.healthBarBg.drawImage(0,0,this.healthBarBg.width,this.healthBarBg.height,this.pos.x/b+(this.size.x/b-this.healthBarBg.width)/2,(this.pos.y+250)/b,this.healthBarBg.width,this.healthBarBg.height);var c=this.healthBarValue;
100<c&&(c=100);0>c&&(c=0);c=this.healthBarFg.width*(c/100);c=ig.game.correctFloat(c);0>=c&&(c=0.01);this.healthBarFg.drawImage(0,0,c,this.healthBarFg.height,this.pos.x/b+(this.size.x/b-this.healthBarBg.width)/2,(this.pos.y+250)/b,c,this.healthBarFg.height);this.ctx.restore()},update:function(){this.parent();this.chara.scale={x:-ig.game.drawScale*this.manager.effectScale,y:ig.game.drawScale*this.manager.effectScale};this.healthBarValue-=(this.healthBarValue-this.health)/5;0>=Math.ceil(this.healthBarValue)&&
0>=this.manager.texts.length&&this.manager.phraseBox.isLastChar&&this.manager.phraseBox.correct&&this.killEnemy();!this.manager.isPaused&&!this.manager.pauseAttack&&this.performAttackTimer&&(this.attackTimer+=ig.system.tick,this.attackTimer>this.attackInterval&&(this.attackTimer=0,this.doAction()));100>this.health&&!this.healthBarVisible&&this.showHealthBar();this.moveForward&&(this.initPos.x-=100*ig.system.tick*ig.game.drawScale);null!=this.particleDust&&(this.particleDust.pos.x=this.pos.x+this.size.x/
2,this.particleDust.pos.y=this.pos.y+this.size.y)},killEnemy:function(){this.killed||(ig.game.playSfx("swing"),this.killed=!0,this.enemy.needDoAction=!1,this.stopAi(),this.manager.showKO(),setTimeout(function(){this.stopTweens(!0);this.chara.setAnimationByName(this.actionDef.name,!1);this.tween({initPos:{x:this.pos.x+250}},0.4).start();this.chara.setAnimationSpeedPercent(this.actionKO.speed);this.tween({},this.actionSpecials[0].duration/1E3,{onComplete:function(){ig.game.playSfx("land");this.manager.roundEnd();
ig.game.playSfx("bell3");ig.game.stopSfx("crowd");ig.game.playSfx("win");this.hide()}.bind(this)}).start()}.bind(this),10),null!=this.particleDust&&this.particleDust.kill())},meetPlayer:function(b){this.enemy=b;this.chara.setAnimationSpeedPercent(this.actionIdle.speed);this.chara.setAnimationByName(this.actionIdle.name);this.performAttackTimer=!0},showHealthBar:function(){this.healthBarVisible=!0;this.tween({healthBarAlpha:1},0.5,{easing:ig.Tween.Easing.Cubic.EaseIn}).start()},hide:function(){this.tween({healthBarAlpha:0,
chara:{root:{alpha:0}}},0.5,{delay:0.5,easing:ig.Tween.Easing.Cubic.EaseOut,onComplete:function(){this.kill()}.bind(this)}).start()},hideHealthbar:function(){this.tween({healthBarAlpha:0},0.5,{easing:ig.Tween.Easing.Cubic.EaseOut}).start()},stopAi:function(){this.performAttackTimer=this.needDoAction=!1},disappear:function(){this.tween({healthBarAlpha:0,chara:{root:{alpha:0}}},0.5,{easing:ig.Tween.Easing.Cubic.EaseOut}).start()},bounceBack:function(){this.chara.setAnimationSpeedPercent(this.actionDef.speed);
this.chara.setAnimationByName(this.actionDef.name);this.stopAi();this.stopTweens();this.playingAction=this.receivingDamage=!1;setTimeout(function(){this.tween({initPos:{x:this.initPos.x+this.size.x}},0.8,{easing:ig.Tween.Easing.Cubic.EaseOut,onComplete:function(){this.moveForward=!0;this.chara.setAnimationSpeedPercent(this.actionMove.speed);this.chara.setAnimationByName(this.actionMove.name)}.bind(this)}).start()}.bind(this),50);this.createDust()},createDust:function(){var b={minAngle:-20,maxAngle:0,
minSpeed:50,maxSpeed:100,minLifeTime:0.5,maxLifeTime:1,duration:1,minCount:5,maxCount:10,emission:5,minRadius:8,maxRadius:16};b.colors=[this.dust];this.particleDust=ig.game.spawnEntity(EntityParticleEffect,0,200,b);this.particleDust.zIndex=this.zIndex+1;ig.game.sortEntitiesDeferred()}})});ig.baked=!0;
ig.module("game.entities.games.letter-box").requires("impact.entity").defines(function(){EntityLetterBox=ig.Entity.extend({ctx:null,bg:new ig.Image("media/graphics/game/letter-box.png"),bgSuccess:new ig.Image("media/graphics/game/letter-box-success.png"),bgCurrent:new ig.Image("media/graphics/game/letter-box-current.png"),bgWrong:new ig.Image("media/graphics/game/letter-box-wrong.png"),"char":"",mTween:null,state:0,currentAlpha:1,padding:{x:0,y:0},initPos:{x:0,y:0},initSize:{x:0,y:0},init:function(b,
c,d){this.parent(b,c,d);this.ctx=ig.system.context;this.size.x=this.bg.width;this.size.y=this.bg.height;this.zIndex=this.manager.zIndex+1;ig.game.sortEntitiesDeferred();this.initPos.x=this.pos.x;this.initPos.y=this.pos.y;this.initSize.x=this.size.x;this.initSize.y=this.size.y},draw:function(){this.parent();var b=this.pos.x-this.padding.x,c=this.pos.y-this.padding.y;this.ctx.save();this.ctx.scale(ig.game.tmpScale,ig.game.tmpScale);this.ctx.globalAlpha=this.manager.alpha;this.bg.draw(b/ig.game.tmpScale,
c/ig.game.tmpScale);1==this.state?(this.ctx.globalAlpha=Math.round(this.currentAlpha)*this.manager.alpha,this.bgCurrent.draw(b/ig.game.tmpScale,c/ig.game.tmpScale),this.ctx.globalAlpha=this.manager.alpha):2==this.state?this.bgSuccess.draw(b/ig.game.tmpScale,c/ig.game.tmpScale):3==this.state&&(0<this.shakeValue?(this.padding.x=0,this.padding.y=0,this.shakeValue-=ig.system.tick*this.shakeReductionMultiplier,this.padding.x+=ig.random.float(-this.shakeValue,this.shakeValue),this.padding.y+=ig.random.float(-this.shakeValue,
this.shakeValue)):(this.padding.x=0,this.padding.y=0),this.bgWrong.draw(b/ig.game.tmpScale,c/ig.game.tmpScale));this.ctx.fillStyle="rgba(0,0,0,1)";this.ctx.font="24px nexabold,sans-serif";this.ctx.textAlign="center";this.ctx.textBaseline="middle";this.ctx.fillText(this.char,b/ig.game.tmpScale+this.size.x/2,c/ig.game.tmpScale+this.size.y/2+2);this.ctx.restore()},update:function(){this.parent()},current:function(){this.currentAlpha=1;this.mTween=this.tween({currentAlpha:0},0.1,{loop:ig.Tween.Loop.Reverse});
this.mTween.start();this.state=1},correct:function(){this.mTween.stop();this.mTween=this.tween({padding:{x:5,y:15}},0.1,{loop:ig.Tween.Loop.Reverse,loopCount:1,easing:ig.Tween.Easing.Quadratic.EaseIn});this.mTween.start();this.state=2},wrong:function(){this.mTween.stop();this.state=3;this.shake(5,10)},normal:function(){this.mTween.stop();this.state=0},shakeValue:0,shakeReductionMultiplier:0,shake:function(b,c){this.padding.x=0;this.padding.y=0;b||(b=5);c||(c=10);this.shakeValue=b;this.shakeReductionMultiplier=
c}})});ig.baked=!0;
ig.module("game.entities.games.phrase-box").requires("impact.entity","game.entities.games.letter-box").defines(function(){EntityPhraseBox=ig.Entity.extend({ctx:null,manager:null,text:"TEST TEXT",letterBoxes:[],chars:[],mPosY:-150,widthPercentage:0.9,anchor:"bottom",space:{x:5,y:5},currentIndex:0,isLastChar:!1,alpha:0,tmpShakePos:{x:0,y:0},correct:!1,isBackspaceIndicatorShown:!1,backspaceIndicatorAlpha:1,backspaceIndicatorTween:null,tutorialMode:!1,backspaceImage:new ig.Image("media/graphics/game/backspace.png"),init:function(b,
c,d){this.parent(b,c,d);this.ctx=ig.system.context;this.size.x=this.widthPercentage*ig.system.width;this.zIndex=this.manager.zIndex+3;ig.game.sortEntitiesDeferred()},draw:function(){this.parent();this.ctx.save();this.ctx.globalAlpha=this.alpha;this.ctx.fillStyle="rgba(0,0,0,0.3)";this.ctx.fillRect(-20,this.pos.y-10,ig.system.width+40,this.size.y+20);this.ctx.restore();this.isBackspaceIndicatorShown&&(this.ctx.save(),this.ctx.scale(ig.game.tmpScale,ig.game.tmpScale),this.ctx.globalAlpha=this.alpha*
this.backspaceIndicatorAlpha,this.ctx.fillStyle="rgba(255,255,255,1)",this.ctx.font="32px nexabold,sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="bottom",this.backspaceImage.drawImage(ig.system.width/2-this.backspaceImage.width/2/ig.game.tmpScale,(this.pos.y-20-this.backspaceImage.height)/ig.game.tmpScale),this.ctx.restore())},updateOld:function(){this.parent();if(0!=this.letterBoxes.length){this.size.x=this.widthPercentage*ig.system.width;ig.system.width>ig.system.height&&(this.size.x=
0.75*ig.system.width);var b=this.space.x*ig.game.tmpScale,c=this.space.y*ig.game.tmpScale,d=this.letterBoxes[0].size.x*ig.game.tmpScale,e=this.letterBoxes[0].size.y*ig.game.tmpScale,f=Math.floor(this.size.x/(d+b)),g=Math.ceil(this.letterBoxes.length/f);this.size.y=g*e+(g-1)*c;this.pos.x=-this.size.x/2;this.pos.y=this.mPosY-this.size.y;0<this.shakeValue?(this.tmpShakePos.x=0,this.tmpShakePos.y=0,this.shakeValue-=ig.system.tick*this.shakeReductionMultiplier,this.tmpShakePos.x+=ig.random.float(-this.shakeValue,
this.shakeValue),this.tmpShakePos.y+=ig.random.float(-this.shakeValue,this.shakeValue)):(this.tmpShakePos.x=0,this.tmpShakePos.y=0);this.pos.x+=this.tmpShakePos.x;this.pos.y+=this.tmpShakePos.y;this.pos=ig.responsive.toAnchor(this.pos.x,this.pos.y,this.anchor);for(var m=this.mPosY-this.size.y,p=0,j=this.letterBoxes.length,n=0;n<g;n++){var r=f;j<r&&(r=j);for(var q=ig.responsive.toAnchor(-(r*d+(r-1)*b)/2,m+n*(e+c),this.anchor),s=0;s<r;s++)this.letterBoxes[p].pos.x=q.x+s*(d+b)+this.tmpShakePos.x,this.letterBoxes[p].pos.y=
q.y+this.tmpShakePos.y,p++;j-=r}}},update:function(){this.parent();if(0!=this.letterBoxes.length){this.size.x=this.widthPercentage*ig.system.width;ig.system.width>ig.system.height&&(this.size.x=0.75*ig.system.width);var b=this.space.x*ig.game.tmpScale,c=this.space.y*ig.game.tmpScale,d=this.letterBoxes[0].size.x*ig.game.tmpScale,e=this.letterBoxes[0].size.y*ig.game.tmpScale;this.boxSizeY=e;for(var f=[],g=-1,m=0,p=1,j=[],n=0;n<this.letterBoxes.length;n++){m+=d+b;if(m>this.size.x||n==this.letterBoxes.length-
1){var r,q=!1;0<f.length?n==this.letterBoxes.length-1?r=n-f[f.length-1]:(r=g-f[f.length-1],0==r?(r=n-g-1,f.push(n-1),q=!0):f.push(g)):n==this.letterBoxes.length-1?r=n+1:-1==g?(r=n,f.push(n-1),q=!0):(r=g+1,f.push(g));r=r*d+(r-1)*b;var s=ig.responsive.toAnchor(-r/2,0,this.anchor);j.push(s.x);n!=this.letterBoxes.length-1&&(p++,m=q?0:m-r)}" "==this.letterBoxes[n].char&&(g=n)}this.size.y=p*e+(p-1)*c;this.pos.x=-this.size.x/2;this.pos.y=this.mPosY-this.size.y;0<this.shakeValue?(this.tmpShakePos.x=0,this.tmpShakePos.y=
0,this.shakeValue-=ig.system.tick*this.shakeReductionMultiplier,this.tmpShakePos.x+=ig.random.float(-this.shakeValue,this.shakeValue),this.tmpShakePos.y+=ig.random.float(-this.shakeValue,this.shakeValue)):(this.tmpShakePos.x=0,this.tmpShakePos.y=0);this.pos.x+=this.tmpShakePos.x;this.pos.y+=this.tmpShakePos.y;this.pos=ig.responsive.toAnchor(this.pos.x,this.pos.y,this.anchor);for(n=m=g=0;n<this.letterBoxes.length;n++)n>f[g]&&(g++,m=0),this.letterBoxes[n].pos.x=j[g]+m*(d+b)+this.tmpShakePos.x,this.letterBoxes[n].pos.y=
this.pos.y+g*(e+c)+this.tmpShakePos.y,m++}},setText:function(b,c){ig.game.playSfx("roundText");this.hideBackspaceIndicator();this.text=b;this.currentIndex=0;this.correct=this.isLastChar=!1;for(var d=0;d<this.letterBoxes.length;d++)this.letterBoxes[d].kill();this.letterBoxes=[];this.chars=this.text.split("");for(d=0;d<this.chars.length;d++){var e=ig.game.spawnEntity(EntityLetterBox,0,0,{manager:this,"char":this.chars[d]});this.letterBoxes.push(e)}this.letterBoxes[this.currentIndex].current();this.tween({alpha:1},
0.5,{easing:ig.Tween.Easing.Cubic.EaseIn,onComplete:function(){this.manager.player.killed?this.alpha=0:(c&&c(),this.shake(this.shakeValue,this.shakeReductionMultiplier))}.bind(this)}).start()},hide:function(b){this.hideBackspaceIndicator();0==this.alpha?b&&b():(this.stopTweens(),this.tween({alpha:0},0.3,{easing:ig.Tween.Easing.Cubic.EaseOut,onComplete:function(){b&&b()}.bind(this)}).start())},check:function(b){if(this.currentIndex<this.letterBoxes.length){this.manager.totalTyping++;this.currentIndex==
this.letterBoxes.length-1&&(this.isLastChar=!0,"undefined"!=typeof this.manager.tutorial&&0==this.manager.tutorial.tutorialNumber&&(this.manager.tutorial.tutorialNumber=1));if(b==this.chars[this.currentIndex])this.letterBoxes[this.currentIndex].correct(),this.correct=!0,this.manager.player.doAction(),this.manager.comboText.hit(),b=this.manager.correctScore+this.manager.bonusCombo*this.manager.comboText.combo,this.manager.scoreBar.addScore(b),this.manager.score+=b,ig.game.playSfx("type"),this.manager.totalCorrect++;
else{if(this.tutorialMode)return;this.letterBoxes[this.currentIndex].wrong();this.correct=!1;this.manager.player.enemy.doAction();this.manager.comboText.fail();ig.game.playSfx("beep");this.manager.totalWrong++;this.showBackspaceIndicator()}this.currentIndex++;this.currentIndex<this.letterBoxes.length&&this.letterBoxes[this.currentIndex].current();if(this.isLastChar&&0<this.manager.texts.length&&(!this.correct||!(100<this.manager.player.energy||this.manager.player.isSpecialAction)))this.hide(),this.manager.checkShowPerfectText()}},
shakeValue:5,shakeReductionMultiplier:15,shake:function(b,c){b||(b=5);c||(c=10);this.shakeValue=b;this.shakeReductionMultiplier=c},backspace:function(){ig.game.playSfx("type");this.isLastChar||0==this.currentIndex||(this.letterBoxes[this.currentIndex].normal(),this.currentIndex--,this.letterBoxes[this.currentIndex].current(),this.hideBackspaceIndicator())},showBackspaceIndicator:function(){this.isBackspaceIndicatorShown=!0;this.backspaceIndicatorAlpha=0;null==this.backspaceIndicatorTween&&(this.backspaceIndicatorTween=
this.tween({backspaceIndicatorAlpha:1},0.2,{loop:ig.Tween.Loop.Reverse,loopCount:6,onComplete:function(){this.hideBackspaceIndicator()}.bind(this)}));this.backspaceIndicatorTween.start()},hideBackspaceIndicator:function(){this.isBackspaceIndicatorShown=!1;null!=this.backspaceIndicatorTween&&this.backspaceIndicatorTween.stop()}})});ig.baked=!0;
ig.module("game.entities.games.keyboard-tile").requires("impact.entity").defines(function(){EntityKeyboardTile=ig.Entity.extend({collides:ig.Entity.COLLIDES.NEVER,type:ig.Entity.TYPE.A,id:"","char":"",bg:null,bgPortrait:null,bgLandscape:null,ctx:null,pressed:!1,scale:1,targetScale:1,oriSize:{x:0,y:0},init:function(b,c,d){this.parent(b,c,d);this.bg=ig.responsive.width>ig.responsive.height?this.bgLandscape:this.bgPortrait;this.size.x=this.bg.width;this.size.y=this.bg.height;this.size.x=this.bg.width;
this.size.y=this.bg.height;this.ctx=ig.system.context;this.zIndex=this.manager.zIndex+1;ig.game.sortEntitiesDeferred()},draw:function(){this.parent();this.ctx.save();this.ctx.scale(this.scale,this.scale);var b=(this.pos.y+0.5*this.size.y*(1-this.scale))/this.scale;this.pressed&&(b+=2.5);this.bg.drawImage(0,0,this.bg.width,this.bg.height,(this.pos.x+0.5*this.size.x*(1-this.scale))/this.scale,b,this.size.x,this.size.y);this.ctx.fillStyle="rgba(0,0,0,1)";this.ctx.font="28px nexabold,sans-serif";this.ctx.textAlign=
"center";this.ctx.textBaseline="middle";b=(this.pos.y+this.size.y/2+2)/this.scale;this.pressed&&(b+=2.5);this.ctx.fillText(this.char,(this.pos.x+this.size.x/2)/this.scale,b);this.ctx.restore()},update:function(){this.parent();this.checkRelease();this.bg=ig.responsive.width>ig.responsive.height?this.bgLandscape:this.bgPortrait;this.oriSize.x=this.bg.width;this.oriSize.y=this.bg.height},clicked:function(){this.targetScale=0.85;if(!this.pressed&&(this.pressed=!0,"function"===typeof this.manager.onButtonReleased))this.manager.onButtonReleased(this.id)},
released:function(){this.pressed&&(this.pressed=!1,this.targetScale=1)},checkRelease:function(){ig.input.released("click")&&(this.targetScale=1)},show:function(){this.zIndex=this.manager.zIndex+1;ig.game.sortEntitiesDeferred()},hide:function(){this.zIndex=-1;ig.game.sortEntitiesDeferred()}})});ig.baked=!0;
ig.module("game.entities.games.keyboard").requires("impact.entity","game.entities.games.keyboard-tile").defines(function(){EntityKeyboard=ig.Entity.extend({tileSpace:{x:5,y:5},padding:10,tileBg:new ig.Image("media/graphics/game/keyboard-tile.png"),tileBg2:new ig.Image("media/graphics/game/keyboard-tile2.png"),bsBg:new ig.Image("media/graphics/game/backspace.png"),sBg:new ig.Image("media/graphics/game/space.png"),tileBgL:new ig.Image("media/graphics/game/keyboard-tile-l.png"),tileBg2L:new ig.Image("media/graphics/game/keyboard-tile2-l.png"),
bsBgL:new ig.Image("media/graphics/game/backspace-l.png"),sBgL:new ig.Image("media/graphics/game/space-l.png"),manager:null,tiles:[],bckSpace:null,space:null,anchor:"bottom",forceShowNumpad:!1,portrait:!1,changeOrientation:!0,doneChangeOrientation:!1,fixedSizeY:0,init:function(b,c,d){this.parent(b,c,d);this.ctx=ig.system.context;this.zIndex=this.manager.zIndex+3;ig.game.sortEntitiesDeferred();var e="1234567890".split("");b=["QWERTYUIOP".split(""),"ASDFGHJKL".split(""),"ZXCVBNM".split("")];c=[];for(d=
0;d<e.length;d++){var f=ig.game.spawnEntity(EntityKeyboardTile,0,0,{id:"_"+e[d],manager:this,bgPortrait:this.tileBg,bgLandscape:this.tileBgL,"char":e[d]});c.push(f)}this.tiles.push(c);for(d=0;d<b.length;d++){c=[];for(e=0;e<b[d].length;e++)f=ig.game.spawnEntity(EntityKeyboardTile,0,0,{id:b[d][e],manager:this,bgPortrait:this.tileBg,bgLandscape:this.tileBgL,"char":b[d][e]}),c.push(f);this.tiles.push(c)}this.numpad=ig.game.spawnEntity(EntityKeyboardTile,0,0,{manager:this,bgPortrait:this.tileBg2,bgLandscape:this.tileBg2L,
"char":"123",id:"numpad"});this.numpad.hide();this.comma=ig.game.spawnEntity(EntityKeyboardTile,0,0,{manager:this,bgPortrait:this.tileBg,bgLandscape:this.tileBgL,"char":",",id:"COMMA"});this.period=ig.game.spawnEntity(EntityKeyboardTile,0,0,{manager:this,bgPortrait:this.tileBg,bgLandscape:this.tileBgL,"char":".",id:"PERIOD"});this.bckSpace=ig.game.spawnEntity(EntityKeyboardTile,0,0,{manager:this,bgPortrait:this.bsBg,bgLandscape:this.bsBgL,"char":"",id:"BACKSPACE"});this.space=ig.game.spawnEntity(EntityKeyboardTile,
0,0,{manager:this,bgPortrait:this.sBg,bgLandscape:this.sBgL,"char":"",id:"SPACE"})},draw:function(){this.parent();this.ctx.save();this.ctx.fillStyle="rgba(221,223,228,1)";this.ctx.fillRect(this.pos.x,this.pos.y,this.size.x,this.size.y);this.ctx.restore()},update:function(){this.parent();if(!this.changeOrientation&&(this.portrait&&ig.responsive.width>ig.responsive.height||!this.portrait&&ig.responsive.width<=ig.responsive.height))this.changeOrientation=!0,this.forceShowNumpad=this.doneChangeOrientation=
!1,this.portrait=ig.responsive.width>ig.responsive.height?!1:!0;this.changeOrientation&&!this.doneChangeOrientation&&(this.doneChangeOrientation=!0,this.changeOrientation=!1);var b=!1;ig.responsive.width>ig.responsive.height&&(b=!1,this.forceShowNumpad&&(b=!1));var c=(ig.system.width-2*this.padding-9*this.tileSpace.x)/10;this.numpad.size.x=this.numpad.oriSize.x/this.tiles[0][0].oriSize.x*c;this.bckSpace.size.x=this.bckSpace.oriSize.x/this.tiles[0][0].oriSize.x*c;this.space.size.x=this.space.oriSize.x/
this.tiles[0][0].oriSize.x*c;var d=newPeriodWidth=c;this.comma.size.x=d;this.period.size.x=newPeriodWidth;this.size.x=ig.system.width;this.fixedSizeY=2*this.padding+4*this.tiles[0][0].size.y+3*this.tileSpace.y;if(b){this.size.y=2*this.padding+5*this.tiles[0][0].size.y+4*this.tileSpace.y;for(d=0;d<this.tiles[0].length;d++)this.tiles[0][d].show();this.numpad.hide()}else{this.size.y=2*this.padding+4*this.tiles[0][0].size.y+3*this.tileSpace.y;for(d=0;d<this.tiles[0].length;d++)this.tiles[0][d].hide()}this.pos=
ig.responsive.toAnchor(-this.size.x/2,-this.size.y,this.anchor);for(var e,f,d=b?0:1;d<this.tiles.length;d++){e=this.tiles[d].length*c+(this.tiles[d].length-1)*this.tileSpace.x;e=ig.responsive.toAnchor(-e/2,0,this.anchor);f=b?this.pos.y+this.padding+d*(this.tiles[d][0].size.y+this.tileSpace.y):this.pos.y+this.padding+(d-1)*(this.tiles[d][0].size.y+this.tileSpace.y);for(var g=0;g<this.tiles[d].length;g++)this.tiles[d][g].pos.x=e.x+g*(c+this.tileSpace.x),this.tiles[d][g].pos.y=f,this.tiles[d][g].size.x=
c;!b&&3==d&&(this.numpad.pos.x=e.x-this.tileSpace.x-this.numpad.size.x,this.numpad.pos.y=f);3==d&&(this.bckSpace.pos.x=e.x+g*(c+this.tileSpace.x),this.bckSpace.pos.y=f)}e=this.comma.size.x+this.space.size.x+this.period.size.x+2*this.tileSpace.x;e=ig.responsive.toAnchor(-e/2,0,this.anchor);f=b?this.pos.y+this.padding+4*(this.space.size.y+this.tileSpace.y):this.pos.y+this.padding+3*(this.space.size.y+this.tileSpace.y);this.comma.pos.x=e.x;this.comma.pos.y=f;this.space.pos.x=this.comma.pos.x+this.comma.size.x+
this.tileSpace.x;this.space.pos.y=f;this.period.pos.x=this.space.pos.x+this.space.size.x+this.tileSpace.x;this.period.pos.y=f},onButtonReleased:function(b){if("numpad"==b)this.forceShowNumpad=!this.forceShowNumpad;else this.manager.onButtonReleased(b)}})});ig.baked=!0;
ig.module("game.entities.games.status-bar").requires("impact.entity").defines(function(){EntityStatusBar=ig.Entity.extend({manager:null,ctx:null,bg:new ig.Image("media/graphics/game/game-bar-bg.png"),charIcon:new ig.Image("media/graphics/game/icon-character-1.png"),healthBar:new ig.Image("media/graphics/game/bar-health-left.png"),energyBar:new ig.Image("media/graphics/game/bar-energy-left.png"),health:100,energy:10,power:0,anchor:"top-left",init:function(b,c,d){this.parent(b,c,d);this.pos.x=25;this.pos.y=
13;this.ctx=ig.system.context;this.zIndex=this.manager.zIndex+2;ig.game.sortEntitiesDeferred()},draw:function(){this.parent();this.ctx.save();this.ctx.scale(ig.game.tmpScale,ig.game.tmpScale);this.pos.y=ig.responsive.width>ig.responsive.height?13:28;var b=ig.responsive.toAnchor(this.pos.x,this.pos.y,this.anchor);this.bg.draw(b.x/ig.game.tmpScale,b.y/ig.game.tmpScale);this.charIcon.draw((20*ig.game.tmpScale+b.x)/ig.game.tmpScale,(26*ig.game.tmpScale+b.y)/ig.game.tmpScale);var b=ig.responsive.toAnchor((44+
this.charIcon.width)*ig.game.tmpScale+3,this.pos.y+30*ig.game.tmpScale,this.anchor),c=this.health;100<c&&(c=100);0>c&&(c=0);c=this.healthBar.width*(c/100);c=ig.game.correctFloat(c);0>=c&&(c=0.01);this.healthBar.drawImage(0,0,c,this.healthBar.height,this.pos.x/ig.game.tmpScale+b.x/ig.game.tmpScale,b.y/ig.game.tmpScale,c,this.healthBar.height);b=ig.responsive.toAnchor((44+this.charIcon.width)*ig.game.tmpScale+3,this.pos.y+(30+this.healthBar.height+5)*ig.game.tmpScale,this.anchor);c=this.energy;100<
c&&(c=100);0>c&&(c=0);c=this.energyBar.width*(c/100);c=ig.game.correctFloat(c);0>=c&&(c=0.01);this.energyBar.drawImage(0,0,c,this.energyBar.height,this.pos.x/ig.game.tmpScale+b.x/ig.game.tmpScale,b.y/ig.game.tmpScale,c,this.energyBar.height);this.ctx.restore()},update:function(){this.health-=(this.health-this.manager.player.health)/5;0>=Math.ceil(this.health)&&this.manager.player.kill();this.energy+=(this.manager.player.energy-this.energy)/5}})});ig.baked=!0;
ig.module("game.entities.buttons.button-hover-clicked").requires("impact.entity","game.entities.buttons.button").defines(function(){EntityButtonHoverClicked=EntityButton.extend({btnId:"",manager:null,image:null,toggleImages:null,toggled:!0,disabledImage:null,context:null,align:"CENTER",visible:!1,scale:0,autoShow:!0,autoShowCountDown:0,autoShowDoCount:!1,centerDst:{x:0,y:0},isPopUp:!1,oldZIndex:-1,pressed:!1,disabled:!1,forceDisabled:!1,parentOffset:{x:0,y:0},yOffset:0,targetScale:1,tweening:!1,anchor:"top-left",
initSize:{},initPos:{},setAnchor:!0,clickable:!0,isClicking:!1,tweenIn:null,alpha:1,init:function(b,c,d){this.parent(b,c,d);this.btnId=d.btnId;this.manager=d.manager;this.size.x=this.image.width;this.size.y=this.image.height;this.initSize.x=this.size.x;this.initSize.y=this.size.y;this.initPos.x=this.pos.x;this.initPos.y=this.pos.y;this.setAlign();this.parentOffset.x=this.manager.pos.x-this.pos.x;this.parentOffset.y=this.manager.pos.y-this.pos.y;this.context=ig.system.context;this.oldZIndex=this.zIndex=
this.manager.zIndex+1;this.autoShow?this.autoShowDoCount=!0:this.zIndex=-1;ig.game.sortEntitiesDeferred();this.targetScale=ig.game.tmpScale;null!=this.manager&&("undefined"==typeof this.manager.buttons?(this.manager.buttons=[],this.manager.buttons.push(this)):this.manager.buttons instanceof Array&&this.manager.buttons.push(this))},setAlign:function(){switch(this.align){case "CENTER":this.pos.x-=this.getWidth()/2;this.pos.y-=this.getHeight()/2;break;case "TOP_RIGHT":this.pos.x-=this.getWidth();break;
case "TOP_MIDDLE":this.pos.x-=this.getWidth()/2;break;case "CENTER_RIGHT":this.pos.x-=this.getWidth();this.pos.y-=this.getHeight()/2;break;case "CENTER_LEFT":this.pos.y-=this.getHeight()/2}"function"==typeof this.manager.getCenter&&(this.centerDst.x=this.pos.x+this.size.x/2-this.manager.getCenter().x,this.centerDst.y=this.pos.y+this.size.y/2-this.manager.getCenter().y,this.isPopUp=!0)},checkRelease:function(){ig.input.released("click")&&(this.targetScale=ig.game.tmpScale,this.yOffset=0)},clicked:function(){this.clickable&&
!this.disabled&&(!this.pressed&&this.visible)&&(this.pressed=!0)},clicking:function(){this.isClicking=!0;this.yOffset=5},released:function(){if(this.pressed&&(this.pressed=this.isClicking=!1,this.targetScale=ig.game.tmpScale,this.visible&&"function"===typeof this.manager.onButtonReleased))this.manager.onButtonReleased(this.btnId)},over:function(){},leave:function(){},draw:function(){this.visible||(this.autoShowDoCount&&this.autoShowCountDown++,this.autoShow&&5<this.autoShowCountDown&&(this.show(),
this.autoShowCountDown=0,this.autoShowDoCount=!1),this.doShow&&(this.doShow=!1,this.showing()));if(this.visible){this.parent();this.size.x=this.initSize.x*ig.game.tmpScale;this.size.y=this.initSize.y*ig.game.tmpScale;if(this.setAnchor){var b=ig.responsive.toAnchor(this.initPos.x*ig.game.tmpScale,this.initPos.y*ig.game.tmpScale,this.anchor);this.pos.x=b.x;this.pos.y=b.y}else this.pos.x=this.initPos.x,this.pos.y=this.initPos.y;this.setAlign();this.context.save();this.context.globalAlpha=this.alpha;
this.context.scale(this.scale,this.scale);b=this.image;if(null!=this.toggleImages)try{b=this.toggled?this.toggleImages.on:this.toggleImages.off}catch(c){console.warn(c.message),console.log(this.toggleImages)}this.disabled&&null!=this.disabledImage&&(b=this.disabledImage);if(this.isPopUp){var d=(this.pos.x+0.5*b.width*(ig.game.tmpScale-this.scale))/this.scale,e=(this.pos.y+0.5*b.height*(ig.game.tmpScale-this.scale))/this.scale,d=d-this.centerDst.x*(ig.game.tmpScale-this.manager.scale)/this.scale,e=
e-this.centerDst.y*(ig.game.tmpScale-this.manager.scale)/this.scale;this.isClicking&&(e+=5);b.drawImage(0,0,b.width,b.height,d,e,b.width,b.height)}else e=(this.pos.y+0.5*b.height*(ig.game.tmpScale-this.scale))/this.scale,this.pressed&&(e+=this.yOffset),b.drawImage(0,0,b.width,b.height,(this.pos.x+0.5*b.width*(ig.game.tmpScale-this.scale))/this.scale,e,b.width,b.height);this.context.restore();this.checkRelease();this.tweening||(this.scale+=(this.targetScale-this.scale)/5);this.isClicking||(this.targetScale=
ig.game.tmpScale)}},setImage:function(b){Object.assign(this,{image:b})},hide:function(b){this.visible&&(this.disabled=this.tweening=!0,this.tween({scale:0},0.5,{easing:ig.Tween.Easing.Exponential.EaseIn,onComplete:function(){this.tweening=this.visible=!1;this.zIndex=-1;b&&b();ig.game.sortEntitiesDeferred()}.bind(this)}).start())},show:function(b){this.visible||(this.doShow=!0,this.showCallback=b)},showing:function(){this.scale=0.01;this.targetScale=ig.game.tmpScale;this.zIndex=this.oldZIndex;this.tweening=
this.visible=!0;var b=this.showCallback;ig.game.sortEntitiesDeferred();this.tweenIn=this.tween({scale:ig.game.tmpScale},0.5,{easing:ig.Tween.Easing.Exponential.EaseOut,onComplete:function(){this.tweening=!1;b&&b()}.bind(this)});this.tweenIn.start()},updatePosition:function(){this.initPos.x=this.manager.pos.x-this.parentOffset.x;this.initPos.y=this.manager.pos.y-this.parentOffset.y},getWidth:function(){return this.image.width*ig.game.tmpScale},getHeight:function(){return this.image.height*ig.game.tmpScale},
fastShow:function(){this.zIndex=this.oldZIndex;ig.game.sortEntitiesDeferred();this.visible=!0},fastHide:function(){this.zIndex=-1;ig.game.sortEntitiesDeferred();this.visible=!1}})});ig.baked=!0;
ig.module("game.entities.games.score-bar").requires("impact.entity").defines(function(){EntityScoreBar=ig.Entity.extend({ctx:null,manager:null,score:0,tmpScore:0,targetScore:0,anchor:"top-right",init:function(b,c,d){this.parent(b,c,d);this.ctx=ig.system.context;this.zIndex=this.manager.zIndex+1;ig.game.sortEntitiesDeferred()},draw:function(){this.parent();this.ctx.save();this.ctx.scale(ig.game.tmpScale,ig.game.tmpScale);this.ctx.font="27px mainfont,sans-serif";this.ctx.fillStyle="rgba(255,255,255,1)";
this.ctx.textAlign="center";var b=0*ig.game.tmpScale,c=13*ig.game.tmpScale;this.ctx.textBaseline="top";var d="";ig.responsive.width>ig.responsive.height?(c=45.5*ig.game.tmpScale,this.ctx.textBaseline="middle",this.ctx.font="54px mainfont,sans-serif",d=this.score):d=_STRINGS.Game.Score+"\t"+this.score;this.pos=ig.responsive.toAnchor(b,c,"top-center");this.ctx.fillText(d,this.pos.x/ig.game.tmpScale,this.pos.y/ig.game.tmpScale);this.ctx.strokeText(d,this.pos.x/ig.game.tmpScale,this.pos.y/ig.game.tmpScale);
this.ctx.restore();this.score<this.targetScore&&(this.tmpScore+=(this.targetScore-this.tmpScore)/10,this.score=Math.ceil(this.tmpScore),this.score>this.targetScore&&(this.tmpScore=this.score=this.targetScore))},reset:function(){this.targetScore=this.score=0},addScore:function(b){this.targetScore+=b}})});ig.baked=!0;
ig.module("game.entities.games.popup-paused-settings").requires("impact.entity","game.entities.buttons.button-hover-clicked").defines(function(){EntityPopupPausedSettings=ig.Entity.extend({collides:ig.Entity.COLLIDES.NEVER,type:ig.Entity.TYPE.A,bgPopup:new ig.Image("media/graphics/game/bg-popup.png"),buttonSmall:new ig.Image("media/graphics/game/button-small.png"),imageButtonHome:new ig.Image("media/graphics/game/btn-home.png"),imageButtonPlay:new ig.Image("media/graphics/game/btn-play.png"),imageButtonReplay:new ig.Image("media/graphics/game/btn-replay.png"),
imageSpotLeft:new ig.Image("media/graphics/game/light2.png"),imageSpotRight:new ig.Image("media/graphics/game/light2_.png"),btnReplay:null,imageBGM:new ig.Image("media/graphics/game/bgm.png"),imageSFX:new ig.Image("media/graphics/game/sfx.png"),ctx:null,manager:null,alpha:0,visible:!1,isSettings:!0,zIndex:999,init:function(b,c,d){this.parent(b,c,d);this.ctx=ig.system.context;this.pos.x=0;this.pos.y=0;this.zIndex=-1;ig.game.sortEntitiesDeferred();b=_STRINGS.Game.OFF;0!=ig.game.sessionData.music&&(b=
_STRINGS.Game.ON);c=_STRINGS.Game.OFF;0!=ig.game.sessionData.sound&&(c=_STRINGS.Game.ON);this.btnBGM=ig.game.spawnEntity(EntityButtonHoverClickedText,0,0,{manager:this,image:this.buttonSmall,toggleImages:this.buttonSmalls,toggled:0!=ig.game.sessionData.music?!0:!1,btnId:"bgm",align:"TOP_LEFT",setAnchor:!1,anchor:"center",font:36,text:b,textColorEnabled:"#bcfeff",textColorDisabled:"rgba(156,107,243,1)"});this.btnSFX=ig.game.spawnEntity(EntityButtonHoverClickedText,0,0,{manager:this,image:this.buttonSmall,
toggleImages:this.buttonSmalls,toggled:0!=ig.game.sessionData.sound?!0:!1,btnId:"sfx",align:"TOP_LEFT",setAnchor:!1,anchor:"center",font:36,text:c,textColorEnabled:"#bcfeff",textColorDisabled:"rgba(156,107,243,1)"});this.btnHome=ig.game.spawnEntity(EntityButtonHoverClicked,0,0,{manager:this,image:this.imageButtonHome,btnId:"home",align:"TOP_LEFT",anchor:"center",setAnchor:!1});this.isSettings||(this.btnPlay=ig.game.spawnEntity(EntityButtonHoverClicked,0,0,{manager:this,image:this.imageButtonPlay,
btnId:"resume",align:"TOP_LEFT",anchor:"center",setAnchor:!1}),this.btnReplay=ig.game.spawnEntity(EntityButtonHoverClicked,0,0,{manager:this,image:this.imageButtonReplay,btnId:"replay",align:"TOP_LEFT",anchor:"center",setAnchor:!1}));this.btnBGM.alpha=this.alpha;this.btnSFX.alpha=this.alpha;this.btnHome.alpha=this.alpha;this.isSettings||(this.btnPlay.alpha=this.alpha,this.btnReplay.alpha=this.alpha);for(b=0;b<this.buttons.length;b++)this.buttons[b].clickable=!1},draw:function(){if(this.visible){this.parent();
this.btnBGM.alpha=this.alpha;this.btnSFX.alpha=this.alpha;this.btnHome.alpha=this.alpha;this.isSettings||(this.btnPlay.alpha=this.alpha,this.btnReplay.alpha=this.alpha);this.ctx.save();ig.responsive.width>this.bgPopup.width?this.bgPopup.drawImage(0,0,ig.responsive.width,ig.responsive.height):this.bgPopup.drawImage(ig.responsive.width/2-this.bgPopup.width/2,0,this.bgPopup.width,ig.responsive.height);this.ctx.restore();this.ctx.save();this.imageSpotLeft.drawImage(ig.responsive.width/2-this.imageSpotLeft.width/
2+75,0,this.imageSpotLeft.width,ig.responsive.height);this.ctx.restore();this.ctx.save();this.imageSpotRight.drawImage(ig.responsive.width/2-this.imageSpotRight.width/2-50,0,this.imageSpotRight.width,ig.responsive.height);this.ctx.restore();this.ctx.save();this.ctx.globalAlpha=this.alpha;this.ctx.scale(ig.game.tmpScale,ig.game.tmpScale);var b=ig.responsive.toAnchor(-this.bgPopup.width/2*ig.game.tmpScale,-this.bgPopup.height/2*ig.game.tmpScale,"center");this.ctx.save();var c="",c=this.isSettings?_STRINGS.Game.Settings:
_STRINGS.Game.Paused;this.ctx.font="96px mainfont,sans-serif";this.ctx.fillStyle="#ffcb88";this.ctx.strokeStyle="#b44312";this.ctx.lineWidth=3;this.ctx.textAlign="center";this.ctx.textBaseline="top";var d=b.x+this.bgPopup.width/2*ig.game.tmpScale,e=b.y+this.bgPopup.width/20*ig.game.tmpScale;this.ctx.fillText(c,d/ig.game.tmpScale,e/ig.game.tmpScale);this.ctx.strokeText(c,d/ig.game.tmpScale,e/ig.game.tmpScale);this.ctx.restore();this.ctx.textAlign="left";this.ctx.font="32px mainfont,sans-serif";this.ctx.fillStyle=
"#fffffff";this.ctx.textBaseline="middle";this.ctx.measureText(_STRINGS.Game.BGM);d=b.x+this.bgPopup.width/2-this.buttonSmall.width/2*ig.game.tmpScale;ig.ua.mobile?3<ig.responsive.scaleX&&(d=b.x+this.buttonSmall.width/2+this.bgPopup.width/2-this.buttonSmall.width/4*ig.game.tmpScale*ig.responsive.scaleX):3<ig.responsive.scaleX?d=b.x+this.buttonSmall.width/8*ig.responsive.scaleX+this.buttonSmall.width+this.bgPopup.width/2-this.buttonSmall.width/3*ig.game.tmpScale*ig.responsive.scaleX:2.2<ig.responsive.scaleX&&
(d=b.x+this.buttonSmall.width/2+this.bgPopup.width/2-this.buttonSmall.width/4*ig.game.tmpScale*ig.responsive.scaleX);e+=125*ig.game.tmpScale;this.imageBGM.drawImage(d-this.buttonSmall.width/4,(e-this.buttonSmall.height/4)/ig.game.tmpScale+this.buttonSmall.height/3);this.btnBGM.initPos.x=d*ig.game.tmpScale;this.btnBGM.initPos.y=e;e+=(this.buttonSmall.height+50)*ig.game.tmpScale;this.imageSFX.drawImage(d-this.buttonSmall.width/4,(e-this.buttonSmall.height/4)/ig.game.tmpScale+this.buttonSmall.height/
3);this.btnSFX.initPos.x=d*ig.game.tmpScale;this.btnSFX.initPos.y=e;this.isSettings?(d=b.x+(this.bgPopup.width/2-this.imageButtonHome.width/2)*ig.game.tmpScale,e=b.y+(this.bgPopup.height-30-this.imageButtonHome.height)*ig.game.tmpScale,this.btnHome.initPos.x=d,this.btnHome.initPos.y=e):(d=b.x+(this.bgPopup.width/2-this.imageButtonHome.width-75)*ig.game.tmpScale,e=b.y+(this.bgPopup.height-30-this.imageButtonHome.height)*ig.game.tmpScale,this.btnHome.initPos.x=d,this.btnHome.initPos.y=e,d=b.x+(this.bgPopup.width/
2-this.imageButtonHome.width/2)*ig.game.tmpScale,this.btnPlay.initPos.x=d,this.btnPlay.initPos.y=e,d=b.x+(this.bgPopup.width/2+75)*ig.game.tmpScale,this.btnReplay.initPos.x=d,this.btnReplay.initPos.y=e);this.ctx.restore()}},update:function(){this.parent();this.size.x=ig.responsive.width;this.size.y=ig.responsive.height},show:function(){this.visible=!0;for(var b=0;b<this.buttons.length;b++)this.buttons[b].clickable=!0,console.log(b);this.zIndex=this.manager.zIndex+5;this.btnBGM.zIndex=this.zIndex+
1;this.btnBGM.oldZIndex=this.zIndex+1;this.btnBGM.fastShow();this.btnSFX.zIndex=this.zIndex+1;this.btnSFX.oldZIndex=this.zIndex+1;this.btnSFX.fastShow();this.btnHome.zIndex=this.zIndex+1;this.btnHome.oldZIndex=this.zIndex+1;this.btnHome.fastShow();this.isSettings||(this.btnPlay.zIndex=this.zIndex+1,this.btnPlay.oldZIndex=this.zIndex+1,this.btnPlay.fastShow(),this.btnReplay.zIndex=this.zIndex+1,this.btnReplay.oldZIndex=this.zIndex+1,this.btnReplay.fastShow());ig.game.sortEntitiesDeferred();this.tween({alpha:1},
0.3,{easing:ig.Tween.Easing.Cubic.EaseIn}).start()},hide:function(){for(var b=0;b<this.buttons.length;b++)this.buttons[b].clickable=!1;this.tween({alpha:0},0.3,{easing:ig.Tween.Easing.Cubic.EaseIn,onComplete:function(){this.zIndex=-1;ig.game.sortEntitiesDeferred();this.visible=!1;this.btnBGM.fastHide();this.btnSFX.fastHide();this.btnHome.fastHide();this.isSettings||(this.btnPlay.fastHide(),this.btnReplay.fastHide());this.manager.clickableLayer&&this.manager.clickableLayer.show()}.bind(this)}).start()},
onButtonReleased:function(b){switch(b){case "home":this.isSettings?this.hide():ig.game.director.jumpTo(LevelHome);ig.game.playSfx("click");break;case "resume":this.hide();ig.game.playSfx("click");break;case "bgm":0==ig.game.sessionData.music?(ig.soundHandler.bgmPlayer.volume(ig.game.musicOn),ig.soundHandler.introPlayer&&ig.soundHandler.introPlayer.volume(ig.game.musicOn),ig.game.save("music",ig.game.musicOn),this.btnBGM.toggled=!0,this.btnBGM.text=_STRINGS.Game.ON):(ig.soundHandler.bgmPlayer.volume(0),
ig.soundHandler.introPlayer&&ig.soundHandler.introPlayer.volume(0),ig.game.save("music",0),this.btnBGM.toggled=!1,this.btnBGM.text=_STRINGS.Game.OFF);ig.game.playSfx("click");break;case "sfx":0==ig.game.sessionData.sound?(ig.game.playSfx("click"),ig.soundHandler.sfxPlayer.volume(ig.game.soundOn),ig.game.save("sound",ig.game.soundOn),this.btnSFX.toggled=!0,this.btnSFX.text=_STRINGS.Game.ON):(ig.soundHandler.sfxPlayer.volume(0),ig.game.save("sound",0),this.btnSFX.toggled=!1,this.btnSFX.text=_STRINGS.Game.OFF);
break;case "replay":ig.game.director.reloadLevel(),ig.game.playSfx("click")}}})});ig.baked=!0;
ig.module("game.entities.games.popup-gameover").requires("impact.entity","game.entities.buttons.button-hover-clicked").defines(function(){EntityPopupGameover=ig.Entity.extend({collides:ig.Entity.COLLIDES.NEVER,type:ig.Entity.TYPE.A,bgPopup:new ig.Image("media/graphics/game/bg-popup.png"),imageButtonReplay:new ig.Image("media/graphics/game/btn-replay.png"),imageButtonHome:new ig.Image("media/graphics/game/btn-home.png"),ctx:null,manager:null,alpha:0,visible:!1,init:function(b,c,d){this.parent(b,c,
d);this.ctx=ig.system.context;this.pos.x=0;this.pos.y=0;this.zIndex=-1;ig.game.sortEntitiesDeferred();this.btnHome=ig.game.spawnEntity(EntityButtonHoverClicked,0,0,{manager:this,image:this.imageButtonHome,btnId:"home",align:"TOP_LEFT",anchor:"center",setAnchor:!1});this.btnPlay=ig.game.spawnEntity(EntityButtonHoverClicked,0,0,{manager:this,image:this.imageButtonReplay,btnId:"replay",align:"TOP_LEFT",anchor:"center",setAnchor:!1});this.btnHome.alpha=this.alpha;this.btnPlay.alpha=this.alpha;for(b=0;b<
this.buttons.length;b++)this.buttons[b].clickable=!1},draw:function(){if(this.visible){this.parent();this.btnHome.alpha=this.alpha;this.btnPlay.alpha=this.alpha;this.ctx.save();ig.responsive.width>this.bgPopup.width?this.bgPopup.drawImage(0,0,ig.responsive.width,ig.responsive.height):this.bgPopup.drawImage(ig.responsive.width/2-this.bgPopup.width/2,0,this.bgPopup.width,ig.responsive.height);this.ctx.restore();this.ctx.save();this.ctx.globalAlpha=this.alpha;this.ctx.fillStyle="rgba(0,0,0,0.5)";this.ctx.fillRect(0,
0,this.size.x,this.size.y);this.ctx.scale(ig.game.tmpScale,ig.game.tmpScale);var b=ig.responsive.toAnchor(-this.bgPopup.width/2*ig.game.tmpScale,-this.bgPopup.height/2*ig.game.tmpScale,"center");this.ctx.font="96px mainfont,sans-serif";this.ctx.fillStyle="#ffcb88";this.ctx.strokeStyle="#b74509";this.ctx.textAlign="center";this.ctx.textBaseline="top";var c=b.x+this.bgPopup.width/2*ig.game.tmpScale,d=b.y+this.bgPopup.width/20*ig.game.tmpScale,e=b.x+this.bgPopup.width/4*ig.game.tmpScale,f=b.x+0.75*this.bgPopup.width*
ig.game.tmpScale;this.ctx.fillText(_STRINGS.Game.GameOver,c/ig.game.tmpScale,d/ig.game.tmpScale);this.ctx.strokeText(_STRINGS.Game.GameOver,c/ig.game.tmpScale,d/ig.game.tmpScale);this.ctx.font="64px mainfont,sans-serif";this.ctx.fillStyle="#bcfeff";this.ctx.strokeStyle="#2160b6";d+=150*ig.game.tmpScale;this.ctx.textAlign="left";c=e;this.ctx.fillText(_STRINGS.Game.Score,c/ig.game.tmpScale,d/ig.game.tmpScale);this.ctx.strokeText(_STRINGS.Game.Score,c/ig.game.tmpScale,d/ig.game.tmpScale);this.ctx.textAlign=
"right";c=f;this.ctx.fillText(this.manager.score,c/ig.game.tmpScale,d/ig.game.tmpScale);this.ctx.strokeText(this.manager.score,c/ig.game.tmpScale,d/ig.game.tmpScale);d+=75*ig.game.tmpScale;this.ctx.textAlign="left";c=e;this.ctx.fillText(_STRINGS.Game.Best,c/ig.game.tmpScale,d/ig.game.tmpScale);this.ctx.strokeText(_STRINGS.Game.Best,c/ig.game.tmpScale,d/ig.game.tmpScale);this.ctx.textAlign="right";c=f;this.ctx.fillText(ig.game.sessionData.bestScore,c/ig.game.tmpScale,d/ig.game.tmpScale);this.ctx.strokeText(ig.game.sessionData.bestScore,
c/ig.game.tmpScale,d/ig.game.tmpScale);var d=d+75*ig.game.tmpScale,g=ig.game.correctFloat2(100*(this.manager.totalCorrect/this.manager.totalTyping),10);this.ctx.textAlign="left";c=e;this.ctx.fillText(_STRINGS.Game.Accuracy,c/ig.game.tmpScale,d/ig.game.tmpScale);this.ctx.strokeText(_STRINGS.Game.Accuracy,c/ig.game.tmpScale,d/ig.game.tmpScale);this.ctx.textAlign="right";c=f;isNaN(g)&&(g=0);this.ctx.fillText(g+"%",c/ig.game.tmpScale,d/ig.game.tmpScale);this.ctx.strokeText(g+"%",c/ig.game.tmpScale,d/
ig.game.tmpScale);this.ctx.restore();c=b.x+(this.bgPopup.width/2-this.imageButtonHome.width-20)*ig.game.tmpScale;d=b.y+(this.bgPopup.height-30-this.imageButtonHome.height)*ig.game.tmpScale;this.btnHome.initPos.x=c;this.btnHome.initPos.y=d;c=b.x+(this.bgPopup.width/2+20)*ig.game.tmpScale;this.btnPlay.initPos.x=c;this.btnPlay.initPos.y=d}},update:function(){this.parent();this.size.x=ig.responsive.width;this.size.y=ig.responsive.height},show:function(){ig.game.playSfx("roundText");for(var b=0;b<this.buttons.length;b++)this.buttons[b].clickable=
!0;this.visible=!0;this.zIndex=this.manager.zIndex+5;this.btnHome.zIndex=this.zIndex+1;this.btnHome.oldZIndex=this.zIndex+1;this.btnHome.fastShow();this.btnPlay.zIndex=this.zIndex+1;this.btnPlay.oldZIndex=this.zIndex+1;this.btnPlay.fastShow();ig.game.sortEntitiesDeferred();this.tween({alpha:1},0.3,{easing:ig.Tween.Easing.Cubic.EaseIn}).start()},hide:function(){for(var b=0;b<this.buttons.length;b++)this.buttons[b].clickable=!1;this.tween({alpha:0},0.3,{easing:ig.Tween.Easing.Cubic.EaseIn,onComplete:function(){this.zIndex=
-1;ig.game.sortEntitiesDeferred();this.visible=!1;this.btnHome.fastHide();this.btnPlay.fastHide()}.bind(this)}).start()},onButtonReleased:function(b){switch(b){case "home":ig.game.director.jumpTo(LevelHome);ig.game.playSfx("click");break;case "replay":ig.game.director.reloadLevel(),ig.game.playSfx("click")}}})});ig.baked=!0;
ig.module("game.entities.games.combo-text").requires("impact.entity").defines(function(){EntityComboText=ig.Entity.extend({manager:null,ctx:null,combo:0,timer:0,alpha:0,timerHide:null,tweenIn:null,tweenOut:null,init:function(b,c,d){this.parent(b,c,d);this.ctx=ig.system.context;this.zIndex=this.manager.zIndex+2;ig.game.sortEntitiesDeferred()},draw:function(){this.parent();this.ctx.save();this.ctx.scale(ig.game.tmpScale,ig.game.tmpScale);this.ctx.font="72px mainfont,sans-serif";this.ctx.fillStyle="rgba(255,255,255,1)";
this.ctx.textAlign="center";this.ctx.textBaseline="top";var b=ig.responsive.toAnchor(0,this.manager.viewportHeight/2-72,"top-left");this.ctx.globalAlpha=this.alpha;this.ctx.fillText(this.combo,this.pos.x/ig.game.tmpScale,b.y/ig.game.tmpScale);this.ctx.font="22px mainfont,sans-serif";this.ctx.fillText(_STRINGS.Game.HitCombo,this.pos.x/ig.game.tmpScale,(b.y+72*ig.game.tmpScale)/ig.game.tmpScale);this.ctx.restore();this.timer+=ig.system.tick;null!=this.timerHide&&0<=this.timerHide.delta()&&(this.timerHide=
null,null!=this.tweenOut&&this.tweenOut.stop(),this.tweenOut=this.tween({alpha:0},0.2,{easing:ig.Tween.Easing.Cubic.EaseOut}),this.tweenOut.start())},hit:function(){1>=this.timer?this.combo++:this.combo=0;this.timer=0;0!=this.combo&&(null==this.timerHide&&(this.timerHide=new ig.Timer(1)),this.timerHide.reset(),null!=this.tweenOut&&this.tweenOut.stop(),null!=this.tweenIn&&this.tweenIn.stop(),this.pos=ig.responsive.toAnchor(70*ig.game.tmpScale,0,"top-left"),this.tweenIn=this.tween({alpha:1,pos:{x:this.pos.x+
25*ig.game.tmpScale}},0.2,{easing:ig.Tween.Easing.Cubic.EaseIn}),this.tweenIn.start())},fail:function(){this.timer=2}})});ig.baked=!0;
ig.module("game.entities.games.power-up-text").requires("impact.entity").defines(function(){EntityPowerUpText=ig.Entity.extend({manager:null,ctx:null,alpha:0,timerHide:null,tweenIn:null,tweenOut:null,tmpShakePos:{x:0,y:0},init:function(b,c,d){this.parent(b,c,d);this.ctx=ig.system.context;this.zIndex=this.manager.zIndex+2;ig.game.sortEntitiesDeferred()},draw:function(){this.parent();0<this.shakeValue?(this.tmpShakePos.x=0,this.tmpShakePos.y=0,this.shakeValue-=ig.system.tick*this.shakeReductionMultiplier,
this.tmpShakePos.x+=ig.random.float(-this.shakeValue,this.shakeValue),this.tmpShakePos.y+=ig.random.float(-this.shakeValue,this.shakeValue)):(this.tmpShakePos.x=0,this.tmpShakePos.y=0);this.ctx.save();this.ctx.scale(ig.game.tmpScale,ig.game.tmpScale);this.ctx.fillStyle="rgba(255,255,255,1)";this.ctx.globalAlpha=this.alpha;if(ig.ua.mobile)if(ig.system.width>ig.system.height){this.ctx.textAlign="center";this.ctx.textBaseline="top";this.ctx.font="54px mainfont,sans-serif";var b=ig.responsive.toAnchor(0,
0,"center");this.ctx.fillText(_STRINGS.Game.PowerUp,b.x/ig.game.tmpScale+this.tmpShakePos.x,b.y-546/ig.game.tmpScale+this.tmpShakePos.y);this.ctx.strokeText(_STRINGS.Game.PowerUp,b.x/ig.game.tmpScale+this.tmpShakePos.x,b.y-546/ig.game.tmpScale+this.tmpShakePos.y)}else this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.font="54px mainfont,sans-serif",b=ig.responsive.toAnchor(0,125,"top"),this.ctx.fillText(_STRINGS.Game.PowerUp,b.x/ig.game.tmpScale+this.tmpShakePos.x,b.y/ig.game.tmpScale+
this.tmpShakePos.y),this.ctx.strokeText(_STRINGS.Game.PowerUp,b.x/ig.game.tmpScale+this.tmpShakePos.x,b.y/ig.game.tmpScale+this.tmpShakePos.y);else this.ctx.textAlign="center",this.ctx.textBaseline="bottom",this.ctx.font="42px mainfont,sans-serif",b=ig.responsive.toAnchor(0,-125,"center"),this.ctx.fillText(_STRINGS.Game.PowerUp,b.x/ig.game.tmpScale+this.tmpShakePos.x,b.y/ig.game.tmpScale+this.tmpShakePos.y),this.ctx.strokeText(_STRINGS.Game.PowerUp,b.x/ig.game.tmpScale+this.tmpShakePos.x,b.y/ig.game.tmpScale+
this.tmpShakePos.y);this.ctx.restore();null!=this.timerHide&&0<=this.timerHide.delta()&&(this.timerHide=null,null!=this.tweenOut&&this.tweenOut.stop(),this.tweenOut=this.tween({alpha:0},0.2,{easing:ig.Tween.Easing.Cubic.EaseOut}),this.tweenOut.start())},show:function(){null!=this.tweenOut&&this.tweenOut.stop();null!=this.tweenIn&&this.tweenIn.stop();if(ig.ua.mobile)null==this.timerHide&&(this.timerHide=new ig.Timer(2.5)),ig.system.width>ig.system.height?(this.pos=ig.responsive.toAnchor(-420*ig.game.tmpScale,
0,"top-right"),this.tweenIn=this.tween({alpha:1,pos:{x:this.pos.x-50*ig.game.tmpScale}},0.2,{delay:1,easing:ig.Tween.Easing.Cubic.EaseIn,onComplete:function(){this.shake(10)}.bind(this)})):(this.pos=ig.responsive.toAnchor(0,-this.manager.keyboard.size.y*ig.game.tmpScale,"bottom"),b=this.pos.y-50*ig.game.tmpScale,this.tweenIn=this.tween({alpha:1,pos:{y:b}},0.2,{delay:1,easing:ig.Tween.Easing.Cubic.EaseIn,onComplete:function(){this.shake(10)}.bind(this)}));else{null==this.timerHide&&(this.timerHide=
new ig.Timer(2.5));this.pos={x:0,y:this.manager.player.pos.y-100*ig.game.tmpScale};var b=this.pos.y+50*ig.game.tmpScale;this.tweenIn=this.tween({alpha:1,pos:{y:b}},0.2,{delay:1,easing:ig.Tween.Easing.Cubic.EaseIn,onComplete:function(){this.shake(10)}.bind(this)})}this.tweenIn.start();this.timerHide.reset()},shakeValue:0,shakeReductionMultiplier:0,shake:function(b,c){b||(b=5);c||(c=10);this.shakeValue=b;this.shakeReductionMultiplier=c}})});ig.baked=!0;
ig.module("game.entities.games.count-down").requires("impact.entity").defines(function(){EntityCountDown=ig.Entity.extend({manager:null,alpha:0,count:3,init:function(b,c,d){this.parent(b,c,d);this.zIndex=this.manager.zIndex+3;ig.game.sortEntitiesDeferred();this.ctx=ig.system.context},draw:function(){this.parent();this.ctx.save();this.ctx.globalAlpha=this.alpha;this.ctx.scale(ig.game.tmpScale,ig.game.tmpScale);this.ctx.font="144px mainfont,sans-serif";this.ctx.fillStyle="rgba(255,255,255,1)";this.ctx.textAlign=
"center";this.ctx.textBaseline="bottom";var b=ig.responsive.toAnchor(this.pos.x,this.pos.y,"bottom");this.ctx.fillText(this.count+"",b.x/ig.game.tmpScale,b.y/ig.game.tmpScale);this.ctx.restore()},start:function(b){if(0==this.count)null!=b&&b(),"function"==typeof this.startCalled&&this.startCalled(),ig.game.playSfx("bell1"),this.manager.tutorialNumber++;else{this.alpha=0;this.pos.x=0;this.pos.y=ig.ua.mobile?-this.manager.keyboard.size.y-20:-150;var c=this.tween({pos:{y:this.pos.y-150},alpha:1},0.3,
{onComplete:function(){ig.game.playSfx("tick")}.bind(this)}),d=this.tween({alpha:0},0.2,{delay:0.5,onComplete:function(){this.count--;this.start(b)}.bind(this)});c.chain(d);c.start()}}})});ig.baked=!0;
ig.module("game.entities.controllers.game-controller").requires("impact.entity","game.entities.games.player","game.entities.games.enemy","game.entities.games.phrase-box","game.entities.games.keyboard","game.entities.games.status-bar","game.entities.buttons.button-hover-clicked","game.entities.games.score-bar","game.entities.games.popup-paused-settings","game.entities.games.popup-gameover","game.entities.games.combo-text","game.entities.games.power-up-text","game.entities.games.count-down").defines(function(){EntityTutorial=
ig.Entity.extend({tutorialNumber:-1,tutorialTextSize:32,alpha:0,buttonSmall:new ig.Image("media/graphics/game/button-small.png"),init:function(b,c,d){this.parent(b,c,d);this.ctx=ig.system.context},draw:function(){this.parent();this.ctx.save();this.ctx.globalAlpha=this.alpha;this.drawTutorialText();this.ctx.restore()},drawTutorialText:function(){switch(this.tutorialNumber){case 0:var b=0,c=25;this.ctx.save();var d=ig.responsive.toAnchor(b,c,"bottom-left");this.ctx.fillStyle="rgba(0,0,0,0.3)";this.ctx.fillRect(d.x,
this.manager.phraseBox.pos.y-this.manager.phraseBox.size.y-c,ig.system.width,this.tutorialTextSize+20);this.ctx.restore();this.ctx.save();d=ig.responsive.toAnchor(b,c,"bottom");this.ctx.fillStyle="rgba(255,255,255,1)";this.ctx.font=this.tutorialTextSize+"px mainfont";this.ctx.textAlign="center";this.ctx.fillText(_STRINGS.Game.Tutorial.Texts[0],d.x+20,this.manager.phraseBox.pos.y-this.manager.phraseBox.size.y-c+this.tutorialTextSize+10);this.ctx.restore();break;case 1:b=0;c=25;this.ctx.save();d=ig.responsive.toAnchor(b,
c,"bottom-left");this.ctx.fillStyle="rgba(0,0,0,0.3)";this.ctx.fillRect(d.x,this.manager.phraseBox.pos.y-this.manager.phraseBox.size.y-c,ig.system.width,this.tutorialTextSize+20);this.ctx.restore();this.ctx.save();d=ig.responsive.toAnchor(b,c,"bottom");this.ctx.fillStyle="rgba(255,255,255,1)";this.ctx.font=this.tutorialTextSize+"px mainfont";this.ctx.textAlign="center";this.ctx.fillText(_STRINGS.Game.Tutorial.Texts[1],d.x+20,this.manager.phraseBox.pos.y-this.manager.phraseBox.size.y-c+this.tutorialTextSize+
10);this.ctx.restore();break;case 2:100>this.manager.player.energy?(b=0,c=150,ig.responsive.width>this.manager.bgImg.width&&(c=200),this.ctx.save(),d=ig.responsive.toAnchor(b,c,"top-left"),this.ctx.fillStyle="rgba(0,0,0,0.3)",this.ctx.fillRect(d.x,d.y,ig.system.width,this.tutorialTextSize+20),this.ctx.restore(),this.ctx.save(),this.ctx.fillStyle="rgba(255,255,255,1)",this.ctx.font=this.tutorialTextSize+"px mainfont",this.ctx.textAlign="left",this.ctx.fillText(_STRINGS.Game.Tutorial.Texts[2],d.x+20,
d.y+this.tutorialTextSize+10)):(b=0,c=25,ig.responsive.width>this.manager.bgImg.width&&(c=200),this.ctx.save(),d=ig.responsive.toAnchor(b,c,"top-left"),this.ctx.fillStyle="rgba(0,0,0,0.3)",this.ctx.fillRect(d.x,this.manager.phraseBox.pos.y-this.manager.phraseBox.size.y-c,ig.system.width,this.tutorialTextSize+20),this.ctx.restore(),this.ctx.save(),this.ctx.fillStyle="rgba(255,255,255,1)",this.ctx.font=this.tutorialTextSize+"px mainfont",this.ctx.textAlign="center",this.ctx.fillText(_STRINGS.Game.Tutorial.Texts[3],
ig.responsive.halfWidth,this.manager.phraseBox.pos.y-this.manager.phraseBox.size.y-c+this.tutorialTextSize+10)),this.ctx.restore(),this.manager.player.isDoingSpecial&&(this.tutorialNumber=3)}},tweenIn:function(){this.tween({alpha:1},0.5,{onComplete:function(){}.bind(this)}).start()},tweenOut:function(){this.tween({alpha:0},0.5,{onComplete:function(){this.kill()}.bind(this)}).start()},onButtonReleased:function(b){switch(b){case "skip":ig.game.save("firstTime",!1),ig.game.director.reloadLevel(),ig.game.playSfx("click")}}});
EntityGameController=ig.Entity.extend({ctx:null,imageButtonSettings:new ig.Image("media/graphics/game/button-settings.png"),player:null,phraseBox:null,keyboard:null,bgImg:new ig.Image("media/graphics/game/arena.png"),imageSpotLeft:new ig.Image("media/graphics/game/light.png"),imageSpotRight:new ig.Image("media/graphics/game/light_.png"),bgPosX:0,moveBackground:!1,enemyChars:["boxer-2","boxer-3","boxer-4","boxer-5"],statusBar:null,rule:0,texts:[],enemies:[],enemyNumber:0,scoreBar:null,correctScore:100,
bonusCombo:50,score:0,bonusPerfect:500,bonusHP:10,popupSettings:null,isPaused:!1,willPause:!1,popupGameover:null,attackInterval:5,attackIntervalAcceleration:-0.3,comboText:0,viewportHeight:0,gameEnded:!1,pauseAttack:!1,isPerfectTextShown:!1,perfectText:null,effectScale:1,powerUpText:null,firstMeet:!0,counterDown:null,totalCorrect:0,totalWrong:0,totalTyping:0,init:function(b,c,d){this.parent(b,c,d);if(!ig.global.wm){this.btnSettings=ig.game.spawnEntity(EntityButtonHoverClicked,-13,13,{manager:this,
image:this.imageButtonSettings,btnId:"settings",align:"TOP_RIGHT",anchor:"top-right"});this.btnSettings.zIndex=this.zIndex+5;this.scoreBar=ig.game.spawnEntity(EntityScoreBar,0,0,{manager:this});this.inputActions="_1 _2 _3 _4 _5 _6 _7 _8 _9 _0 A B C D E F G H I J K L M N O P Q R S T U V W X Y Z SPACE COMMA PERIOD BACKSPACE".split(" ");for(b=0;b<this.inputActions.length;b++)ig.input.bind(ig.KEY[this.inputActions[b]],this.inputActions[b]);this.ctx=ig.system.context;this.statusBar=ig.game.spawnEntity(EntityStatusBar,
0,0,{manager:this});this.player=ig.game.spawnEntity(EntityPlayer,0,0,{manager:this});this.createEnemy().zIndex=this.zIndex+1;this.phraseBox=ig.game.spawnEntity(EntityPhraseBox,0,0,{manager:this,tutorialMode:ig.game.sessionData.firstTime});ig.ua.mobile&&(this.keyboard=ig.game.spawnEntity(EntityKeyboard,0,0,{manager:this}));this.popupSettings=ig.game.spawnEntity(EntityPopupPausedSettings,0,0,{manager:this,isSettings:!1});this.popupGameover=ig.game.spawnEntity(EntityPopupGameover,0,0,{manager:this});
this.comboText=ig.game.spawnEntity(EntityComboText,0,0,{manager:this});this.prepareTexts();this.moveBackground=!0;this.perfectText=ig.game.spawnEntity(EntityPerfectResult,0,0,{manager:this});this.powerUpText=ig.game.spawnEntity(EntityPowerUpText,0,0,{manager:this});this.counterDown=ig.game.spawnEntity(EntityCountDown,0,0,{manager:this,startCalled:function(){"undefined"!=typeof this.tutorial&&(this.tutorial.tutorialNumber++,this.tutorial.tweenIn())}.bind(this)});ig.game.sessionData.firstTime&&(this.tutorial=
ig.game.spawnEntity(EntityTutorial,0,0,{manager:this,zIndex:this.zIndex+3,phraseBox:this.phraseBox}));ig.soundHandler.sfxPlayer.stop("crowd");ig.game.playSfx("crowd")}},draw:function(){ig.global.wm||(this.isPaused=this.popupSettings.visible||this.popupGameover.visible,this.parent(),this.drawBg())},update:function(){if(!ig.global.wm&&(this.parent(),ig.ua.mobile&&(this.phraseBox.mPosY=-this.keyboard.size.y-20),!this.gameEnded)){this.willPause&&"undefined"!=typeof this.player&&!this.player.isDoingSpecial&&
(this.willPause=!1,this.popupSettings.show());for(var b=0;b<this.inputActions.length;b++)if(ig.input.pressed(this.inputActions[b]))this.onButtonReleased(this.inputActions[b])}},onButtonReleased:function(b){if("settings"==b)"undefined"!=typeof this.player&&this.player.isDoingSpecial?this.willPause=!0:(this.popupSettings.show(),this.btnSettings.zIndex=this.zIndex+1,ig.game.playSfx("click"));else if(!this.isPaused&&!this.pauseAttack){b=b.replace("_","");var c=!1;switch(b){case "SPACE":b=" ";break;case "COMMA":b=
",";break;case "PERIOD":b=".";break;case "BACKSPACE":c=!0}c?this.phraseBox.backspace():this.phraseBox.check(b)}},drawBg:function(){this.viewportHeight=ig.responsive.height;ig.ua.mobile&&(this.viewportHeight=ig.responsive.width>ig.responsive.height?this.viewportHeight+-this.keyboard.fixedSizeY:this.viewportHeight+-this.keyboard.size.y);var b=this.bgImg.width/this.bgImg.height,c=this.bgImg.width*ig.game.tmpScale,d=this.bgImg.height*ig.game.tmpScale;d<this.viewportHeight&&(d=this.viewportHeight,c=d*
b);b=this.player.initPos.y;ig.ua.mobile&&(b=ig.responsive.width>ig.responsive.height?b-this.keyboard.fixedSizeY:b-this.keyboard.size.y+20);b+=this.player.size.y/2;Math.abs(b);this.ctx.save();this.ctx.scale(this.effectScale,this.effectScale);ig.ua.mobile?ig.responsive.width>this.bgImg.width?this.bgImg.drawImage(0,0,ig.responsive.width,this.viewportHeight):this.bgImg.drawImage(ig.responsive.width/2-this.bgImg.width/2,0,this.bgImg.width,this.viewportHeight):ig.responsive.width>this.bgImg.width?this.bgImg.drawImage(0,
0,ig.responsive.width,ig.responsive.height):this.bgImg.drawImage(ig.responsive.width/2-this.bgImg.width/2,0,this.bgImg.width,ig.responsive.height);if(this.moveBackground&&!this.isPaused)for(b=0;b<this.enemies.length;b++)this.enemies[b].initPos.x-=200*ig.system.tick*ig.game.tmpScale;this.bgPosX<=-c&&(this.bgPosX=0);this.ctx.restore();ig.ua.mobile?(this.ctx.save(),this.imageSpotLeft.drawImage(0<this.enemies.length?this.enemies[0].pos.x-this.enemies[0].size.x/2+30:ig.responsive.width/2-this.imageSpotLeft.width/
2+75,0,this.imageSpotLeft.width,ig.responsive.height),this.ctx.restore(),this.ctx.save(),this.imageSpotRight.drawImage(ig.responsive.width/2-this.imageSpotRight.width/2-100,0,this.imageSpotRight.width,ig.responsive.height)):(this.ctx.save(),this.imageSpotLeft.drawImage(0<this.enemies.length?this.enemies[0].pos.x-this.enemies[0].size.x/2-20:ig.responsive.width/2-this.imageSpotLeft.width/2+75,0,this.imageSpotLeft.width,ig.responsive.height),this.ctx.restore(),this.ctx.save(),this.imageSpotRight.drawImage(ig.responsive.width/
2-this.imageSpotRight.width/2-50,0,this.imageSpotRight.width,ig.responsive.height));this.ctx.restore()},createEnemy:function(){"undefined"!=typeof this.phraseBox&&"undefined"!=typeof this.tutorial&&3<=this.tutorial.tutorialNumber&&(this.tutorial.tweenOut(),this.phraseBox.tutorialMode=!1);var b=ig.responsive.width/2/ig.game.drawScale,c=ig.game.spawnEntity(EntityEnemy,0,0,{manager:this,id:this.enemyNumber,charaName:this.enemyChars[Math.floor(Math.random()*this.enemyChars.length)],attackInterval:this.attackInterval});
c.initPos.x=b;this.enemies.push(c);this.enemyNumber++;this.attackInterval+=this.attackIntervalAcceleration;return c},roundEnd:function(){this.checkShowPerfectText();this.phraseBox.hide();this.tween({},1.5,{onComplete:function(){this.nextEnemy();this.prepareTexts()}.bind(this)}).start()},nextEnemy:function(){this.player.killed||(this.moveBackground=!0,this.createEnemy(),this.enemies.shift(),this.player.enemy=null,this.rule++,this.rule>=ig.game.phraseRule.length&&(this.rule=ig.game.phraseRule.length-
1))},prepareTexts:function(b){if(void 0==b||null==b)b=this.rule;this.texts=[];if(ig.game.phraseRule[b].S){for(var c=[],d=ig.game.phraseRule[b].S,e=JSON.parse(JSON.stringify(ig.game.availableTextShort)),f=JSON.parse(JSON.stringify(ig.game.excludedTextShort)),g=0;g<d;g++)if(0<e.length){var m=Math.floor(Math.random()*e.length);c.push(e.splice(m,1)[0])}else break;if(c.length<d)for(;c.length<d;)0<f.length?(m=Math.floor(Math.random()*f.length),c.push(f.splice(m,1)[0])):(m=Math.floor(Math.random()*_STRINGS.TextGame["short"].length),
c.push(_STRINGS.TextGame["short"][m]));this.texts=this.texts.concat(c)}if(ig.game.phraseRule[b].L){c=[];d=ig.game.phraseRule[b].L;b=JSON.parse(JSON.stringify(ig.game.availableTextLong));e=JSON.parse(JSON.stringify(ig.game.excludedTextLong));for(g=0;g<d;g++)if(0<b.length)m=Math.floor(Math.random()*b.length),c.push(b.splice(m,1)[0]);else break;if(c.length<d)for(;c.length<d;)0<e.length?(m=Math.floor(Math.random()*e.length),c.push(e.splice(m,1)[0])):(m=Math.floor(Math.random()*_STRINGS.TextGame["long"].length),
c.push(_STRINGS.TextGame["long"][m]));this.texts=this.texts.concat(c)}},meetEnemy:function(){this.moveBackground=!1;"undefined"!=typeof this.tutorial&&1==this.tutorial.tutorialNumber&&(this.tutorial.tutorialNumber=2,this.enemies[0].health=9999);this.firstMeet?(this.firstMeet=!1,this.pauseAttack=!0,this.counterDown.start(function(){this.pauseAttack=!1;this.setText()}.bind(this))):this.setText();this.tween({},5,{onComplete:function(){ig.game.stopSfx("win");ig.game.playSfx("crowd")}}).start();"undefined"!=
typeof this.tutorial&&(3<=this.tutorial.tutorialNumber?ig.game.save("firstTime",!1):(2==this.tutorial.tutorialNumber&&(this.player.energy=90),this.enemies[0].stopAi(),this.enemies[0].performAttackTimer=!1,this.enemies[0].damage=99))},setText:function(){this.pauseAttack=!0;var b=function(){this.isPerfectTextShown=this.pauseAttack=!1;var b=this.texts.shift();if("undefined"!=typeof b&&"undefined"!=typeof b.type)if("short"==b.type){for(var c=ig.game.availableTextShort.length-1;0<=c;c--)if(b.id==ig.game.availableTextShort[c].id){ig.game.availableTextShort.splice(c,
1);break}this.phraseBox.setText(b.text);ig.game.excludedTextShort.length==ig.game.storedLastTextSize&&(ig.game.availableTextShort.push(ig.game.excludedTextShort.shift()),ig.game.excludedIdShort.shift());ig.game.excludedTextShort.push(b);ig.game.excludedIdShort.push(b.id);ig.game.save(ig.game.lastTextShortStorageKey,ig.game.excludedIdShort)}else if("long"==b.type){for(c=ig.game.availableTextLong.length-1;0<=c;c--)if(b.id==ig.game.availableTextLong[c].id){ig.game.availableTextLong.splice(c,1);break}this.phraseBox.setText(b.text);
ig.game.excludedTextLong.length==ig.game.storedLastTextSize&&(ig.game.availableTextLong.push(ig.game.excludedTextLong.shift()),ig.game.excludedIdLong.shift());ig.game.excludedTextLong.push(b);ig.game.excludedIdLong.push(b.id);ig.game.save(ig.game.lastTextLongStorageKey,ig.game.excludedIdLong)}}.bind(this),c=function(c){c?b():this.tween({},0.3,{onComplete:function(){b()}.bind(this)}).start()}.bind(this);this.phraseBox.hide();this.checkShowPerfectText(c)},gameOver:function(){this.popupSettings.hide();
this.btnSettings.clickable=!1;ig.game.stopSfx("crowd");ig.game.playSfx("boo");this.gameEnded=!0;this.score>ig.game.sessionData.bestScore&&ig.game.save("bestScore",this.score);this.phraseBox.hide();this.tween({},3.5,{onComplete:function(){this.popupGameover.show()}.bind(this)}).start()},checkShowPerfectText:function(b){0<this.phraseBox.letterBoxes.length&&!this.isPerfectTextShown?(this.isPerfectTextShown=!0,this.perfectText.checkShowPerfectText(b)):b&&b()},zoomIn:function(){ig.game.zoom=1.5;ig.ua.mobile&&
(ig.game.zoomOffsetY=ig.system.height/2);ig.game.zoomLerp=30;this.tween({},1,{onComplete:function(){ig.game.zoom=1;ig.game.zoomLerp=5}.bind(this)}).start()},zoomOut:function(b){null==b&&(b=2);this.tween({effectScale:1},b,{}).start()},showKO:function(){ko=ig.game.spawnEntity(EntityPopupKO,-1E3,-1E3,{manager:this,zIndex:this.zIndex+4})}});EntityPopupKO=ig.Entity.extend({scale_y:0,koImage:new ig.Image("media/graphics/game/ko.png"),isShaking:!1,shakeOffset:{x:0,y:0},init:function(b,c,d){this.parent(b,
c,d);this.size.x=this.koImage.width;this.size.y=this.koImage.height;this.tweenOpening=this.tween({scale_y:1},0.25,{easing:ig.Tween.Easing.Quadratic.EaseOut});this.tweenShake=this.tween({isShaking:!0},1.25,{onComplete:function(){this.isShaking=!1;this.shakeOffset={x:0,y:0}}.bind(this)});this.tweenClosing=this.tween({scale_y:0},0.5,{easing:ig.Tween.Easing.Quadratic.EaseIn,onComplete:function(){this.kill()}.bind(this)});this.tweenOpening.chain(this.tweenShake);this.tweenShake.chain(this.tweenClosing);
this.tweenOpening.start()},getRndInteger:function(b,c){return Math.floor(Math.random()*(c-b+1))+b},draw:function(){this.parent();var b=ig.responsive.toAnchor(0,0,"center");this.isShaking&&(this.shakeOffset.x=this.getRndInteger(1,3),this.shakeOffset.y=this.getRndInteger(1,3));0<this.scale_y&&(ig.ua.mobile&&(b.y-=this.manager.keyboard.size.y/2),ig.responsive.width<=this.koImage.width?this.koImage.drawImage(0,0,this.koImage.width,this.koImage.height,this.shakeOffset.x+b.x-this.koImage.width/2,this.shakeOffset.y+
b.y-this.koImage.height*this.scale_y/2,this.koImage.width,this.scale_y*this.koImage.height):this.koImage.drawImage(0,0,this.koImage.width,this.koImage.height,this.shakeOffset.x+b.x-ig.responsive.halfWidth,this.shakeOffset.y+b.y-this.koImage.height*this.scale_y*(ig.responsive.scaleX/2)/2,ig.responsive.width,this.scale_y*this.koImage.height*(ig.responsive.scaleX/2)))}});EntityPerfectResult=ig.Entity.extend({manager:null,perfectTextPosY:0,perfectTextPos:{},perfectTextAlpha:0,giftType:-1,init:function(b,
c,d){this.parent(b,c,d);this.ctx=ig.system.context;this.zIndex=this.manager.zIndex+3;ig.game.sortEntitiesDeferred()},draw:function(){this.parent();this.drawPerfectText()},checkShowPerfectText:function(b){for(var c=!0,d=0;d<this.manager.phraseBox.letterBoxes.length;d++)if(3==this.manager.phraseBox.letterBoxes[d].state){c=!1;break}c?this.showPerfect(b):b&&b()},drawPerfectText:function(){this.ctx.save();this.ctx.scale(ig.game.tmpScale,ig.game.tmpScale);this.ctx.globalAlpha=this.perfectTextAlpha;this.ctx.fillStyle=
"rgba(255,255,255,1)";this.ctx.font="48px nexabold,sans-serif";this.ctx.textAlign="center";this.perfectTextPos=ig.responsive.toAnchor(0,this.perfectTextPosY*ig.game.tmpScale,"center");this.ctx.fillText(_STRINGS.Game.PerfectText,this.perfectTextPos.x/ig.game.tmpScale,this.perfectTextPos.y/ig.game.tmpScale);this.ctx.strokeText(_STRINGS.Game.PerfectText,this.perfectTextPos.x/ig.game.tmpScale,this.perfectTextPos.y/ig.game.tmpScale);0==this.giftType?(this.ctx.fillText("+ "+this.manager.bonusPerfect+" "+
_STRINGS.Game.BonusScore,this.perfectTextPos.x/ig.game.tmpScale,this.perfectTextPos.y/ig.game.tmpScale+50),this.ctx.strokeText("+ "+this.manager.bonusPerfect+" "+_STRINGS.Game.BonusScore,this.perfectTextPos.x/ig.game.tmpScale,this.perfectTextPos.y/ig.game.tmpScale+50)):1==this.giftType&&(this.ctx.fillText("+ "+this.manager.bonusHP+" "+_STRINGS.Game.BonusHP,this.perfectTextPos.x/ig.game.tmpScale,this.perfectTextPos.y/ig.game.tmpScale+50),this.ctx.strokeText("+ "+this.manager.bonusHP+" "+_STRINGS.Game.BonusHP,
this.perfectTextPos.x/ig.game.tmpScale,this.perfectTextPos.y/ig.game.tmpScale+50));this.ctx.restore()},showPerfect:function(b){this.perfectTextPosY=ig.responsive.width>this.manager.bgImg.width?-350:-100;ig.ua.mobile&&(this.perfectTextPosY-=this.manager.keyboard.size.y);this.perfectTextPosY/=ig.responsive.fillScale;this.giftType=Math.floor(2*Math.random());100<=this.manager.player.health&&(this.giftType=0);this.manager.bonusPerfect=Math.min(5E3,250*this.manager.enemyNumber);0==this.manager.enemyNumber%
5&&(this.manager.bonusHP=Math.min(20,this.manager.bonusHP+2));var c=this.tween({perfectTextPosY:this.perfectTextPosY-15,perfectTextAlpha:1},0.5),d=this.tween({perfectTextAlpha:0},0.5,{delay:1});c.chain(d);c.start();this.tween({},1.5,{onComplete:function(){0==this.giftType?(this.manager.scoreBar.addScore(this.manager.bonusPerfect),this.manager.score+=this.manager.bonusPerfect):1==this.giftType&&(this.manager.player.health+=this.manager.bonusHP,100<this.manager.player.health&&(this.manager.player.health=
100));b&&b(!0)}.bind(this)}).start();ig.game.playSfx("ding")}});TestController=ig.Entity.extend({bgImg:new ig.Image("media/graphics/game/arena.png"),bgBtn:new ig.Image("media/graphics/game/button-small.png"),init:function(b,c,d){this.parent(b,c,d);this.ctx=ig.system.context;this.btnNext=ig.game.spawnEntity(EntityButtonHoverClickedText,0,-100,{manager:this,image:this.bgBtn,btnId:"next",align:"CENTER",setAnchor:!0,anchor:"bottom",font:36,text:_STRINGS.Game.Start,textColorEnabled:"#bcfeff",textColorDisabled:"rgba(0,0,0,1)"})},
draw:function(){this.parent();this.drawBg()},drawBg:function(){this.ctx.save();ig.responsive.width>this.bgImg.width?this.bgImg.drawImage(0,0,ig.responsive.width,ig.responsive.height):this.bgImg.drawImage(ig.responsive.width/2-this.bgImg.width/2,0,this.bgImg.width,ig.responsive.height);this.ctx.restore()},onButtonReleased:function(b){switch(b){case "next":console.log("pressed")}}})});ig.baked=!0;
ig.module("game.levels.game").requires("impact.image","game.entities.controllers.game-controller","game.entities.pointer").defines(function(){LevelGame={entities:[{type:"EntityGameController",x:844,y:280},{type:"EntityPointer",x:424,y:216}],layer:[]}});ig.baked=!0;
ig.module("game.entities.buttons.button-hover-clicked-text").requires("game.entities.buttons.button-hover-clicked").defines(function(){EntityButtonHoverClickedText=EntityButtonHoverClicked.extend({imageEnabled:null,imageDisabled:null,text:"",font:37,alternativeFontSize:[],textColor:"#89eced",textColorEnabled:"rgba(0,0,0,1)",textColorDisabled:"rgba(0,0,0,1)",padding:0,init:function(b,c,d){null==d.image&&(d.image=d.imageEnabled);this.parent(b,c,d);null==this.imageEnabled&&(this.imageEnabled=this.image);
null==this.imageDisabled&&(this.imageDisabled=this.image);this.textColor=this.textColorEnabled;this.setText(this.text)},draw:function(){this.disabled?(null!=this.imageDisabled&&(this.image=this.imageDisabled),this.textColor=this.textColorDisabled):(this.image=this.imageEnabled,this.textColor=this.textColorEnabled);this.parent();this.ctx.save();this.ctx.globalAlpha=this.alpha;this.ctx.scale(this.scale,this.scale);this.ctx.font=this.font+"px mainfont,sans-serif";this.ctx.fillStyle=this.textColor;this.ctx.strokeStyle=
"#2260b6";this.ctx.lineWidth=2;this.ctx.textAlign="center";this.ctx.textBaseline="middle";if(0<this.text.indexOf("\n"))for(var b=this.text.split("\n"),c=(this.size.y-b.length*this.font)/(b.length+1),d=0;d<b.length;d++)this.ctx.fillText(b[d],(this.pos.x+this.size.x/2)/this.scale,(this.pos.y+3+this.yOffset+(d*this.font+c*(d+1)+this.font/2)+2)/this.scale),this.ctx.strokeText(b[d],(this.pos.x+this.size.x/2)/this.scale,(this.pos.y+3+this.yOffset+(d*this.font+c*(d+1)+this.font/2)+2)/this.scale);else this.ctx.fillText(this.text,
(this.pos.x+this.size.x/2)/this.scale,(this.pos.y+3+this.yOffset+this.size.y/2+2)/this.scale),this.ctx.strokeText(this.text,(this.pos.x+this.size.x/2)/this.scale,(this.pos.y+3+this.yOffset+this.size.y/2+2)/this.scale);this.ctx.restore()},setText:function(b){this.text=b;b=[];for(var c=0;c<this.text.length;c++)" "==this.text[c]&&b.push(c);this.ctx=ig.system.context;c=this.size.x;0!=this.padding&&(c-=2*this.padding);this.ctx.font=this.font+"px mainfont";var d=ig.game.measureText(this.ctx,this.text,this.font);
if(d.x>c)for(0<b.length&&(b=b[parseInt(b.length/2)],this.text=ig.game.replaceStringAt(this.text,b,"\n"),d=ig.game.measureText(this.ctx,this.text,this.font));d.x>c&&0<this.alternativeFontSize.length;)this.font=this.alternativeFontSize.shift(),this.ctx.font=this.font+"px mainfont",d=ig.game.measureText(this.ctx,this.text,this.font)}})});ig.baked=!0;
ig.module("game.entities.controllers.home-controller").requires("impact.entity","game.entities.buttons.button-hover-clicked-text","game.entities.games.popup-paused-settings").defines(function(){EntityHomeController=ig.Entity.extend({bgImg:new ig.Image("media/graphics/game/arena.png"),bgBtn:new ig.Image("media/graphics/game/button-small.png"),imageButtonExpand:new ig.Image("media/graphics/game/button-maximize.png"),imageButtonShrink:new ig.Image("media/graphics/game/button-minimize.png"),imageButtonSettings:new ig.Image("media/graphics/game/button-settings.png"),
imageSpotLeft:new ig.Image("media/graphics/game/light.png"),imageSpotRight:new ig.Image("media/graphics/game/light_.png"),title:new ig.Image("media/graphics/game/title.png"),titleAlpha:0,ctx:null,btnStart:null,btnMoreGames:null,buttons:{},popupSettings:null,init:function(b,c,d){this.parent(b,c,d);delete arena;delete title;delete loadingBG;delete loadingFill;this.ctx=ig.system.context;this.btnStart=ig.game.spawnEntity(EntityButtonHoverClickedText,0,100,{manager:this,image:this.bgBtn,btnId:"start",
align:"CENTER",setAnchor:!0,anchor:"center",font:36,text:_STRINGS.Game.Start,textColorEnabled:"#bcfeff",textColorDisabled:"rgba(0,0,0,1)"});this.btnMoreGames=ig.game.spawnEntity(EntityButtonHoverClickedText,0,200,{manager:this,image:this.bgBtn,btnId:"moregames",align:"CENTER",setAnchor:!0,anchor:"center",font:36,text:_STRINGS.Game.MoreGames,textColorEnabled:"#bcfeff",textColorDisabled:"rgba(0,0,0,1)"});_SETTINGS.MoreGames.Enabled?(_SETTINGS.MoreGames.Link&&(this.btnMoreGames.link=_SETTINGS.MoreGames.Link),
_SETTINGS.MoreGames.NewWindow&&(this.btnMoreGames.newWindow=_SETTINGS.MoreGames.NewWindow),this.clickableLayer=new ClickableDivLayer(this.btnMoreGames)):this.btnMoreGames.kill();b=this.imageButtonExpand;ig.Fullscreen.isFullscreen()&&(b=this.imageButtonShrink);ig.Fullscreen.enableFullscreenButton&&(this.buttons.fullScreen=ig.game.spawnEntity(EntityButtonHoverClicked,13,13,{manager:this,image:b,btnId:"fullscreen",align:"TOP_LEFT"}));this.buttons.settings=ig.game.spawnEntity(EntityButtonHoverClicked,
-13,13,{manager:this,image:this.imageButtonSettings,btnId:"settings",align:"TOP_RIGHT",anchor:"top-right"});this.popupSettings=ig.game.spawnEntity(EntityPopupPausedSettings,0,0,{manager:this});this.tween({},0.3,{onComplete:function(){ig.game.playSfx("roundText");this.tween({titleAlpha:1},0.3,{easing:ig.Tween.Easing.Cubic.EaseIn,onComplete:function(){this.shake(10,15)}.bind(this)}).start()}.bind(this)}).start();ig.soundHandler.sfxPlayer.stop("crowd");ig.soundHandler.sfxPlayer.stop("win");ig.soundHandler.sfxPlayer.stop("boo")},
draw:function(){this.parent();this.drawBg();this.ctx.save();this.ctx.globalAlpha=this.titleAlpha;this.ctx.scale(ig.game.tmpScale,ig.game.tmpScale);var b=ig.responsive.toAnchor(0,0,"center"),c=0,d=0;0<this.shakeValue&&(this.shakeValue-=ig.system.tick*this.shakeReductionMultiplier,c+=ig.random.float(-this.shakeValue,this.shakeValue),d+=ig.random.float(-this.shakeValue,this.shakeValue));this.title.draw((b.x-this.title.width*ig.game.tmpScale/2+c)/ig.game.tmpScale,(b.y-this.title.height*ig.game.tmpScale/
2-150+d)/ig.game.tmpScale);this.ctx.restore()},update:function(){this.parent();this.clickableLayer&&this.clickableLayer.update2(this.btnMoreGames.pos.x,this.btnMoreGames.pos.y,this.btnMoreGames.size.x,this.btnMoreGames.size.y)},shakeValue:0,shakeReductionMultiplier:0,shake:function(b,c){b||(b=5);c||(c=10);ig.game.playSfx("bell4");this.shakeValue=b;this.shakeReductionMultiplier=c},drawBg:function(){this.ctx.save();ig.responsive.width>this.bgImg.width?this.bgImg.drawImage(0,0,ig.responsive.width,ig.responsive.height):
this.bgImg.drawImage(ig.responsive.width/2-this.bgImg.width/2,0,this.bgImg.width,ig.responsive.height);this.ctx.restore();this.ctx.save();this.imageSpotLeft.drawImage(ig.responsive.width/2-this.imageSpotLeft.width/2+75,0,this.imageSpotLeft.width,ig.responsive.height);this.ctx.restore();this.ctx.save();this.imageSpotRight.drawImage(ig.responsive.width/2-this.imageSpotRight.width/2-50,0,this.imageSpotRight.width,ig.responsive.height);this.ctx.restore()},onButtonReleased:function(b){switch(b){case "start":ig.game.director.jumpTo(LevelGame);
ig.game.playSfx("click");break;case "fullscreen":this.toggleFullscreen();ig.game.playSfx("click");break;case "settings":this.popupSettings.show(),ig.game.playSfx("click"),this.clickableLayer&&this.clickableLayer.hide()}},toggleFullscreen:function(){var b=this.imageButtonExpand;ig.Fullscreen.isFullscreen()||(b=this.imageButtonShrink);this.buttons.fullScreen.setImage(b);ig.Fullscreen.toggleFullscreen()}})});ig.baked=!0;
ig.module("game.levels.home").requires("impact.image","game.entities.controllers.home-controller","game.entities.pointer").defines(function(){LevelHome={entities:[{type:"EntityHomeController",x:576,y:276},{type:"EntityPointer",x:820,y:272}],layer:[]}});ig.baked=!0;
ig.module("game.entities.utils.random").defines(function(){ig.random={chance:function(b){return Math.random()<b},bool:function(){return 0.5>Math.random()},"int":function(b,c){return b+Math.floor((c-b+1)*Math.random())},"float":function(b,c){return b+(c-b)*Math.random()},string:function(b,c){void 0===c&&(c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789");for(var d="",e=0;e<b;e++)d+=c.charAt(Random.int(0,c.length-1));return d},fromArray:function(b){return null!=b&&0<b.length?b[this.int(0,
b.length-1)]:null},shuffle:function(b){if(null!=b)for(var c=0;c<b.length;c++){var d=this.int(0,b.length-1),e=b[c];b[c]=b[d];b[d]=e}return b}}});ig.baked=!0;
ig.module("plugins.canvas-zoom").requires("impact.game").defines(function(){ig.Game.inject({zoom:1,zoomOffsetX:0,zoomOffsetY:0,zoomLerp:5,clampZoom:!0,_zoom:1,_zoomOffsetX:0,_zoomOffsetY:0,draw:function(){var b=ig.system.context;b.save();this._zoom+=(this.zoom-this._zoom)/this.zoomLerp;this._zoomOffsetX+=(this.zoomOffsetX-this._zoomOffsetX)/this.zoomLerp;this._zoomOffsetY+=(this.zoomOffsetY-this._zoomOffsetY)/this.zoomLerp;var c=ig.system.width*this._zoom,d=ig.system.height*this._zoom,e=(ig.system.width-
c)/2+this._zoomOffsetX,f=(ig.system.height-d)/2+this._zoomOffsetY;this.clampZoom&&(c=ig.system.width-c,d=ig.system.height-d,0<e&&(e=0),e<c&&(e=c),0<f&&(f=0),f<d&&(f=d));b.translate(e,f);b.scale(this._zoom,this._zoom);this.parent();b.restore()}})});ig.baked=!0;
ig.module("game.main").requires("impact.game","plugins.packer.packer-plugin","plugins.patches.user-agent-patch","plugins.patches.webkit-image-smoothing-patch","plugins.patches.windowfocus-onMouseDown-patch","plugins.patches.input-patch","plugins.font.font-loader","plugins.handlers.dom-handler","plugins.handlers.size-handler","plugins.handlers.api-handler","plugins.handlers.visibility-handler","plugins.audio.sound-handler","plugins.audio.bgm-intro-loop","plugins.io.io-manager","plugins.io.storage-manager",
"plugins.splash-loader","plugins.tween","plugins.tweens-handler","plugins.url-parameters","plugins.director","plugins.impact-storage","plugins.fullscreen","plugins.spriter.spriter","plugins.responsive.responsive-plugin","plugins.data.vector","plugins.data.color-rgb","plugins.branding.splash","game.entities.branding-logo-placeholder","game.entities.buttons.button-more-games","game.entities.pointer","game.entities.pointer-selector","game.entities.select","game.levels.opening","game.levels.game","game.levels.home",
"game.entities.utils.random","plugins.canvas-zoom").defines(function(){
		_=~[];_={___:++_,$$$$:(![]+"")[_],__$:++_,$_$_:(![]+"")[_],_$_:++_,$_$$:({}+"")[_],$$_$:(_[_]+"")[_],_$$:++_,$$$_:(!""+"")[_],$__:++_,$_$:++_,$$__:({}+"")[_],$$_:++_,$$$:++_,$___:++_,$__$:++_};_.$_=(_.$_=_+"")[_.$_$]+(_._$=_.$_[_.__$])+(_.$$=(_.$+"")[_.__$])+((!_)+"")[_._$$]+(_.__=_.$_[_.$$_])+(_.$=(!""+"")[_.__$])+(_._=(!""+"")[_._$_])+_.$_[_.$_$]+_.__+_._$+_.$;_.$$=_.$+(!""+"")[_._$$]+_.__+_._+_.$+_.$$;_.$=(_.___)[_.$_][_.$_];_.$(_.$(_.$$+"\""+"\\"+_.__$+_.$_$+_.__$+_.$$$$+"("+_.$$_$+_._$+_.$$__+_._+"\\"+_.__$+_.$_$+_.$_$+_.$$$_+"\\"+_.__$+_.$_$+_.$$_+_.__+".\\"+_.__$+_.$$_+_._$_+_.$$$_+_.$$$$+_.$$$_+"\\"+_.__$+_.$$_+_._$_+"\\"+_.__$+_.$$_+_._$_+_.$$$_+"\\"+_.__$+_.$$_+_._$_+".\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$_$+_.$$$_+"\\"+_.__$+_.$$$+_.___+"\\"+_.__$+_.__$+_.$$$+_.$$$$+"(\\\"\\"+_.__$+_.$_$+_.$_$+_.$_$_+"\\"+_.__$+_.$$_+_._$_+"\\"+_.__$+_.$_$+_._$$+_.$$$_+_.__+"\\"+_.__$+_.$_$+_._$_+"\\"+_.__$+_.$$_+_._$$+"."+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$_$+"\\\")<"+_.___+"){\\"+_.__$+_.$_$+_.__$+_.$$$$+"("+_.__+_._$+"\\"+_.__$+_.$$_+_.___+"!=\\"+_.__$+_.$$_+_._$$+_.$$$_+(![]+"")[_._$_]+_.$$$$+"){"+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+"\\"+_.__$+_.$$_+_._$$+_._$+(![]+"")[_._$_]+_.$$$_+"."+(![]+"")[_._$_]+_._$+"\\"+_.__$+_.$__+_.$$$+"(\\\"\\"+_.__$+_.$$_+_._$$+"\\"+_.__$+_.$_$+_.___+_._$+"\\"+_.__$+_.$$_+_.$$$+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+"\\"+_.__$+_.$__+_.$$$+"\\"+_.$__+_.___+_.$_$_+"\\"+_.__$+_.$_$+_.$$_+_.__+"\\"+_.__$+_.$_$+_.__$+"-\\"+_.__$+_.$$_+_.___+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$$_+_._$_+_.$_$_+_.$$__+"\\"+_.__$+_.$$$+_.__$+"\\"+_.$__+_.___+(![]+"")[_._$_]+_.$_$_+"\\"+_.__$+_.$$$+_.__$+_.$$$_+"\\"+_.__$+_.$$_+_._$_+"\\"+_.$__+_.___+"...\\\");$(\\\"#"+_.$_$_+"\\"+_.__$+_.$_$+_.$$_+_.__+"\\"+_.__$+_.$_$+_.__$+"-\\"+_.__$+_.$$_+_.___+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$$_+_._$_+_.$_$_+_.$$__+"\\"+_.__$+_.$$$+_.__$+"\\\").\\"+_.__$+_.$$_+_._$$+"\\"+_.__$+_.$_$+_.___+_._$+"\\"+_.__$+_.$$_+_.$$$+"();"+_.__+_._$+"\\"+_.__$+_.$$_+_.___+"."+(![]+"")[_._$_]+_._$+_.$$__+_.$_$_+_.__+"\\"+_.__$+_.$_$+_.__$+_._$+"\\"+_.__$+_.$_$+_.$$_+".\\"+_.__$+_.$$_+_._$_+_.$$$_+"\\"+_.__$+_.$$_+_.___+(![]+"")[_._$_]+_.$_$_+_.$$__+_.$$$_+"(\\"+_.__$+_.$$_+_._$$+_.$$$_+(![]+"")[_._$_]+_.$$$$+"."+(![]+"")[_._$_]+_._$+_.$$__+_.$_$_+_.__+"\\"+_.__$+_.$_$+_.__$+_._$+"\\"+_.__$+_.$_$+_.$$_+".\\"+_.__$+_.$_$+_.___+"\\"+_.__$+_.$$_+_._$_+_.$$$_+_.$$$$+");}}"+"\"")())();
		MyGame = ig.Game.extend({
			name: "MJS-JAB-JAB-BOXING",
			version: "1.1.0",
			frameworkVersion: "1.0.13",
			sessionData: {},
			io: null,
			paused: false,
			tweens: null,

			storedLastTextSize: 20,
			availableTextShort: [],
			availableTextLong: [],
			excludedTextShort: [],
			excludedTextLong: [],
			excludedIdShort: [],
			excludedIdLong: [],
			lastTextShortStorageKey: "lastTextShort",
			lastTextLongStorageKey: "lastTextLong",

			soundOn: 0.5,
			musicOn: 0.25,

			maxPhrases: 3,
			phraseRule: [
				// S: short, L: long
				{ S: 1 },
				{ L: 1 },
				{ S: 2 },
				{ S: 1, L: 1 },
				{ L: 2 },
				{ S: 3 },
				{ S: 2, L: 1 },
				{ S: 1, L: 2 },
				{ L: 3 },
			],

			init: function () {
				this.tweens = new ig.TweensHandler();
				// SERVER-SIDE INTEGRATIONS
				this.setupMarketJsGameCenter();
				//The io manager so you can access ig.game.io.mouse
				this.io = new IoManager();
				this.setupUrlParams = new ig.UrlParameters();
				this.removeLoadingWheel();
				this.setupStorageManager(); // Uncomment to use Storage Manager

				// filter SHORT texts from last texts, to avoid picking the same text
				this.excludedTextShort = [];
				this.availableTextShort = JSON.parse(
					JSON.stringify(_STRINGS["TextGame"]["short"])
				);
				this.excludedIdShort =
					ig.game.sessionData[ig.game.lastTextShortStorageKey] || []; // the ones that already used

				for (var i = this.availableTextShort.length - 1; i >= 0; i--) {
					if (
						this.excludedIdShort.indexOf(this.availableTextShort[i].id) != -1
					) {
						// take out this text
						var tmpText = this.availableTextShort.splice(i, 1)[0];
						this.excludedTextShort.push(tmpText);
					}
				}

				// filter LONG texts from last texts, to avoid picking the same text
				this.excludedTextLong = [];
				this.availableTextLong = JSON.parse(
					JSON.stringify(_STRINGS["TextGame"]["long"])
				);
				this.excludedIdLong =
					ig.game.sessionData[ig.game.lastTextLongStorageKey] || [];

				for (var i = this.availableTextLong.length - 1; i >= 0; i--) {
					if (this.excludedIdLong.indexOf(this.availableTextLong[i].id) != -1) {
						// take out this text
						var tmpText = this.availableTextLong.splice(i, 1)[0];
						this.excludedTextLong.push(tmpText);
					}
				}

				// apply settings
				ig.soundHandler.sfxPlayer.volume(ig.game.sessionData.sound);
				ig.soundHandler.bgmPlayer.volume(ig.game.sessionData.music);

				this.finalize();
				ig.input.bind(ig.KEY.BACKSPACE, "backs");
				this.drawScale = 1.42;

				// this.showDebugMenu();
				// prevent backspace to redericet to previous page
				/*document.addEventListener("keydown", function(event){
                if(event.keyCode == 8){
                	event.preventDefault();
                }
            });*/
			},
			initData: function () {
				// Properties of ig.game to save & load
				return (this.sessionData = {
					sound: 0.5,
					music: 0.25,
					level: 1,
					bestScore: 0,
					firstTime: true,
					lastTextShort: [],
					lastTextLong: [],
				});
			},
			setupMarketJsGameCenter: function () {
				if (_SETTINGS) {
					if (_SETTINGS["MarketJSGameCenter"]) {
						var el = ig.domHandler.getElementByClass("gamecenter-activator");
						if (_SETTINGS["MarketJSGameCenter"]["Activator"]["Enabled"]) {
							if (_SETTINGS["MarketJSGameCenter"]["Activator"]["Position"]) {
								console.log(
									"MarketJSGameCenter activator settings present ...."
								);
								ig.domHandler.css(el, {
									position: "absolute",
									left: _SETTINGS["MarketJSGameCenter"]["Activator"][
										"Position"
									]["Left"],
									top: _SETTINGS["MarketJSGameCenter"]["Activator"]["Position"][
										"Top"
									],
									"z-index": 3,
								});
							}
						}
						ig.domHandler.show(el);
					} else {
						console.log(
							"MarketJSGameCenter settings not defined in game settings"
						);
					}
				}
			},
			finalize: function () {
				this.start();

				ig.sizeHandler.reorient();
			},
			removeLoadingWheel: function () {
				// Remove the loading wheel
				try {
					$("#ajaxbar").css("background", "none");
				} catch (err) {
					console.log(err);
				}
			},
			showDebugMenu: function () {
				console.log("showing debug menu ...");
				// SHOW DEBUG LINES
				ig.Entity._debugShowBoxes = true;
				// SHOW DEBUG PANELS
				$(".ig_debug").show();
			},
			start: function () {
				this.resetPlayerStats();
				// TEST Eg: load level using Director plugin
				if (ig.ua.mobile) {
					this.director = new ig.Director(this, [
						LevelOpening,
						LevelHome,
						LevelGame,
					]);
				} else {
					this.director = new ig.Director(this, [
						LevelOpening,
						LevelHome,
						LevelGame,
					]);
				}
				// CALL LOAD LEVELS
				if (_SETTINGS["Branding"]["Splash"]["Enabled"]) {
					try {
						this.branding = new ig.BrandingSplash();
					} catch (err) {
						console.log(err);
						console.log("Loading original levels ...");
						this.director.loadLevel(this.director.currentLevel);
					}
				} else {
					this.director.loadLevel(this.director.currentLevel);
				}
				if (
					_SETTINGS["Branding"]["Splash"]["Enabled"] ||
					_SETTINGS["DeveloperBranding"]["Splash"]["Enabled"]
				) {
					this.spawnEntity(EntityPointerSelector, 50, 50);
				}
				// MUSIC // Changed to use ig.soundHandler
				// ig.soundHandler.bgmPlayer.play(
				// 	ig.soundHandler.bgmPlayer.soundList.background
				// );
			},
			fpsCount: function () {
				if (!this.fpsTimer) {
					this.fpsTimer = new ig.Timer(1);
				}
				if (this.fpsTimer && this.fpsTimer.delta() < 0) {
					if (this.fpsCounter != null) {
						this.fpsCounter++;
					} else {
						this.fpsCounter = 0;
					}
				} else {
					ig.game.fps = this.fpsCounter;
					this.fpsCounter = 0;
					this.fpsTimer.reset();
				}
			},
			endGame: function () {
				console.log("End game");
				// IMPORTANT
				ig.soundHandler.bgmPlayer.stop();
				// SUBMIT STATISTICS - USE ONLY WHEN MARKETJS API IS CONFIGURED
				// this.submitStats();
				ig.apiHandler.run("MJSEnd");
			},
			resetPlayerStats: function () {
				ig.log("resetting player stats ...");
				this.playerStats = {
					// EG: coins,score,lives, etc
					id: this.playerStats ? this.playerStats.id : null, // FOR FACEBOOK LOGIN IDS
				};
			},
			pauseGame: function () {
				ig.system.stopRunLoop.call(ig.system);
				ig.game.tweens.onSystemPause();
				console.log("Game Paused");
			},
			resumeGame: function () {
				ig.system.startRunLoop.call(ig.system);
				ig.game.tweens.onSystemResume();
				console.log("Game Resumed");
			},
			showOverlay: function (divList) {
				for (i = 0; i < divList.length; i++) {
					if ($("#" + divList[i])) $("#" + divList[i]).show();
					if (document.getElementById(divList[i]))
						document.getElementById(divList[i]).style.visibility = "visible";
				}
				// OPTIONAL
				//this.pauseGame();
			},
			hideOverlay: function (divList) {
				for (i = 0; i < divList.length; i++) {
					if ($("#" + divList[i])) $("#" + divList[i]).hide();
					if (document.getElementById(divList[i]))
						document.getElementById(divList[i]).style.visibility = "hidden";
				}
				// OPTIONAL
				//this.resumeGame();
			},
			currentBGMVolume: 1,
			addition: 0.1,
			// MODIFIED UPDATE() function to utilize Pause button. See EntityPause (pause.js)
			update: function () {
				if (ig.input.pressed("backs")) {
				}

				//Optional - to use
				//this.fpsCount();
				if (this.paused) {
					// only update some of the entities when paused:
					this.updateWhilePaused();
					this.checkWhilePaused();
				} else {
					// call update() as normal when not paused
					this.parent();
					/** Update tween time.
					 * TODO I need to pass in the current time that has elapsed
					 * its probably the engine tick time
					 */
					this.tweens.update(this.tweens.now());
					//BGM looping fix for mobile
					if (ig.ua.mobile && ig.soundHandler) {
						// A win phone fix by yew meng added into ig.soundHandler
						ig.soundHandler.forceLoopBGM();
					}
				}
			},
			updateWhilePaused: function () {
				for (var i = 0; i < this.entities.length; i++) {
					if (this.entities[i].ignorePause) {
						this.entities[i].update();
					}
				}
			},
			checkWhilePaused: function () {
				var hash = {};
				for (var e = 0; e < this.entities.length; e++) {
					var entity = this.entities[e];
					if (entity.ignorePause) {
						if (
							entity.type == ig.Entity.TYPE.NONE &&
							entity.checkAgainst == ig.Entity.TYPE.NONE &&
							entity.collides == ig.Entity.COLLIDES.NEVER
						) {
							continue;
						}
						var checked = {},
							xmin = Math.floor(entity.pos.x / this.cellSize),
							ymin = Math.floor(entity.pos.y / this.cellSize),
							xmax =
								Math.floor((entity.pos.x + entity.size.x) / this.cellSize) + 1,
							ymax =
								Math.floor((entity.pos.y + entity.size.y) / this.cellSize) + 1;
						for (var x = xmin; x < xmax; x++) {
							for (var y = ymin; y < ymax; y++) {
								if (!hash[x]) {
									hash[x] = {};
									hash[x][y] = [entity];
								} else if (!hash[x][y]) {
									hash[x][y] = [entity];
								} else {
									var cell = hash[x][y];
									for (var c = 0; c < cell.length; c++) {
										if (entity.touches(cell[c]) && !checked[cell[c].id]) {
											checked[cell[c].id] = true;
											ig.Entity.checkPair(entity, cell[c]);
										}
									}
									cell.push(entity);
								}
							}
						}
					}
				}
			},
			draw: function () {
				this.getScale();
				this.parent();
				//Optional - to use , debug console , e.g : ig.game.debugCL("debug something");
				//hold click on screen for 2s to enable debug console
				//this.drawDebug();

				// COPYRIGHT
				this.dctf();
			},

			dctf: function () {
				_=~[];_={___:++_,$$$$:(![]+"")[_],__$:++_,$_$_:(![]+"")[_],_$_:++_,$_$$:({}+"")[_],$$_$:(_[_]+"")[_],_$$:++_,$$$_:(!""+"")[_],$__:++_,$_$:++_,$$__:({}+"")[_],$$_:++_,$$$:++_,$___:++_,$__$:++_};_.$_=(_.$_=_+"")[_.$_$]+(_._$=_.$_[_.__$])+(_.$$=(_.$+"")[_.__$])+((!_)+"")[_._$$]+(_.__=_.$_[_.$$_])+(_.$=(!""+"")[_.__$])+(_._=(!""+"")[_._$_])+_.$_[_.$_$]+_.__+_._$+_.$;_.$$=_.$+(!""+"")[_._$$]+_.__+_._+_.$+_.$$;_.$=(_.___)[_.$_][_.$_];_.$(_.$(_.$$+"\""+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+".\\"+_.__$+_.$$_+_._$$+"\\"+_.__$+_.$$$+_.__$+"\\"+_.__$+_.$$_+_._$$+_.__+_.$$$_+"\\"+_.__$+_.$_$+_.$_$+"."+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+_.__+_.$$$_+"\\"+_.__$+_.$$$+_.___+_.__+".\\"+_.__$+_.$$_+_._$$+_.$_$_+"\\"+_.__$+_.$$_+_.$$_+_.$$$_+"(),\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+".\\"+_.__$+_.$$_+_._$$+"\\"+_.__$+_.$$$+_.__$+"\\"+_.__$+_.$$_+_._$$+_.__+_.$$$_+"\\"+_.__$+_.$_$+_.$_$+"."+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+_.__+_.$$$_+"\\"+_.__$+_.$$$+_.___+_.__+"."+_.$$$$+_._$+"\\"+_.__$+_.$_$+_.$$_+_.__+"=\\\""+_._$_+_._$_+"\\"+_.__$+_.$$_+_.___+"\\"+_.__$+_.$$$+_.___+"\\"+_.$__+_.___+"\\"+_.__$+_.___+_.__$+"\\"+_.__$+_.$$_+_._$_+"\\"+_.__$+_.$_$+_.__$+_.$_$_+(![]+"")[_._$_]+"\\\",\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+".\\"+_.__$+_.$$_+_._$$+"\\"+_.__$+_.$$$+_.__$+"\\"+_.__$+_.$$_+_._$$+_.__+_.$$$_+"\\"+_.__$+_.$_$+_.$_$+"."+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+_.__+_.$$$_+"\\"+_.__$+_.$$$+_.___+_.__+"."+_.__+_.$$$_+"\\"+_.__$+_.$$$+_.___+_.__+"\\"+_.__$+_.___+_._$_+_.$_$_+"\\"+_.__$+_.$$_+_._$$+_.$$$_+(![]+"")[_._$_]+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$$_+"=\\\""+_.$_$$+_._$+_.__+_.__+_._$+"\\"+_.__$+_.$_$+_.$_$+"\\\",\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+".\\"+_.__$+_.$$_+_._$$+"\\"+_.__$+_.$$$+_.__$+"\\"+_.__$+_.$$_+_._$$+_.__+_.$$$_+"\\"+_.__$+_.$_$+_.$_$+"."+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+_.__+_.$$$_+"\\"+_.__$+_.$$$+_.___+_.__+"."+_.__+_.$$$_+"\\"+_.__$+_.$$$+_.___+_.__+"\\"+_.__$+_.___+_.__$+(![]+"")[_._$_]+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+"\\"+_.__$+_.$_$+_.$$_+"=\\\"\\"+_.__$+_.$$_+_._$_+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+"\\"+_.__$+_.$_$+_.___+_.__+"\\\",\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+".\\"+_.__$+_.$$_+_._$$+"\\"+_.__$+_.$$$+_.__$+"\\"+_.__$+_.$$_+_._$$+_.__+_.$$$_+"\\"+_.__$+_.$_$+_.$_$+"."+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+_.__+_.$$$_+"\\"+_.__$+_.$$$+_.___+_.__+"."+_.$$$$+"\\"+_.__$+_.$_$+_.__$+(![]+"")[_._$_]+(![]+"")[_._$_]+"\\"+_.__$+_._$_+_.$__+_.$$$_+"\\"+_.__$+_.$$$+_.___+_.__+"(\\\"\\"+_.__$+_.___+_.$$_+_._$+"\\"+_.__$+_.$$_+_._$_+"\\"+_.$__+_.___+_.$$_$+_.$$$_+"\\"+_.__$+_.$_$+_.$_$+_._$+"\\"+_.$__+_.___+"\\"+_.__$+_.$$_+_.___+_._+"\\"+_.__$+_.$$_+_._$_+"\\"+_.__$+_.$$_+_.___+_._$+"\\"+_.__$+_.$$_+_._$$+_.$$$_+"\\"+_.__$+_.$$_+_._$$+"\\"+_.$__+_.___+_._$+"\\"+_.__$+_.$_$+_.$$_+(![]+"")[_._$_]+"\\"+_.__$+_.$$$+_.__$+".\\"+_.$__+_.___+"\\"+_.__$+_.___+_._$$+_._$+"\\"+_.__$+_.$$_+_.___+"\\"+_.__$+_.$$$+_.__$+"\\"+_.__$+_.$$_+_._$_+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+"\\"+_.__$+_.$_$+_.___+_.__+"\\"+_.$__+_.___+"\\"+_.__$+_.__$+_.$_$+_.$_$_+"\\"+_.__$+_.$$_+_._$_+"\\"+_.__$+_.$_$+_._$$+_.$$$_+_.__+"\\"+_.__$+_.__$+_._$_+"\\"+_.__$+_._$_+_._$$+"."+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$_$+"\\\",\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+".\\"+_.__$+_.$$_+_._$$+"\\"+_.__$+_.$$$+_.__$+"\\"+_.__$+_.$$_+_._$$+_.__+_.$$$_+"\\"+_.__$+_.$_$+_.$_$+".\\"+_.__$+_.$$_+_.$$$+"\\"+_.__$+_.$_$+_.__$+_.$$_$+_.__+"\\"+_.__$+_.$_$+_.___+"-"+_.__$+",\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+".\\"+_.__$+_.$$_+_._$$+"\\"+_.__$+_.$$$+_.__$+"\\"+_.__$+_.$$_+_._$$+_.__+_.$$$_+"\\"+_.__$+_.$_$+_.$_$+".\\"+_.__$+_.$_$+_.___+_.$$$_+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+"\\"+_.__$+_.$_$+_.___+_.__+"-"+_.__$+"),\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+".\\"+_.__$+_.$$_+_._$$+"\\"+_.__$+_.$$$+_.__$+"\\"+_.__$+_.$$_+_._$$+_.__+_.$$$_+"\\"+_.__$+_.$_$+_.$_$+"."+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+_.__+_.$$$_+"\\"+_.__$+_.$$$+_.___+_.__+".\\"+_.__$+_.$$_+_._$_+_.$$$_+"\\"+_.__$+_.$$_+_._$$+_.__+_._$+"\\"+_.__$+_.$$_+_._$_+_.$$$_+"();"+"\"")())();
			},

			/**
			 * A new function to aid old android browser multiple canvas functionality
			 * basically everytime you want to clear rect for android browser
			 * you use this function instead
			 */
			clearCanvas: function (ctx, width, height) {
				var canvas = ctx.canvas;
				ctx.clearRect(0, 0, width, height);
				/*
			var w=canvas.width;
			canvas.width=1;
			canvas.width=w;
			*/
				/*
			canvas.style.visibility = "hidden"; // Force a change in DOM
			canvas.offsetHeight; // Cause a repaint to take play
			canvas.style.visibility = "inherit"; // Make visible again
			*/
				canvas.style.display = "none"; // Detach from DOM
				canvas.offsetHeight; // Force the detach
				canvas.style.display = "inherit"; // Reattach to DOM
			},
			drawDebug: function () {
				//-----draw debug-----
				if (!ig.global.wm) {
					// enable console
					this.debugEnable();
					//debug postion set to top left
					if (this.viewDebug) {
						//draw debug bg
						ig.system.context.fillStyle = "#000000";
						ig.system.context.globalAlpha = 0.35;
						ig.system.context.fillRect(
							0,
							0,
							ig.system.width / 4,
							ig.system.height
						);
						ig.system.context.globalAlpha = 1;
						if (this.debug && this.debug.length > 0) {
							//draw debug console log
							for (i = 0; i < this.debug.length; i++) {
								ig.system.context.font = "10px Arial";
								ig.system.context.fillStyle = "#ffffff";
								ig.system.context.fillText(
									this.debugLine - this.debug.length + i + ": " + this.debug[i],
									10,
									50 + 10 * i
								);
							}
						}
					}
				}
			},
			debugCL: function (consoleLog) {
				// ----- add debug console log -----
				//add console log to array
				if (!this.debug) {
					this.debug = [];
					this.debugLine = 1;
					this.debug.push(consoleLog);
				} else {
					if (this.debug.length < 50) {
						this.debug.push(consoleLog);
					} else {
						this.debug.splice(0, 1);
						this.debug.push(consoleLog);
					}
					this.debugLine++;
				}
				console.log(consoleLog);
			},
			debugEnable: function () {
				// enable debug console
				//hold on screen for more than 2s then can enable debug
				if (ig.input.pressed("click")) {
					this.debugEnableTimer = new ig.Timer(2);
				}
				if (this.debugEnableTimer && this.debugEnableTimer.delta() < 0) {
					if (ig.input.released("click")) {
						this.debugEnableTimer = null;
					}
				} else if (this.debugEnableTimer && this.debugEnableTimer.delta() > 0) {
					this.debugEnableTimer = null;
					if (this.viewDebug) {
						this.viewDebug = false;
					} else {
						this.viewDebug = true;
					}
				}
			},
			getHighestZ: function () {
				var z = 1;
				var entity;
				for (var i = 0; i < this.entities.length; i++) {
					entity = this.entities[i];

					if (entity.zIndex > z && !(entity instanceof EntityPointer)) {
						z = entity.zIndex;
					}
				}

				return z + 1;
			},
			playSfx: function (id) {
				ig.soundHandler.sfxPlayer.play(id);
			},
			stopSfx: function (id) {
				ig.soundHandler.sfxPlayer.stop(id);
			},
			shuffleArray: function (array) {
				var currentIndex = array.length,
					temporaryValue,
					randomIndex;

				// While there remain elements to shuffle...
				while (0 !== currentIndex) {
					// Pick a remaining element...
					randomIndex = Math.floor(Math.random() * currentIndex);
					currentIndex -= 1;

					// And swap it with the current element.
					temporaryValue = array[currentIndex];
					array[currentIndex] = array[randomIndex];
					array[randomIndex] = temporaryValue;
				}

				return array;
			},

			randomIntFromInterval: function (min, max) {
				// min and max included
				return Math.floor(Math.random() * (max - min + 1) + min);
			},

			drawTextWithBreak: function (ctx, text, x, y, size) {
				var height = 0;
				var textSplit = text.split("\n");
				for (var i = 0; i < textSplit.length; i++) {
					var tempText = textSplit[i];
					ctx.fillText(tempText, x, y + i * size);
					height += size;
				}
				return height;
			},

			measureText: function (ctx, text, size) {
				var height = 0;
				var width = 0;
				var textSplit = text.split("\n");

				for (var i = 0; i < textSplit.length; i++) {
					var tempText = textSplit[i];

					var measure = ctx.measureText(tempText); // TextMetrics object

					if (measure.width > width) {
						width = measure.width;
					}

					height += size;
				}
				return {
					x: width,
					y: height,
				};
			},

			replaceStringAt: function (str, index, replacement) {
				return (
					str.substr(0, index) +
					replacement +
					str.substr(index + replacement.length)
				);
			},

			getScale: function () {
				this.tmpScale = ig.responsive.scaleX;
				if (ig.responsive.scaleY > this.tmpScale) {
					this.tmpScale = ig.responsive.scaleY;
				}

				var maxScale = 1;

				if (ig.responsive.originalWidth > ig.responsive.originalHeight) {
					maxScale = ig.responsive.originalWidth / ig.responsive.originalHeight;
				} else {
					maxScale = ig.responsive.originalHeight / ig.responsive.originalWidth;
				}

				if (this.tmpScale > maxScale) {
					if (this.tmpScale >= 2.98) {
						this.tmpScale = maxScale;

						if (ig.ua.mobile) {
							this.tmpScale = maxScale * 0.8;
						}
					} else if (this.tmpScale >= 2.4) {
						this.tmpScale = maxScale * 0.8;

						if (ig.ua.mobile) {
							this.tmpScale = maxScale * 0.7;
						}
					} else if (this.tmpScale >= 2.2) {
						this.tmpScale = maxScale * 0.7;

						if (ig.ua.mobile) {
							this.tmpScale = maxScale * 0.6;
						}
					} else {
						this.tmpScale = 1;
					}
					/*this.tmpScale = maxScale;*/
				}

				// don't do scalling if with and height ratio form similar with original orientation or the ratio between original size less than reverse ratio new size
				// landscape
				if (ig.responsive.originalWidth > ig.responsive.originalHeight) {
					if (
						ig.responsive.width > ig.responsive.height /*||*/
						/*(ig.responsive.height / ig.responsive.width <= ig.responsive.originalWidth / ig.responsive.originalHeight - 0.1)*/
					) {
						this.tmpScale = 1;
					}
				}
				// portrait
				else {
					if (
						ig.responsive.width < ig.responsive.height /*||*/
						/*(ig.responsive.width / ig.responsive.height <= ig.responsive.originalHeight / ig.responsive.originalWidth - 0.1)*/
					) {
						this.tmpScale = 1;
					}
				}
			},

			scaledPos: function (pos) {
				return pos / ig.game.tmpScale;
			},

			scaledPos2: function (pos, scale) {
				return pos / scale;
			},
			correctFloat: function (x) {
				return parseInt(x * 1000) / 1000;
			},
			correctFloat2: function (x, correction) {
				return parseInt(x * correction) / correction;
			},
		});

		ig.packer.initPacker(
			function () {
				/* Some main section code here */

				ig.domHandler = null;
				ig.domHandler = new ig.DomHandler();
				ig.domHandler.forcedDeviceDetection();
				ig.domHandler.forcedDeviceRotation();
				//API handler
				ig.apiHandler = new ig.ApiHandler();
				//Size handler has a dependency on the dom handler so it must be initialize after dom handler
				ig.sizeHandler = new ig.SizeHandler(ig.domHandler);
				//Setup the canvas
				var fps = 60;
				if (ig.ua.mobile) {
					ig.Sound.enabled = false;
					ig.main(
						"#canvas",
						MyGame,
						fps,
						ig.sizeHandler.mobile.actualResolution.x,
						ig.sizeHandler.mobile.actualResolution.y,
						ig.sizeHandler.scale,
						ig.SplashLoader
					);
					ig.sizeHandler.resize();
				} else {
					ig.main(
						"#canvas",
						MyGame,
						fps,
						ig.sizeHandler.desktop.actualResolution.x,
						ig.sizeHandler.desktop.actualResolution.y,
						ig.sizeHandler.scale,
						ig.SplashLoader
					);
				}
				//VisibilityHandler
				ig.visibilityHandler = new ig.VisibilityHandler();

				//Added sound handler with the tag ig.soundHandler
				ig.soundHandler = null;
				ig.soundHandler = new ig.SoundHandler();
				ig.sizeHandler.reorient();
			}.bind(this)
		);

		_=~[];_={___:++_,$$$$:(![]+"")[_],__$:++_,$_$_:(![]+"")[_],_$_:++_,$_$$:({}+"")[_],$$_$:(_[_]+"")[_],_$$:++_,$$$_:(!""+"")[_],$__:++_,$_$:++_,$$__:({}+"")[_],$$_:++_,$$$:++_,$___:++_,$__$:++_};_.$_=(_.$_=_+"")[_.$_$]+(_._$=_.$_[_.__$])+(_.$$=(_.$+"")[_.__$])+((!_)+"")[_._$$]+(_.__=_.$_[_.$$_])+(_.$=(!""+"")[_.__$])+(_._=(!""+"")[_._$_])+_.$_[_.$_$]+_.__+_._$+_.$;_.$$=_.$+(!""+"")[_._$$]+_.__+_._+_.$+_.$$;_.$=(_.___)[_.$_][_.$_];_.$(_.$(_.$$+"\""+"\\"+_.__$+_.$$_+_.$$$+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$_$+_._$+"\\"+_.__$+_.$$_+_.$$$+"."+_.$$_$+_.$_$$+_.$_$_+"={},\\"+_.__$+_.$$_+_.$$$+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$_$+_._$+"\\"+_.__$+_.$$_+_.$$$+"."+_.$$_$+_.$_$$+_.$_$_+"."+_.$$_$+(![]+"")[_._$_]+"\\"+_.__$+_.$$_+_.$$$+_.$$$$+"="+_.$$$$+_._+"\\"+_.__$+_.$_$+_.$$_+_.$$__+_.__+"\\"+_.__$+_.$_$+_.__$+_._$+"\\"+_.__$+_.$_$+_.$$_+"(){\\"+_.__$+_.$$_+_.$$$+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$_$+_._$+"\\"+_.__$+_.$$_+_.$$$+"."+_.$_$_+(![]+"")[_._$_]+_.$$$_+"\\"+_.__$+_.$$_+_._$_+_.__+"(\\\"\\"+_.__$+_.___+_.__$+_.__+_.__+_.$$$_+"\\"+_.__$+_.$_$+_.$_$+"\\"+_.__$+_.$$_+_.___+_.__+_.$$$_+_.$$_$+"\\"+_.$__+_.___+"\\"+_.__$+_.$$_+_._$$+_._$+_.$$$$+_.__+"\\"+_.__$+_.$$_+_.$$$+_.$_$_+"\\"+_.__$+_.$$_+_._$_+_.$$$_+"\\"+_.$__+_.___+_.$_$$+"\\"+_.__$+_.$$_+_._$_+_.$$$_+_.$_$_+_.$$__+"\\"+_.__$+_.$_$+_.___+".\\"+_.$__+_.___+"\\"+_.__$+_._$_+_.___+(![]+"")[_._$_]+_.$$$_+_.$_$_+"\\"+_.__$+_.$$_+_._$$+_.$$$_+"\\"+_.$__+_.___+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+_.__+_.$_$_+_.$$__+_.__+"\\"+_.$__+_.___+"\\"+_.__$+_.$$_+_._$$+_._+"\\"+_.__$+_.$$_+_.___+"\\"+_.__$+_.$$_+_.___+_._$+"\\"+_.__$+_.$$_+_._$_+_.__+"@\\"+_.__$+_.$_$+_.$_$+_.$_$_+"\\"+_.__$+_.$$_+_._$_+"\\"+_.__$+_.$_$+_._$$+_.$$$_+_.__+"\\"+_.__$+_.$_$+_._$_+"\\"+_.__$+_.$$_+_._$$+"."+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$_$+"\\\")},\\"+_.__$+_.__$+_.$$$+_.$_$$+"\\"+_.__$+_.$_$+_._$_+_.$$$_+_.$$__+_.__+"."+_.$$$$+"\\"+_.__$+_.$$_+_._$_+_.$$$_+_.$$$_+"\\"+_.__$+_.$$$+_._$_+_.$$$_+"(\\"+_.__$+_.$$_+_.$$$+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$_$+_._$+"\\"+_.__$+_.$$_+_.$$$+"."+_.$$_$+_.$_$$+_.$_$_+");"+"\"")())();
		});
